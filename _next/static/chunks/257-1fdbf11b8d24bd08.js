(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[257],{9770:function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(e,"__esModule",{value:!0});var i,o,a=r(n(9499)),s=r(n(2177)),u=r(n(3776)),c=r(n(3302)),l=r(n(2447)),d=n(6465);(i=e.TradeType||(e.TradeType={}))[i.EXACT_INPUT=0]="EXACT_INPUT",i[i.EXACT_OUTPUT=1]="EXACT_OUTPUT",(o=e.Rounding||(e.Rounding={}))[o.ROUND_DOWN=0]="ROUND_DOWN",o[o.ROUND_HALF_UP=1]="ROUND_HALF_UP",o[o.ROUND_UP=2]="ROUND_UP";var f,h,p=a.BigInt("0xffffffffffffffffffffffffffffffff");function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return e&&m(t.prototype,e),n&&m(t,n),t}function g(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var v=l(u),w=l(c),b=((f={})[e.Rounding.ROUND_DOWN]=v.ROUND_DOWN,f[e.Rounding.ROUND_HALF_UP]=v.ROUND_HALF_UP,f[e.Rounding.ROUND_UP]=v.ROUND_UP,f),_=((h={})[e.Rounding.ROUND_DOWN]=0,h[e.Rounding.ROUND_HALF_UP]=1,h[e.Rounding.ROUND_UP]=3,h),A=function(){function t(t,e){void 0===e&&(e=a.BigInt(1)),this.numerator=a.BigInt(t),this.denominator=a.BigInt(e)}t.tryParseFraction=function(e){if(e instanceof a||"number"==typeof e||"string"==typeof e)return new t(e);if("numerator"in e&&"denominator"in e)return e;throw new Error("Could not parse fraction")};var n=t.prototype;return n.invert=function(){return new t(this.denominator,this.numerator)},n.add=function(e){var n=t.tryParseFraction(e);return a.equal(this.denominator,n.denominator)?new t(a.add(this.numerator,n.numerator),this.denominator):new t(a.add(a.multiply(this.numerator,n.denominator),a.multiply(n.numerator,this.denominator)),a.multiply(this.denominator,n.denominator))},n.subtract=function(e){var n=t.tryParseFraction(e);return a.equal(this.denominator,n.denominator)?new t(a.subtract(this.numerator,n.numerator),this.denominator):new t(a.subtract(a.multiply(this.numerator,n.denominator),a.multiply(n.numerator,this.denominator)),a.multiply(this.denominator,n.denominator))},n.lessThan=function(e){var n=t.tryParseFraction(e);return a.lessThan(a.multiply(this.numerator,n.denominator),a.multiply(n.numerator,this.denominator))},n.equalTo=function(e){var n=t.tryParseFraction(e);return a.equal(a.multiply(this.numerator,n.denominator),a.multiply(n.numerator,this.denominator))},n.greaterThan=function(e){var n=t.tryParseFraction(e);return a.greaterThan(a.multiply(this.numerator,n.denominator),a.multiply(n.numerator,this.denominator))},n.multiply=function(e){var n=t.tryParseFraction(e);return new t(a.multiply(this.numerator,n.numerator),a.multiply(this.denominator,n.denominator))},n.divide=function(e){var n=t.tryParseFraction(e);return new t(a.multiply(this.numerator,n.denominator),a.multiply(this.denominator,n.numerator))},n.toSignificant=function(t,n,r){void 0===n&&(n={groupSeparator:""}),void 0===r&&(r=e.Rounding.ROUND_HALF_UP),Number.isInteger(t)||s(!1),t>0||s(!1),v.set({precision:t+1,rounding:b[r]});var i=new v(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(t);return i.toFormat(i.decimalPlaces(),n)},n.toFixed=function(t,n,r){return void 0===n&&(n={groupSeparator:""}),void 0===r&&(r=e.Rounding.ROUND_HALF_UP),Number.isInteger(t)||s(!1),t>=0||s(!1),w.DP=t,w.RM=_[r],new w(this.numerator.toString()).div(this.denominator.toString()).toFormat(t,n)},y(t,[{key:"quotient",get:function(){return a.divide(this.numerator,this.denominator)}},{key:"remainder",get:function(){return new t(a.remainder(this.numerator,this.denominator),this.denominator)}},{key:"asFraction",get:function(){return new t(this.numerator,this.denominator)}}]),t}(),S=l(c),E=function(t){function n(e,n,r){var i;return i=t.call(this,n,r)||this,a.lessThanOrEqual(i.quotient,p)||s(!1),i.currency=e,i.decimalScale=a.exponentiate(a.BigInt(10),a.BigInt(e.decimals)),i}g(n,t),n.fromRawAmount=function(t,e){return new n(t,e)},n.fromFractionalAmount=function(t,e,r){return new n(t,e,r)};var r=n.prototype;return r.add=function(e){this.currency.equals(e.currency)||s(!1);var r=t.prototype.add.call(this,e);return n.fromFractionalAmount(this.currency,r.numerator,r.denominator)},r.subtract=function(e){this.currency.equals(e.currency)||s(!1);var r=t.prototype.subtract.call(this,e);return n.fromFractionalAmount(this.currency,r.numerator,r.denominator)},r.multiply=function(e){var r=t.prototype.multiply.call(this,e);return n.fromFractionalAmount(this.currency,r.numerator,r.denominator)},r.divide=function(e){var r=t.prototype.divide.call(this,e);return n.fromFractionalAmount(this.currency,r.numerator,r.denominator)},r.toSignificant=function(n,r,i){return void 0===n&&(n=6),void 0===i&&(i=e.Rounding.ROUND_DOWN),t.prototype.divide.call(this,this.decimalScale).toSignificant(n,r,i)},r.toFixed=function(n,r,i){return void 0===n&&(n=this.currency.decimals),void 0===i&&(i=e.Rounding.ROUND_DOWN),n<=this.currency.decimals||s(!1),t.prototype.divide.call(this,this.decimalScale).toFixed(n,r,i)},r.toExact=function(t){return void 0===t&&(t={groupSeparator:""}),S.DP=this.currency.decimals,new S(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(t)},y(n,[{key:"wrapped",get:function(){return this.currency.isToken?this:n.fromFractionalAmount(this.currency.wrapped,this.numerator,this.denominator)}}]),n}(A),k=new A(a.BigInt(100));function T(t){return new I(t.numerator,t.denominator)}var I=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).isPercent=!0,e}g(e,t);var n=e.prototype;return n.add=function(e){return T(t.prototype.add.call(this,e))},n.subtract=function(e){return T(t.prototype.subtract.call(this,e))},n.multiply=function(e){return T(t.prototype.multiply.call(this,e))},n.divide=function(e){return T(t.prototype.divide.call(this,e))},n.toSignificant=function(e,n,r){return void 0===e&&(e=5),t.prototype.multiply.call(this,k).toSignificant(e,n,r)},n.toFixed=function(e,n,r){return void 0===e&&(e=2),t.prototype.multiply.call(this,k).toFixed(e,n,r)},e}(A),x=function(t){function e(){for(var e,n,r,i,o,s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];if(4===u.length)n=u[0],r=u[1],i=u[2],o=u[3];else{var l=u[0].quoteAmount.divide(u[0].baseAmount),d=[u[0].baseAmount.currency,u[0].quoteAmount.currency,l.denominator,l.numerator];n=d[0],r=d[1],i=d[2],o=d[3]}return(e=t.call(this,o,i)||this).baseCurrency=n,e.quoteCurrency=r,e.scalar=new A(a.exponentiate(a.BigInt(10),a.BigInt(n.decimals)),a.exponentiate(a.BigInt(10),a.BigInt(r.decimals))),e}g(e,t);var n=e.prototype;return n.invert=function(){return new e(this.quoteCurrency,this.baseCurrency,this.numerator,this.denominator)},n.multiply=function(n){this.quoteCurrency.equals(n.baseCurrency)||s(!1);var r=t.prototype.multiply.call(this,n);return new e(this.baseCurrency,n.quoteCurrency,r.denominator,r.numerator)},n.quote=function(e){e.currency.equals(this.baseCurrency)||s(!1);var n=t.prototype.multiply.call(this,e);return E.fromFractionalAmount(this.quoteCurrency,n.numerator,n.denominator)},n.toSignificant=function(t,e,n){return void 0===t&&(t=6),this.adjustedForDecimals.toSignificant(t,e,n)},n.toFixed=function(t,e,n){return void 0===t&&(t=4),this.adjustedForDecimals.toFixed(t,e,n)},y(e,[{key:"adjustedForDecimals",get:function(){return t.prototype.multiply.call(this,this.scalar)}}]),e}(A),P=function(t,e,n,r){Number.isSafeInteger(t)||s(!1),e>=0&&e<255&&Number.isInteger(e)||s(!1),this.chainId=t,this.decimals=e,this.symbol=n,this.name=r},M=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).isNative=!0,e.isToken=!1,e}return g(e,t),e}(P),B=function(t){function e(e,n,r,i,o){var a;return(a=t.call(this,e,r,i,o)||this).isNative=!1,a.isToken=!0,a.address=n,a}g(e,t);var n=e.prototype;return n.equals=function(t){return t.isToken&&this.chainId===t.chainId&&this.address.equals(t.address)},n.sortsBefore=function(t){this.chainId!==t.chainId&&s(!1),this.address===t.address&&s(!1);var e=new d.BN(this.address.toBuffer()),n=new d.BN(t.address.toBuffer());return e.lt(n)},y(e,[{key:"wrapped",get:function(){return this}}]),e}(P),O=new B(101,new d.web3.PublicKey("So11111111111111111111111111111111111111112"),9,"wSOL","Wrapped SOL"),L=function(t){function e(e){return t.call(this,e,O.decimals,O.symbol,O.name)||this}return g(e,t),e.onChain=function(t){var n;return null!=(n=this._solanaCache[t])?n:this._solanaCache[t]=new e(t)},e.prototype.equals=function(t){return t.isNative&&t.chainId===this.chainId},y(e,[{key:"wrapped",get:function(){return O||s(!1),O}}]),e}(M);L._solanaCache={};var D=a.BigInt(Number.MAX_SAFE_INTEGER),C=a.BigInt(0),R=a.BigInt(1),U=a.BigInt(2);e.CurrencyAmount=E,e.Fraction=A,e.MaxUint128=p,e.NativeCurrency=M,e.Percent=I,e.Price=x,e.Solana=L,e.Token=B,e.WSOL=O,e.computePriceImpact=function(t,e,n){var r=t.quote(e),i=r.subtract(n).divide(r);return new I(i.numerator,i.denominator)},e.sortedInsert=function(t,e,n,r){if(n>0||s(!1),t.length<=n||s(!1),0===t.length)return t.push(e),null;var i=t.length===n;if(i&&r(t[t.length-1],e)<=0)return e;for(var o=0,a=t.length;o<a;){var u=o+a>>>1;r(t[u],e)<=0?o=u+1:a=u}return t.splice(o,0,e),i?t.pop():null},e.sqrt=function(t){if(a.greaterThanOrEqual(t,C)||s(!1),a.lessThan(t,D))return a.BigInt(Math.floor(Math.sqrt(a.toNumber(t))));var e,n;for(e=t,n=a.add(a.divide(t,U),R);a.lessThan(n,e);)e=n,n=a.divide(a.add(a.divide(t,n),n),U);return e}},6078:function(t,e,n){"use strict";t.exports=n(9770)},6465:function(t,e,n){"use strict";n.r(e),n.d(e,{web3:function(){return i},BN:function(){return a.a},ACCOUNT_DISCRIMINATOR_SIZE:function(){return z},AccountClient:function(){return we},BorshAccountsCoder:function(){return j},BorshCoder:function(){return X},BorshEventCoder:function(){return F},BorshInstructionCoder:function(){return D},BorshStateCoder:function(){return W},EventManager:function(){return Ae},EventParser:function(){return Se},IdlError:function(){return E},MethodsBuilderFactory:function(){return Be},Program:function(){return Le},ProgramError:function(){return k},Provider:function(){return b},Spl:function(){return De},SplTokenCoder:function(){return Dt},StateClient:function(){return ge},eventDiscriminator:function(){return q},getProvider:function(){return A},parseIdlErrors:function(){return Rt},setProvider:function(){return _},splitArgsAndCtx:function(){return he},stateDiscriminator:function(){return H},toInstruction:function(){return Ut},translateAddress:function(){return zt},utils:function(){return de},validateAccounts:function(){return Nt}});var r=n(8764),i=n(4020),o=n(3550),a=n.n(o),s=n(7191),u=n.n(s),c=n(3204),l=n.n(c),d=n(2023),f=n(9593),h=n(9742),p=n(9282),m=n.n(p),y=n(7885),g=n(6729),v=n.n(g),w=n(8764).Buffer;class b{constructor(t,e,n){this.connection=t,this.wallet=e,this.opts=n}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async send(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=this.opts),t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,await this.wallet.signTransaction(t),e.filter((t=>void 0!==t)).forEach((e=>{t.partialSign(e)}));const r=t.serialize();return await(0,i.sendAndConfirmRawTransaction)(this.connection,r,n)}async sendAll(t,e){void 0===e&&(e=this.opts);const n=await this.connection.getRecentBlockhash(e.preflightCommitment);let r=t.map((t=>{let e=t.tx,r=t.signers;return void 0===r&&(r=[]),e.feePayer=this.wallet.publicKey,e.recentBlockhash=n.blockhash,r.filter((t=>void 0!==t)).forEach((t=>{e.partialSign(t)})),e}));const o=await this.wallet.signAllTransactions(r),a=[];for(let s=0;s<r.length;s+=1){const t=o[s].serialize();a.push(await(0,i.sendAndConfirmRawTransaction)(this.connection,t,e))}return a}async simulate(t,e,n=this.opts){var r,i,o;return void 0===e&&(e=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(r=n.preflightCommitment)&&void 0!==r?r:this.opts.preflightCommitment)).blockhash,await this.wallet.signTransaction(t),e.filter((t=>void 0!==t)).forEach((e=>{t.partialSign(e)})),await async function(t,e,n){e.recentBlockhash=await t._recentBlockhash(t._disableBlockhashCaching);const r=e.serializeMessage(),i=[e._serialize(r).toString("base64"),{encoding:"base64",commitment:n}],o=await t._rpcRequest("simulateTransaction",i);if(o.error)throw new Error("failed to simulate transaction: "+o.error.message);return o.result}(this.connection,t,null!==(o=null!==(i=n.commitment)&&void 0!==i?i:this.opts.commitment)&&void 0!==o?o:"processed")}}function _(t){S=t}function A(){return null===S?b.local():S}let S=null;class E extends Error{constructor(t){super(t),this.name="IdlError"}}class k extends Error{constructor(t,e,...n){super(...n),this.code=t,this.msg=e}static parse(t,e){const n=t.toString();let r,i;if(n.includes("custom program error:")){let t=n.split("custom program error: ");if(2!==t.length)return null;r=t[1]}else{const t=n.match(/"Custom":([0-9]+)}/g);if(!t||t.length>1)return null;r=t[0].match(/([0-9]+)/g)[0]}try{i=parseInt(r)}catch(t){return null}let o=e.get(i);return void 0!==o?new k(i,o,i+": "+o):(o=T.get(i),void 0!==o?new k(i,o,i+": "+o):null)}toString(){return this.msg}}const T=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has_one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exempt constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"A state constraint was violated"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[4e3,"The given state account does not have the correct address"],[4100,"The declared program id does not match the actual program id"],[5e3,"The API being used is deprecated and should no longer be used"]]);var I=function(){return(I=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},x=function(){return(x=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function P(t){return t.toLowerCase()}var M=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],B=/[^A-Z0-9]+/gi;function O(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce((function(t,e){return t.replace(e,n)}),t)}class L{static fieldLayout(t,e){const n=void 0!==t.name?l()(t.name):void 0;switch(t.type){case"bool":return f.bool(n);case"u8":return f.u8(n);case"i8":return f.i8(n);case"u16":return f.u16(n);case"i16":return f.i16(n);case"u32":return f.u32(n);case"i32":return f.i32(n);case"f32":return f.f32(n);case"u64":return f.u64(n);case"i64":return f.i64(n);case"f64":return f.f64(n);case"u128":return f.u128(n);case"i128":return f.i128(n);case"bytes":return f.vecU8(n);case"string":return f.str(n);case"publicKey":return f.publicKey(n);default:if("vec"in t.type)return f.vec(L.fieldLayout({name:void 0,type:t.type.vec},e),n);if("option"in t.type)return f.option(L.fieldLayout({name:void 0,type:t.type.option},e),n);if("defined"in t.type){const r=t.type.defined;if(void 0===e)throw new E("User defined types not provided");const i=e.filter((t=>t.name===r));if(1!==i.length)throw new E(`Type not found: ${JSON.stringify(t)}`);return L.typeDefLayout(i[0],e,n)}if("array"in t.type){let r=t.type.array[0],i=t.type.array[1],o=L.fieldLayout({name:void 0,type:r},e);return f.array(o,i,n)}throw new Error(`Not yet implemented: ${t}`)}}static typeDefLayout(t,e=[],n){if("struct"===t.type.kind){const r=t.type.fields.map((t=>L.fieldLayout(t,e)));return f.struct(r,n)}if("enum"===t.type.kind){let r=t.type.variants.map((t=>{const n=l()(t.name);if(void 0===t.fields)return f.struct([],n);const r=t.fields.map((t=>{if(!t.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return L.fieldLayout(t,e)}));return f.struct(r,n)}));return void 0!==n?f.rustEnum(r).replicate(n):f.rustEnum(r,n)}throw new Error(`Unknown type kint: ${t}`)}}class D{constructor(t){this.idl=t,this.ixLayout=D.parseIxLayout(t);const e=new Map;t.instructions.forEach((t=>{const n=R("global",t.name);e.set(u().encode(n),{layout:this.ixLayout.get(t.name),name:t.name})})),t.state&&t.state.methods.map((t=>{const n=R("state",t.name);e.set(u().encode(n),{layout:this.ixLayout.get(t.name),name:t.name})})),this.sighashLayouts=e}encode(t,e){return this._encode("global",t,e)}encodeState(t,e){return this._encode("state",t,e)}_encode(t,e,n){const i=r.Buffer.alloc(1e3),o=l()(e),a=this.ixLayout.get(o);if(!a)throw new Error(`Unknown method: ${o}`);const s=a.encode(n,i),u=i.slice(0,s);return r.Buffer.concat([R(t,e),u])}static parseIxLayout(t){const e=(t.state?t.state.methods:[]).map((e=>{let n=e.args.map((e=>{var n,r;return L.fieldLayout(e,Array.from([...null!==(n=t.accounts)&&void 0!==n?n:[],...null!==(r=t.types)&&void 0!==r?r:[]]))}));const r=l()(e.name);return[r,f.struct(n,r)]})).concat(t.instructions.map((e=>{let n=e.args.map((e=>{var n,r;return L.fieldLayout(e,Array.from([...null!==(n=t.accounts)&&void 0!==n?n:[],...null!==(r=t.types)&&void 0!==r?r:[]]))}));const r=l()(e.name);return[r,f.struct(n,r)]})));return new Map(e)}decode(t,e="hex"){"string"==typeof t&&(t="hex"===e?r.Buffer.from(t,"hex"):u().decode(t));let n=u().encode(t.slice(0,8)),i=t.slice(8);const o=this.sighashLayouts.get(n);return o?{data:o.layout.decode(i),name:o.name}:null}format(t,e){return C.format(t,e,this.idl)}}class C{static format(t,e,n){const r=n.instructions.filter((e=>t.name===e.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const i=r.args.map((e=>({name:e.name,type:C.formatIdlType(e.type),data:C.formatIdlData(e,t.data[e.name],n.types)}))),o=C.flattenIdlAccounts(r.accounts);return{args:i,accounts:e.map(((t,e)=>e<o.length?{name:o[e].name,...t}:{name:void 0,...t}))}}static formatIdlType(t){if("string"==typeof t)return t;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("defined"in t)return t.defined;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,n){if("string"==typeof t.type)return e.toString();if(t.type.hasOwnProperty("vec"))return"["+e.map((e=>this.formatIdlData({name:"",type:t.type.vec},e))).join(", ")+"]";if(t.type.hasOwnProperty("option"))return null===e?"null":this.formatIdlData({name:"",type:t.type.option},e);if(t.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((e=>e.name===t.type.defined));if(1!==r.length)throw new Error(`Type not found: ${t.type.defined}`);return C.formatIdlDataDefined(r[0],e,n)}return"unknown"}static formatIdlDataDefined(t,e,n){if("struct"===t.type.kind){const r=t.type;return"{ "+Object.keys(e).map((t=>{const i=r.fields.filter((e=>e.name===t))[0];if(void 0===i)throw new Error("Unable to find type");return t+": "+C.formatIdlData(i,e[t],n)})).join(", ")+" }"}if(0===t.type.variants.length)return"{}";if(t.type.variants[0].name){const r=t.type.variants,i=Object.keys(e)[0],o=e[i],a=Object.keys(o).map((t=>{var e;const a=o[t],s=null===(e=r[i])||void 0===e?void 0:e.filter((e=>e.name===t))[0];if(void 0===s)throw new Error("Unable to find variant");return t+": "+C.formatIdlData(s,a,n)})).join(", "),s=l()(i,{pascalCase:!0});return 0===a.length?s:`${s} { ${a} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(t,e){return t.map((t=>{const n=function(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}(t.name);if(t.hasOwnProperty("accounts")){const r=e?`${e} > ${n}`:n;return C.flattenIdlAccounts(t.accounts,r)}return{...t,name:e?`${e} > ${n}`:n}})).flat()}}function R(t,e){var n;let i=`${t}:${void 0===n&&(n={}),function(t,e){return void 0===e&&(e={}),function(t,e){void 0===e&&(e={});for(var n=e.splitRegexp,r=void 0===n?M:n,i=e.stripRegexp,o=void 0===i?B:i,a=e.transform,s=void 0===a?P:a,u=e.delimiter,c=void 0===u?" ":u,l=O(O(t,r,"$1\0$2"),o,"\0"),d=0,f=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(f-1);)f--;return l.slice(d,f).split("\0").map(s).join(c)}(t,x({delimiter:"."},e))}(e,I({delimiter:"_"},n))}`;return r.Buffer.from(d.sha256.digest(i)).slice(0,8)}function U(t,e){if("enum"===e.type.kind){let n=e.type.variants.map((e=>void 0===e.fields?0:e.fields.map((e=>{if("object"!=typeof e||!("name"in e))throw new Error("Tuple enum variants not yet implemented.");return N(t,e.type)})).reduce(((t,e)=>t+e))));return Math.max(...n)+1}return void 0===e.type.fields?0:e.type.fields.map((e=>N(t,e.type))).reduce(((t,e)=>t+e),0)}function N(t,e){var n,r;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+N(t,e.option);if("coption"in e)return 4+N(t,e.coption);if("defined"in e){const i=null!==(r=null===(n=t.types)||void 0===n?void 0:n.filter((t=>t.name===e.defined)))&&void 0!==r?r:[];if(1!==i.length)throw new E(`Type not found: ${JSON.stringify(e)}`);return U(t,i[0])}if("array"in e){let n=e.array[0],r=e.array[1];return N(t,n)*r}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}const z=8;class j{constructor(t){if(void 0===t.accounts)return void(this.accountLayouts=new Map);const e=t.accounts.map((e=>[e.name,L.typeDefLayout(e,t.types)]));this.accountLayouts=new Map(e),this.idl=t}async encode(t,e){const n=r.Buffer.alloc(1e3),i=this.accountLayouts.get(t);if(!i)throw new Error(`Unknown account: ${t}`);const o=i.encode(e,n);let a=n.slice(0,o),s=j.accountDiscriminator(t);return r.Buffer.concat([s,a])}decode(t,e){if(j.accountDiscriminator(t).compare(e.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){const n=e.slice(8),r=this.accountLayouts.get(t);if(!r)throw new Error(`Unknown account: ${t}`);return r.decode(n)}memcmp(t,e){const n=j.accountDiscriminator(t);return{offset:0,bytes:u().encode(e?r.Buffer.concat([n,e]):n)}}size(t){var e;return 8+(null!==(e=U(this.idl,t))&&void 0!==e?e:0)}static accountDiscriminator(t){return r.Buffer.from(d.sha256.digest(`account:${l()(t,{pascalCase:!0})}`)).slice(0,8)}}class F{constructor(t){if(void 0===t.events)return void(this.layouts=new Map);const e=t.events.map((e=>{let n={name:e.name,type:{kind:"struct",fields:e.fields.map((t=>({name:t.name,type:t.type})))}};return[e.name,L.typeDefLayout(n,t.types)]}));this.layouts=new Map(e),this.discriminators=new Map(void 0===t.events?[]:t.events.map((t=>[h.fromByteArray(q(t.name)),t.name])))}decode(t){let e;try{e=r.Buffer.from(h.toByteArray(t))}catch(a){return null}const n=h.fromByteArray(e.slice(0,8)),i=this.discriminators.get(n);if(void 0===i)return null;const o=this.layouts.get(i);if(!o)throw new Error(`Unknown event: ${i}`);return{data:o.decode(e.slice(8)),name:i}}}function q(t){return r.Buffer.from(d.sha256.digest(`event:${t}`)).slice(0,8)}const K=new Set(["anchor-deprecated-state","debug-logs"]),V=new Map;function $(t){return void 0!==V.get(t)}var G=Object.freeze({__proto__:null,set:function(t){if(!K.has(t))throw new Error("Invalid feature");V.set(t,!0)},isSet:$});class W{constructor(t){if(void 0===t.state)throw new Error("Idl state not defined.");this.layout=L.typeDefLayout(t.state.struct,t.types)}async encode(t,e){const n=r.Buffer.alloc(1e3),i=this.layout.encode(e,n),o=await H(t),a=n.slice(0,i);return r.Buffer.concat([o,a])}decode(t){const e=t.slice(8);return this.layout.decode(e)}}async function H(t){let e=$("anchor-deprecated-state")?"account":"state";return r.Buffer.from(d.sha256.digest(`${e}:${t}`)).slice(0,8)}class X{constructor(t){this.instruction=new D(t),this.accounts=new j(t),this.events=new F(t),t.state&&(this.state=new W(t))}}var Y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};class J{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var Z=J;class Q extends J{isCount(){throw new Error("ExternalLayout is abstract")}}class tt extends Q{constructor(t,e,n){if(!(t instanceof J))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof et||this.layout instanceof nt}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return void 0===n&&(n=0),this.layout.encode(t,e,n+this.offset)}}class et extends J{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class nt extends J{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}const rt=Math.pow(2,32);class it extends J{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return function(t,e){return t*rt+e}(t.readUInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=function(t){const e=Math.floor(t/rt);return{hi32:e,lo32:t-e*rt}}(t);return e.writeUInt32LE(r.lo32,n),e.writeUInt32LE(r.hi32,n+4),8}}class ot extends J{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof J),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const i of t)if(0>i.span&&void 0===i.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(t){throw new RangeError("indeterminate span")}return n}decode(t,e){void 0===e&&(e=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const a of this.fields){let r=a.span;if(o=0<r?r:0,void 0!==a.property){const i=t[a.property];void 0!==i&&(o=a.encode(i,e,n),0>r&&(r=a.getSpan(e,n)))}i=n,n+=r}return i+o-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class at{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class st extends at{constructor(t,e){if(!(t instanceof Q&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class ut extends J{constructor(t,e,n){const r=t instanceof et||t instanceof nt;if(r)t=new st(new tt(t));else if(t instanceof Q&&t.isCount())t=new st(t);else if(!(t instanceof at))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof J))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&r&&(i+=t.layout.span)),super(i,n),this.discriminator=t,this.usesPrefixDiscriminator=r,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return o(t)},this.configGetSourceVariant=function(t){o=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){let n;void 0===e&&(e=0);const r=this.discriminator,i=r.decode(t,e);let o=this.registry[i];if(void 0===o){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(t,e+a)}else n=o.decode(t,e);return n}encode(t,e,n){void 0===n&&(n=0);const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(t[r.property],e,n),o+i.encode(t[i.property],e,n+o)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new ct(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e){let n=t;return w.isBuffer(t)&&(void 0===e&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class ct extends J{constructor(t,e,n,r){if(!(t instanceof ut))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof J))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),i+=this.layout.getSpan(e,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class lt extends J{constructor(t,e){if(!(t instanceof Q&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof Q||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){void 0===e&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let r=this.length;if(this.length instanceof Q&&(r=t.length),!w.isBuffer(t)||r!==t.length)throw new TypeError((i="Blob.encode",(this.property?i+"["+this.property+"]":i)+" requires (length "+r+") Buffer as src"));var i;if(n+r>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,r,"hex"),this.length instanceof Q&&this.length.encode(r,e,n),r}}var dt=t=>new et(1,t),ft=t=>new it(t),ht=(t,e,n)=>new ot(t,e,n),pt=(t,e)=>new lt(t,e);class mt{constructor(t){}encode(t,e){switch(l()(t)){case"initializeMint":return function({decimals:t,mintAuthority:e,freezeAuthority:n}){return wt({initializeMint:{decimals:t,mintAuthority:e.toBuffer(),freezeAuthorityOption:!!n,freezeAuthority:(n||i.PublicKey.default).toBuffer()}})}(e);case"initializeAccount":return wt({initializeAccount:{}});case"initializeMultisig":return function({m:t}){return wt({initializeMultisig:{m:t}})}(e);case"transfer":return function({amount:t}){return wt({transfer:{amount:t}})}(e);case"approve":return function({amount:t}){return wt({approve:{amount:t}})}(e);case"revoke":return wt({revoke:{}});case"setAuthority":return function({authorityType:t,newAuthority:e}){return wt({setAuthority:{authorityType:t,newAuthority:e}})}(e);case"mintTo":return function({amount:t}){return wt({mintTo:{amount:t}})}(e);case"burn":return function({amount:t}){return wt({burn:{amount:t}})}(e);case"closeAccount":return wt({closeAccount:{}});case"freezeAccount":return wt({freezeAccount:{}});case"thawAccount":return wt({thawAccount:{}});case"transferChecked":return function({amount:t,decimals:e}){return wt({transferChecked:{amount:t,decimals:e}})}(e);case"approvedChecked":return function({amount:t,decimals:e}){return wt({approveChecked:{amount:t,decimals:e}})}(e);case"mintToChecked":return function({amount:t,decimals:e}){return wt({mintToChecked:{amount:t,decimals:e}})}(e);case"burnChecked":return function({amount:t,decimals:e}){return wt({burnChecked:{amount:t,decimals:e}})}(e);case"intializeAccount2":return function({authority:t}){return wt({initilaizeAccount2:{authority:t}})}(e);case"syncNative":return wt({syncNative:{}});case"initializeAccount3":return function({authority:t}){return wt({initializeAccount3:{authority:t}})}(e);case"initializeMultisig2":return function({m:t}){return wt({initializeMultisig2:{m:t}})}(e);case"initializeMint2":return function({decimals:t,mintAuthority:e,freezeAuthority:n}){return wt({encodeInitializeMint2:{decimals:t,mintAuthority:e,freezeAuthority:n}})}(e);default:throw new Error(`Invalid instruction: ${t}`)}}encodeState(t,e){throw new Error("SPL token does not have state")}}const yt=(gt=dt("instruction"),new ut(gt,undefined,undefined));var gt;function vt(t){return pt(32,t)}function wt(t){let e=w.alloc(bt),n=yt.encode(t,e);return e.slice(0,n)}yt.addVariant(0,ht([dt("decimals"),pt(32,"mintAuthority"),dt("freezeAuthorityOption"),vt("freezeAuthority")]),"initializeMint"),yt.addVariant(1,ht([]),"initializeAccount"),yt.addVariant(2,ht([dt("m")]),"initializeMultisig"),yt.addVariant(3,ht([ft("amount")]),"transfer"),yt.addVariant(4,ht([ft("amount")]),"approve"),yt.addVariant(5,ht([]),"revoke"),yt.addVariant(6,ht([dt("authorityType"),dt("newAuthorityOption"),vt("newAuthority")]),"setAuthority"),yt.addVariant(7,ht([ft("amount")]),"mintTo"),yt.addVariant(8,ht([ft("amount")]),"burn"),yt.addVariant(9,ht([]),"closeAccount"),yt.addVariant(10,ht([]),"freezeAccount"),yt.addVariant(11,ht([]),"thawAccount"),yt.addVariant(12,ht([ft("amount"),dt("decimals")]),"transferChecked"),yt.addVariant(13,ht([ft("amount"),dt("decimals")]),"approvedChecked"),yt.addVariant(14,ht([ft("amount"),dt("decimals")]),"mintToChecked"),yt.addVariant(15,ht([ft("amount"),dt("decimals")]),"burnedChecked"),yt.addVariant(16,ht([vt("authority")]),"InitializeAccount2"),yt.addVariant(17,ht([]),"syncNative"),yt.addVariant(18,ht([vt("authority")]),"initializeAccount3"),yt.addVariant(19,ht([dt("m")]),"initializeMultisig2"),yt.addVariant(20,ht([dt("decimals"),vt("mintAuthority"),dt("freezeAuthorityOption"),vt("freezeAuthority")]),"initializeMint2");const bt=Math.max(...Object.values(yt.registry).map((t=>t.span)));class _t{constructor(t){}encode(t,e){throw new Error("SPL token does not have state")}decode(t){throw new Error("SPL token does not have state")}}function At(t){return new kt(pt(8),(t=>Pt.fromBuffer(t)),(t=>t.toBuffer()),t)}function St(t){return new kt(pt(32),(t=>new i.PublicKey(t)),(t=>t.toBuffer()),t)}function Et(t,e){return new Tt(t,e)}class kt extends Z{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}class Tt extends Z{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=new et(4,void 0)}encode(t,e,n=0){return null==t?this.layout.span+this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+4)+4)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return null;if(1===n)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}function It(t){if(0===t)return!1;if(1===t)return!0;throw new Error("Invalid bool: "+t)}function xt(t){return t?1:0}class Pt extends(a()){toBuffer(){const t=super.toArray().reverse(),e=w.from(t);if(8===e.length)return e;if(e.length>=8)throw new Error("u64 too large");const n=w.alloc(8);return e.copy(n),n}static fromBuffer(t){if(8!==t.length)throw new Error(`Invalid buffer length: ${t.length}`);return new Pt([...t].reverse().map((t=>`00${t.toString(16)}`.slice(-2))).join(""),16)}}class Mt{constructor(t){this.idl=t}async encode(t,e){switch(t){case"Token":{const t=w.alloc(165),n=Ot.encode(e,t);return t.slice(0,n)}case"Mint":{const t=w.alloc(82),n=Bt.encode(e,t);return t.slice(0,n)}default:throw new Error(`Invalid account name: ${t}`)}}decode(t,e){return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){switch(t){case"Token":return function(t){return Ot.decode(t)}(e);case"Mint":return function(t){return Bt.decode(t)}(e);default:throw new Error(`Invalid account name: ${t}`)}}memcmp(t,e){switch(t){case"Token":return{dataSize:165};case"Mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${t}`)}}size(t){var e;return null!==(e=U(this.idl,t))&&void 0!==e?e:0}}const Bt=ht([Et(St(),"mintAuthority"),At("supply"),dt("decimals"),new kt(dt(),It,xt,"isInitialized"),Et(St(),"freezeAuthority")]),Ot=ht([St("mint"),St("authority"),At("amount"),Et(St(),"delegate"),dt("state"),Et(At(),"isNative"),At("delegatedAmount"),Et(St(),"closeAuthority")]);class Lt{constructor(t){}decode(t){throw new Error("SPL token program does not have events")}}class Dt{constructor(t){this.instruction=new mt(t),this.accounts=new Mt(t),this.events=new Lt(t),this.state=new _t(t)}}var Ct=Object.freeze({__proto__:null,hash:function(t){return(0,d.sha256)(t)}});function Rt(t){const e=new Map;return t.errors&&t.errors.forEach((t=>{var n;let r=null!==(n=t.msg)&&void 0!==n?n:t.name;e.set(t.code,r)})),e}function Ut(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const n={};let r=0;return t.args.forEach((t=>{n[t.name]=e[r],r+=1})),n}function Nt(t,e={}){t.forEach((t=>{if("accounts"in t)Nt(t.accounts,e[t.name]);else if(void 0===e[t.name])throw new Error(`Invalid arguments: ${t.name} not provided.`)}))}function zt(t){return t instanceof i.PublicKey?t:new i.PublicKey(t)}async function jt(t,e,n){if(e.length<=99)return await Ft(t,e,n);{const i=(r=e,99,Array.apply(0,new Array(Math.ceil(r.length/99))).map(((t,e)=>r.slice(99*e,99*(e+1)))));return(await Promise.all(i.map((e=>Ft(t,e,n))))).flat()}var r}async function Ft(t,e,n){const o=null!=n?n:t.commitment,a=[e.map((t=>t.toBase58()))];o&&a.push({commitment:o});const s=await t._rpcRequest("getMultipleAccounts",a);if(s.error)throw new Error("failed to get info about accounts "+e.map((t=>t.toBase58())).join(", ")+": "+s.error.message);m()(void 0!==s.result);const u=[];for(const c of s.result.value){let t=null;if(null!==c){if(s.result.value){const{executable:e,owner:n,lamports:o,data:a}=c;m()("base64"===a[1]),t={executable:e,owner:new i.PublicKey(n),lamports:o,data:r.Buffer.from(a[0],"base64")}}if(null===t)throw new Error("Invalid response");u.push(t)}else u.push(null)}return u.map(((t,n)=>null===t?null:{publicKey:e[n],account:t}))}var qt=Object.freeze({__proto__:null,invoke:async function(t,e,n,r){t=zt(t),r||(r=A());const o=new i.Transaction;return o.add(new i.TransactionInstruction({programId:t,keys:null!=e?e:[],data:n})),await r.send(o)},getMultipleAccounts:jt});function Kt(t,e,n){const o=r.Buffer.concat([t.toBuffer(),r.Buffer.from(e),n.toBuffer()]),a=d.sha256.digest(o);return new i.PublicKey(r.Buffer.from(a))}function Vt(t,e){let n=r.Buffer.alloc(0);t.forEach((function(t){if(t.length>32)throw new TypeError("Max seed length exceeded");n=r.Buffer.concat([n,Gt(t)])})),n=r.Buffer.concat([n,e.toBuffer(),r.Buffer.from("ProgramDerivedAddress")]);let o=(0,d.sha256)(new Uint8Array(n)),s=new(a())(o,16).toArray(void 0,32);if(i.PublicKey.isOnCurve(new Uint8Array(s)))throw new Error("Invalid seeds, address must fall off the curve");return new i.PublicKey(s)}function $t(t,e){let n,i=255;for(;0!=i;){try{n=Vt(t.concat(r.Buffer.from([i])),e)}catch(o){if(o instanceof TypeError)throw o;i--;continue}return[n,i]}throw new Error("Unable to find a viable program address nonce")}const Gt=t=>t instanceof r.Buffer?t:t instanceof Uint8Array?r.Buffer.from(t.buffer,t.byteOffset,t.byteLength):r.Buffer.from(t);async function Wt(t,...e){let n=[r.Buffer.from([97,110,99,104,111,114])];e.forEach((t=>{n.push(t instanceof r.Buffer?t:zt(t).toBuffer())}));const[o]=await i.PublicKey.findProgramAddress(n,zt(t));return o}var Ht=Object.freeze({__proto__:null,createWithSeedSync:Kt,createProgramAddressSync:Vt,findProgramAddressSync:$t,associated:Wt}),Xt=Object.freeze({__proto__:null,encode:function(t){return t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),"0x")},decode:function(t){0===t.indexOf("0x")&&(t=t.substr(2)),t.length%2==1&&(t="0"+t);let e=t.match(/.{2}/g);return null===e?r.Buffer.from([]):r.Buffer.from(e.map((t=>parseInt(t,16))))}});function Yt(t){return new TextDecoder("utf-8").decode(t)}function Jt(t){return(new TextEncoder).encode(t)}var Zt=Object.freeze({__proto__:null,decode:Yt,encode:Jt}),Qt=Object.freeze({__proto__:null,encode:function(t){return u().encode(t)},decode:function(t){return u().decode(t)}}),te=Object.freeze({__proto__:null,encode:function(t){return h.fromByteArray(t)},decode:function(t){return r.Buffer.from(h.toByteArray(t))}}),ee=Object.freeze({__proto__:null,hex:Xt,utf8:Zt,bs58:Qt,base64:te});const ne=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),re=new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var ie=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:ne,ASSOCIATED_PROGRAM_ID:re,associatedAddress:async function({mint:t,owner:e}){return(await i.PublicKey.findProgramAddress([e.toBuffer(),ne.toBuffer(),t.toBuffer()],re))[0]}}),oe={exports:{}};!function(t,e){var n="undefined"!=typeof self?self:Y,r=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,a="ArrayBuffer"in t;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function m(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():a&&i&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=p(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=c(t),e=l(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},f.prototype.delete=function(t){delete this.map[c(t)]},f.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},f.prototype.set=function(t,e){this.map[c(t)]=l(e)},f.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},f.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),d(t)},f.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),d(t)},f.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),d(t)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var n,r,i=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),v.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},g.call(w.prototype),g.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var A=[301,302,303,307,308];_.redirect=function(t,e){if(-1===A.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function S(t,n){return new Promise((function(r,o){var a=new w(t,n);if(a.signal&&a.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var t,e,n={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new f,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new _(i,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}S.polyfill=!0,t.fetch||(t.fetch=S,t.Headers=f,t.Request=w,t.Response=_),e.Headers=f,e.Request=w,e.Response=_,e.fetch=S,Object.defineProperty(e,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(oe,oe.exports);var ae=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(oe.exports);async function se(t,e){const n=await t.getAccountInfo(e);if(null===n)throw new Error("program account not found");const{program:r}=ce(n.data),i=await t.getAccountInfo(r.programdataAddress);if(null===i)throw new Error("program data account not found");const{programData:o}=ce(i.data);return o}const ue=f.rustEnum([f.struct([],"uninitialized"),f.struct([f.option(f.publicKey(),"authorityAddress")],"buffer"),f.struct([f.publicKey("programdataAddress")],"program"),f.struct([f.u64("slot"),f.option(f.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,f.u32());function ce(t){return ue.decode(t)}var le=Object.freeze({__proto__:null,verifiedBuild:async function(t,e,n=5){const r=`https://anchor.projectserum.com/api/v0/program/${e.toString()}/latest?limit=${n}`,[i,o]=await Promise.all([se(t,e),ae(r)]),a=(await o.json()).filter((t=>!t.aborted&&"Built"===t.state&&"Verified"===t.verified));if(0===a.length)return null;const s=a[0];return i.slot.toNumber()!==s.verified_slot?null:s},fetchData:se,decodeUpgradeableLoaderState:ce}),de=Object.freeze({__proto__:null,sha256:Ct,rpc:qt,publicKey:Ht,bytes:ee,token:ie,features:G,registry:le});const fe=f.struct([f.publicKey("authority"),f.vecU8("data")]);function he(t,e){var n,r;let i={};const o=t.args?t.args.length:0;if(e.length>o){if(e.length!==o+1)throw new Error(`provided too many arguments ${e} to instruction ${null==t?void 0:t.name} expecting: ${null!==(r=null===(n=t.args)||void 0===n?void 0:n.map((t=>t.name)))&&void 0!==r?r:[]}`);i=e.pop()}return[e,i]}class pe{static build(t,e,n){if("_inner"===t.name)throw new E("the _inner name is reserved");const r=(...o)=>{const[a,s]=he(t,[...o]);Nt(t.accounts,s.accounts);const u=r.accounts(s.accounts);return void 0!==s.remainingAccounts&&u.push(...s.remainingAccounts),$("debug-logs")&&console.log("Outgoing account metas:",u),new i.TransactionInstruction({keys:u,programId:n,data:e(t.name,Ut(t,...a))})};return r.accounts=e=>pe.accountsArray(e,t.accounts,t.name),r}static accountsArray(t,e,n){return t?e.map((e=>{if(void 0!==("accounts"in e?e.accounts:void 0)){const r=t[e.name];return pe.accountsArray(r,e.accounts,n).flat()}{const r=e;let i;try{i=zt(t[e.name])}catch(t){throw new Error(`Wrong input type for account "${e.name}" in the instruction accounts object${void 0!==n?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}return{pubkey:i,isWritable:r.isMut,isSigner:r.isSigner}}})).flat():[]}}class me{static build(t,e,n,r){return async(...i)=>{const o=e(...i),[,a]=he(t,[...i]);try{return await r.send(o,a.signers,a.options)}catch(t){$("debug-logs")&&console.log("Translating error:",t);let r=k.parse(t,n);if(null===r)throw t;throw r}}}}class ye{static build(t,e){return(...n)=>{var r,o,a;const[,s]=he(t,[...n]),u=new i.Transaction;if(s.preInstructions&&s.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(r=s.preInstructions)||void 0===r||r.forEach((t=>u.add(t))),null===(o=s.instructions)||void 0===o||o.forEach((t=>u.add(t))),u.add(e(...n)),null===(a=s.postInstructions)||void 0===a||a.forEach((t=>u.add(t))),u}}}class ge{constructor(t,e,n=A(),r=new X(t)){this.provider=n,this.coder=r,this._idl=t,this._programId=e,this._address=ve(e),this._sub=null;const[o,a,s]=(()=>{var o;let a={},s={},u={};return null===(o=t.state)||void 0===o||o.methods.forEach((o=>{const c=pe.build(o,((t,e)=>r.instruction.encodeState(t,e)),e);c.accounts=t=>function(t,e,n,r){if("new"===n.name){const[n]=$t([],t);return[{pubkey:e.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:ve(t),isWritable:!0,isSigner:!1},{pubkey:n,isWritable:!1,isSigner:!1},{pubkey:i.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t,isWritable:!1,isSigner:!1}]}return Nt(n.accounts,r),[{pubkey:ve(t),isWritable:!0,isSigner:!1}]}(e,n,o,t).concat(pe.accountsArray(t,o.accounts,o.name));const d=ye.build(o,c),f=me.build(o,d,Rt(t),n),h=l()(o.name);a[h]=c,s[h]=d,u[h]=f})),[a,s,u]})();this.instruction=o,this.transaction=a,this.rpc=s}get programId(){return this._programId}async fetch(){const t=this.address(),e=await this.provider.connection.getAccountInfo(t);if(null===e)throw new Error(`Account does not exist ${t.toString()}`);const n=this._idl.state;if(!n)throw new Error("State is not specified in IDL.");if((await H(n.struct.name)).compare(e.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(e.data)}address(){return this._address}subscribe(t){if(null!==this._sub)return this._sub.ee;const e=new(v()),n=this.provider.connection.onAccountChange(this.address(),(t=>{const n=this.coder.state.decode(t.data);e.emit("change",n)}),t);return this._sub={ee:e,listener:n},e}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function ve(t){let[e]=$t([],t);return Kt(e,"unversioned",t)}class we{constructor(t,e,n,r,i){this._idlAccount=e,this._programId=n,this._provider=null!=r?r:A(),this._coder=null!=i?i:new X(t),this._size=this._coder.accounts.size(e)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(t,e){const n=await this.getAccountInfo(t,e);return null===n?null:this._coder.accounts.decode(this._idlAccount.name,n.data)}async fetch(t,e){const n=await this.fetchNullable(t,e);if(null===n)throw new Error(`Account does not exist ${t.toString()}`);return n}async fetchMultiple(t,e){return(await jt(this._provider.connection,t.map((t=>zt(t))),e)).map((t=>null==t?null:this._coder.accounts.decode(this._idlAccount.name,null==t?void 0:t.account.data)))}async all(t){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,t instanceof w?t:void 0)},...Array.isArray(t)?t:[]]})).map((({pubkey:t,account:e})=>({publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,e.data)})))}subscribe(t,e){const n=be.get(t.toString());if(n)return n.ee;const r=new(v());t=zt(t);const i=this._provider.connection.onAccountChange(t,(t=>{const e=this._coder.accounts.decode(this._idlAccount.name,t.data);r.emit("change",e)}),e);return be.set(t.toString(),{ee:r,listener:i}),r}async unsubscribe(t){let e=be.get(t.toString());e?be&&await this._provider.connection.removeAccountChangeListener(e.listener).then((()=>{be.delete(t.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(t,e){const n=this.size;return i.SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:t.publicKey,space:null!=e?e:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=e?e:n),programId:this._programId})}async associated(...t){const e=await this.associatedAddress(...t);return await this.fetch(e)}async associatedAddress(...t){return await Wt(this._programId,...t)}async getAccountInfo(t,e){return await this._provider.connection.getAccountInfo(zt(t),e)}}const be=new Map,_e="Program log: ".length;class Ae{constructor(t,e,n){this._programId=t,this._provider=e,this._eventParser=new Se(t,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,e){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,t in this._eventCallbacks||this._eventListeners.set(t,[]),this._eventListeners.set(t,(null!==(n=this._eventListeners.get(t))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[t,e]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((t,e)=>{t.err||this._eventParser.parseLogs(t.logs,(t=>{const n=this._eventListeners.get(t.name);n&&n.forEach((n=>{const r=this._eventCallbacks.get(n);if(r){const[,n]=r;n(t.data,e.slot)}}))}))}))),r}async removeEventListener(t){const e=this._eventCallbacks.get(t);if(!e)throw new Error(`Event listener ${t} doesn't exist!`);const[n]=e;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);this._eventCallbacks.delete(t),r=r.filter((e=>e!==t)),0===r.length&&this._eventListeners.delete(n),0==this._eventCallbacks.size&&(p.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class Se{constructor(t,e){this.coder=e,this.programId=t}parseLogs(t,e){const n=new ke(t),r=new Ee(n.next());let i=n.next();for(;null!==i;){let[t,o,a]=this.handleLog(r,i);t&&e(t),o&&r.push(o),a&&r.pop(),i=n.next()}}handleLog(t,e){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(e):[null,...this.handleSystemLog(e)]}handleProgramLog(t){if(t.startsWith("Program log:")){const e=t.slice(_e);return[this.coder.events.decode(e),null,!1]}return[null,...this.handleSystemLog(t)]}handleSystemLog(t){const e=t.split(":")[0];return null!==e.match(/^Program (.*) success/g)?[null,!0]:e.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:e.includes("invoke")?["cpi",!1]:[null,!1]}}class Ee{constructor(t){var e;const n=null===(e=/^Program (.*) invoke.*$/g.exec(t))||void 0===e?void 0:e[1];if(!n)throw new Error("Could not find program invocation log line");this.stack=[n]}program(){return p.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){p.ok(this.stack.length>0),this.stack.pop()}}class ke{constructor(t){this.logs=t}next(){if(0===this.logs.length)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}}const Te=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function Ie(){return new Dt(xe)}const xe={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class Pe{constructor(t,e,n,r,i,o){this._args=t,this._accounts=e,this._provider=n,this._programId=r,this._idlIx=i,this._accountStore=new Me(n,o)}async resolve(){for(let t=0;t<this._idlIx.accounts.length;t+=1){const e=this._idlIx.accounts[t],n=l()(e.name);if(e.pda&&e.pda.seeds.length>0&&void 0===this._accounts[n])await this.autoPopulatePda(e);else if(e.isSigner&&void 0===this._accounts[n])this._accounts[n]=this._provider.wallet.publicKey;else switch(n){case"systemProgram":void 0===this._accounts[n]&&(this._accounts[n]=i.SystemProgram.programId);case"rent":void 0===this._accounts[n]&&(this._accounts[n]=i.SYSVAR_RENT_PUBKEY);case"tokenProgram":void 0===this._accounts[n]&&(this._accounts[n]=ne);case"associatedTokenProgram":void 0===this._accounts[n]&&(this._accounts[n]=re)}}}async autoPopulatePda(t){if(!t.pda||!t.pda.seeds)throw new Error("Must have seeds");const e=await Promise.all(t.pda.seeds.map((t=>this.toBuffer(t)))),n=await this.parseProgramId(t),[r]=await i.PublicKey.findProgramAddress(e,n);this._accounts[l()(t.name)]=r}async parseProgramId(t){var e;if(!(null===(e=t.pda)||void 0===e?void 0:e.programId))return this._programId;switch(t.pda.programId.kind){case"const":return new i.PublicKey(this.toBufferConst(t.pda.programId.value));case"arg":return this.argValue(t.pda.programId);case"account":return await this.accountValue(t.pda.programId);default:throw new Error(`Unexpected program seed kind: ${t.pda.programId.kind}`)}}async toBuffer(t){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t);default:throw new Error(`Unexpected seed kind: ${t.kind}`)}}toBufferConst(t){return this.toBufferValue(t.type,t.value)}async toBufferArg(t){const e=this.argValue(t);return this.toBufferValue(t.type,e)}argValue(t){const e=l()(t.path.split(".")[0]),n=this._idlIx.args.findIndex((t=>t.name===e));if(-1===n)throw new Error(`Unable to find argument for seed: ${e}`);return this._args[n]}async toBufferAccount(t){const e=await this.accountValue(t);return this.toBufferValue(t.type,e)}async accountValue(t){const e=t.path.split("."),n=e[0],r=this._accounts[l()(n)];if(1===e.length)return r;const i=await this._accountStore.fetchAccount(t.account,r);return this.parseAccountValue(i,e.slice(1))}parseAccountValue(t,e){let n;for(;e.length>0;)n=t[l()(e[0])],e=e.slice(1);return n}toBufferValue(t,e){switch(t){case"u8":return w.from([e]);case"u16":let n=w.alloc(2);return n.writeUInt16LE(e),n;case"u32":let r=w.alloc(4);return r.writeUInt32LE(e),r;case"u64":let i=w.alloc(8);return i.writeBigUInt64LE(BigInt(e)),i;case"string":return w.from(Jt(e));case"publicKey":return e.toBuffer();default:if(t.array)return w.from(e);throw new Error(`Unexpected seed type: ${t}`)}}}class Me{constructor(t,e){this._provider=t,this._accounts=e,this._cache=new Map}async fetchAccount(t,e){const n=e.toString();if(void 0===this._cache.get(n))if("TokenAccount"===t){const t=await this._provider.connection.getAccountInfo(e);if(null===t)throw new Error(`invalid account info for ${n}`);const r=Ie().accounts.decode("Token",t.data);this._cache.set(n,r)}else{const r=this._accounts[l()(t)].fetch(e);this._cache.set(n,r)}return this._cache.get(n)}}class Be{static build(t,e,n,r,i,o,a,s){return(...u)=>new Oe(u,r,i,o,a,t,e,n,s)}}class Oe{constructor(t,e,n,r,i,o,a,s,u){this._args=t,this._ixFn=e,this._txFn=n,this._rpcFn=r,this._simulateFn=i,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._accountsResolver=new Pe(t,this._accounts,o,a,s,u)}accounts(t){return Object.assign(this._accounts,t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t){return this._preInstructions=this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async rpc(t){return await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async simulate(t){return await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async instruction(){return await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class Le{constructor(t,e,n,r){e=zt(e),n||(n=A()),this._idl=t,this._provider=n,this._programId=e,this._coder=null!=r?r:new X(t),this._events=new Ae(this._programId,n,this._coder);const[i,o,a,s,u,c,d]=class{static build(t,e,n,r){const i={},o={},a={},s={},u={},c=Rt(t),d=t.accounts?class{static build(t,e,n,r){var i;const o={};return null===(i=t.accounts)||void 0===i||i.forEach((i=>{const a=l()(i.name);o[a]=new we(t,i,n,r,e)})),o}}.build(t,e,n,r):{},f=class{static build(t,e,n,r){if(void 0!==t.state)return new ge(t,n,r,e)}}.build(t,e,n,r);return t.instructions.forEach((f=>{const h=pe.build(f,((t,n)=>e.instruction.encode(t,n)),n),p=ye.build(f,h),m=me.build(f,p,c,r),y=class{static build(t,e,n,r,i,o,a){return async(...s)=>{const u=e(...s),[,c]=he(t,[...s]);let l;try{l=await r.simulate(u,c.signers,c.options)}catch(t){$("debug-logs")&&console.log("Translating error:",t);let r=k.parse(t,n);if(null===r)throw t;throw r}if(void 0===l)throw new Error("Unable to simulate transaction");if(l.value.err)throw new Error(`Simulate error: ${l.value.err.toString()}`);const d=l.value.logs;if(!d)throw new Error("Simulated logs not found");const f=[];return a.events&&new Se(o,i).parseLogs(d,(t=>{f.push(t)})),{events:f,raw:d}}}}.build(f,p,c,r,e,n,t),g=Be.build(r,n,f,h,p,m,y,d),v=l()(f.name);o[v]=h,a[v]=p,i[v]=m,s[v]=y,u[v]=g})),[i,o,a,d,s,u,f]}}.build(t,this._coder,e,n);this.rpc=i,this.instruction=o,this.transaction=a,this.account=s,this.simulate=u,this.methods=c,this.state=d}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(t,e){const n=zt(t),r=await Le.fetchIdl(n,e);if(!r)throw new Error(`IDL not found for program: ${t.toString()}`);return new Le(r,n,e)}static async fetchIdl(t,e){e=null!=e?e:A();const n=zt(t),r=await async function(t){const e=(await i.PublicKey.findProgramAddress([],t))[0];return await i.PublicKey.createWithSeed(e,"anchor:idl",t)}(n),o=await e.connection.getAccountInfo(r);if(!o)return null;let a=(s=o.data.slice(8),fe.decode(s));var s;const u=(0,y.rr)(a.data);return JSON.parse(Yt(u))}addEventListener(t,e){return this._events.addEventListener(t,e)}async removeEventListener(t){return await this._events.removeEventListener(t)}}class De{static token(){return new Le(xe,Te,undefined,Ie())}}},9642:function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function i(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"===typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}n.d(e,{Ul:function(){return a},gY:function(){return r},gK:function(){return i}})},6518:function(t,e,n){"use strict";n.d(e,{V:function(){return Z}});var r,i=n(9642),o=n(7294),a=n(133),s=n(8529);function u(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=(0,o.useRef)(e);return(0,o.useEffect)((function(){r.current=e}),[e]),(0,o.useCallback)((function(t){for(var e,n=(0,i.Ul)(r.current);!(e=n()).done;){var o=e.value;null!=o&&("function"===typeof o?o(t):o.current=t)}}),[r])}function c(t){for(var e,n,r=t.parentElement,i=null;r&&!(r instanceof HTMLFieldSetElement);)r instanceof HTMLLegendElement&&(i=r),r=r.parentElement;var o=null!=(e=""===(null==(n=r)?void 0:n.getAttribute("disabled")))&&e;return(!o||!function(t){if(!t)return!1;var e=t.previousElementSibling;for(;null!==e;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}(i))&&o}!function(t){t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab"}(r||(r={}));var l=n(5989),d=n(2506);function f(t,e,n){var r=(0,o.useRef)(e);r.current=e,(0,o.useEffect)((function(){function e(t){r.current.call(window,t)}return window.addEventListener(t,e,n),function(){return window.removeEventListener(t,e,n)}}),[t,n])}var h,p,m,y,g=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((function(t){return t+":not([tabindex='-1'])"})).join(",");function v(t){null==t||t.focus({preventScroll:!0})}function w(t,e){var n=Array.isArray(t)?t:function(t){return void 0===t&&(t=document.body),null==t?[]:Array.from(t.querySelectorAll(g))}(t),r=document.activeElement,i=function(){if(e&(h.First|h.Next))return m.Next;if(e&(h.Previous|h.Last))return m.Previous;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),o=function(){if(e&h.First)return 0;if(e&h.Previous)return Math.max(0,n.indexOf(r))-1;if(e&h.Next)return Math.max(0,n.indexOf(r))+1;if(e&h.Last)return n.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),a=e&h.NoScroll?{preventScroll:!0}:{},s=0,u=n.length,c=void 0;do{var l;if(s>=u||s+u<=0)return p.Error;var d=o+s;if(e&h.WrapAround)d=(d+u)%u;else{if(d<0)return p.Underflow;if(d>=u)return p.Overflow}null==(l=c=n[d])||l.focus(a),s+=i}while(c!==document.activeElement);return c.hasAttribute("tabindex")||c.setAttribute("tabindex","0"),p.Success}!function(t){t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll"}(h||(h={})),function(t){t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow"}(p||(p={})),function(t){t[t.Previous=-1]="Previous",t[t.Next=1]="Next"}(m||(m={})),function(t){t[t.Strict=0]="Strict",t[t.Loose=1]="Loose"}(y||(y={}));var b,_=n(7933);function A(t,e,n){void 0===e&&(e=b.All);var a=void 0===n?{}:n,s=a.initialFocus,u=a.containers,c=(0,o.useRef)("undefined"!==typeof window?document.activeElement:null),l=(0,o.useRef)(null),d=(0,_.t)(),m=Boolean(e&b.RestoreFocus),y=Boolean(e&b.InitialFocus);(0,o.useEffect)((function(){m&&(c.current=document.activeElement)}),[m]),(0,o.useEffect)((function(){if(m)return function(){v(c.current),c.current=null}}),[m]),(0,o.useEffect)((function(){if(y&&t.current){var e=document.activeElement;if(null==s?void 0:s.current){if((null==s?void 0:s.current)===e)return void(l.current=e)}else if(t.current.contains(e))return void(l.current=e);(null==s?void 0:s.current)?v(s.current):w(t.current,h.First)===p.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),l.current=document.activeElement}}),[t,s,y]),f("keydown",(function(n){e&b.TabLock&&t.current&&n.key===r.Tab&&(n.preventDefault(),w(t.current,(n.shiftKey?h.Previous:h.Next)|h.WrapAround)===p.Success&&(l.current=document.activeElement))})),f("focus",(function(n){if(e&b.FocusLock){var r=new Set(null==u?void 0:u.current);if(r.add(t),r.size){var o=l.current;if(o&&d.current){var a=n.target;a&&a instanceof HTMLElement?!function(t,e){for(var n,r=(0,i.Ul)(t);!(n=r()).done;){var o;if(null==(o=n.value.current)?void 0:o.contains(e))return!0}return!1}(r,a)?(n.preventDefault(),n.stopPropagation(),v(o)):(l.current=a,v(a)):v(l.current)}}}}),!0)}!function(t){t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All"}(b||(b={}));var S=n(852),E=new Set,k=new Map;function T(t){t.setAttribute("aria-hidden","true"),t.inert=!0}function I(t){var e=k.get(t);e&&(null===e["aria-hidden"]?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",e["aria-hidden"]),t.inert=e.inert)}var x=(0,o.createContext)(!1);function P(t){return o.createElement(x.Provider,{value:t.force},t.children)}var M=n(3935);function B(){var t=(0,o.useContext)(x),e=(0,o.useContext)(C),n=(0,o.useState)((function(){if(!t&&null!==e)return null;if("undefined"===typeof window)return null;var n=document.getElementById("headlessui-portal-root");if(n)return n;var r=document.createElement("div");return r.setAttribute("id","headlessui-portal-root"),document.body.appendChild(r)})),r=n[0],i=n[1];return(0,o.useEffect)((function(){t||null!==e&&i(e.current)}),[e,i,t]),r}var O=o.Fragment;function L(t){var e=t,n=B(),r=(0,o.useState)((function(){return"undefined"===typeof window?null:document.createElement("div")}))[0],i=(0,l.H)();return(0,S.e)((function(){if(n&&r)return n.appendChild(r),function(){var t;n&&(r&&(n.removeChild(r),n.childNodes.length<=0&&(null==(t=n.parentElement)||t.removeChild(n))))}}),[n,r]),i&&n&&r?(0,M.createPortal)((0,s.sY)({props:e,defaultTag:O,name:"Portal"}),r):null}var D=o.Fragment,C=(0,o.createContext)(null);L.Group=function(t){var e=t.target,n=(0,i.gK)(t,["target"]);return o.createElement(C.Provider,{value:e},(0,s.sY)({props:n,defaultTag:D,name:"Popover.Group"}))};var R=(0,o.createContext)(null);function U(){var t=(0,o.useContext)(R);if(null===t){var e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,U),e}return t}var N,z,j,F,q=n(3980),K=(0,o.createContext)((function(){}));function V(t){var e=t.children,n=t.onUpdate,r=t.type,i=t.element,a=(0,o.useContext)(K),s=(0,o.useCallback)((function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];null==n||n.apply(void 0,e),a.apply(void 0,e)}),[a,n]);return(0,S.e)((function(){return s(N.Add,r,i),function(){return s(N.Remove,r,i)}}),[s,r,i]),o.createElement(K.Provider,{value:s},e)}K.displayName="StackContext",function(t){t[t.Add=0]="Add",t[t.Remove=1]="Remove"}(N||(N={})),function(t){t[t.Open=0]="Open",t[t.Closed=1]="Closed"}(j||(j={})),function(t){t[t.SetTitleId=0]="SetTitleId"}(F||(F={}));var $=((z={})[F.SetTitleId]=function(t,e){return t.titleId===e.id?t:(0,i.gY)({},t,{titleId:e.id})},z),G=(0,o.createContext)(null);function W(t){var e=(0,o.useContext)(G);if(null===e){var n=new Error("<"+t+" /> is missing a parent <"+Z.displayName+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,W),n}return e}function H(t,e){return(0,a.E)(e.type,$,t,e)}G.displayName="DialogContext";var X=s.AN.RenderStrategy|s.AN.Static,Y=(0,s.yV)((function(t,e){var n,c=t.open,h=t.onClose,p=t.initialFocus,m=(0,i.gK)(t,["open","onClose","initialFocus"]),y=(0,o.useState)(0),g=y[0],v=y[1],w=(0,q.oJ)();void 0===c&&null!==w&&(c=(0,a.E)(w,((n={})[q.ZM.Open]=!0,n[q.ZM.Closed]=!1,n)));var _=(0,o.useRef)(new Set),x=(0,o.useRef)(null),M=u(x,e),B=t.hasOwnProperty("open")||null!==w,O=t.hasOwnProperty("onClose");if(!B&&!O)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!B)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!O)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!==typeof c)throw new Error("You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: "+c);if("function"!==typeof h)throw new Error("You provided an `onClose` prop to the `Dialog`, but the value is not a function. Received: "+h);var D=c?j.Open:j.Closed,C=null!==w?w===q.ZM.Open:D===j.Open,U=(0,o.useReducer)(H,{titleId:null,descriptionId:null}),z=U[0],K=U[1],$=(0,o.useCallback)((function(){return h(!1)}),[h]),W=(0,o.useCallback)((function(t){return K({type:F.SetTitleId,id:t})}),[K]),Y=(0,l.H)()&&D===j.Open,J=g>1,Z=null!==(0,o.useContext)(G),Q=J?"parent":"leaf";A(x,Y?(0,a.E)(Q,{parent:b.RestoreFocus,leaf:b.All}):b.None,{initialFocus:p,containers:_}),function(t,e){void 0===e&&(e=!0),(0,S.e)((function(){if(e&&t.current){var n=t.current;E.add(n);for(var r,o=(0,i.Ul)(k.keys());!(r=o()).done;){var a=r.value;a.contains(n)&&(I(a),k.delete(a))}return document.querySelectorAll("body > *").forEach((function(t){if(t instanceof HTMLElement){for(var e,n=(0,i.Ul)(E);!(e=n()).done;){var r=e.value;if(t.contains(r))return}1===E.size&&(k.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),T(t))}})),function(){if(E.delete(n),E.size>0)document.querySelectorAll("body > *").forEach((function(t){if(t instanceof HTMLElement&&!k.has(t)){for(var e,n=(0,i.Ul)(E);!(e=n()).done;){var r=e.value;if(t.contains(r))return}k.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),T(t)}}));else for(var t,e=(0,i.Ul)(k.keys());!(t=e()).done;){var r=t.value;I(r),k.delete(r)}}}}),[e])}(x,!!J&&Y),f("mousedown",(function(t){var e,n=t.target;D===j.Open&&(J||(null==(e=x.current)?void 0:e.contains(n))||$())})),f("keydown",(function(t){t.key===r.Escape&&D===j.Open&&(J||(t.preventDefault(),t.stopPropagation(),$()))})),(0,o.useEffect)((function(){if(D===j.Open&&!Z){var t=document.documentElement.style.overflow,e=document.documentElement.style.paddingRight,n=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=n+"px",function(){document.documentElement.style.overflow=t,document.documentElement.style.paddingRight=e}}}),[D,Z]),(0,o.useEffect)((function(){if(D===j.Open&&x.current){var t=new IntersectionObserver((function(t){for(var e,n=(0,i.Ul)(t);!(e=n()).done;){var r=e.value;0===r.boundingClientRect.x&&0===r.boundingClientRect.y&&0===r.boundingClientRect.width&&0===r.boundingClientRect.height&&$()}}));return t.observe(x.current),function(){return t.disconnect()}}}),[D,x,$]);var tt=function(){var t=(0,o.useState)([]),e=t[0],n=t[1];return[e.length>0?e.join(" "):void 0,(0,o.useMemo)((function(){return function(t){var e=(0,o.useCallback)((function(t){return n((function(e){return[].concat(e,[t])})),function(){return n((function(e){var n=e.slice(),r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}))}}),[]),r=(0,o.useMemo)((function(){return{register:e,slot:t.slot,name:t.name,props:t.props}}),[e,t.slot,t.name,t.props]);return o.createElement(R.Provider,{value:r},t.children)}}),[n])]}(),et=tt[0],nt=tt[1],rt="headlessui-dialog-"+(0,d.M)(),it=(0,o.useMemo)((function(){return[{dialogState:D,close:$,setTitleId:W},z]}),[D,z,$,W]),ot=(0,o.useMemo)((function(){return{open:D===j.Open}}),[D]),at={ref:M,id:rt,role:"dialog","aria-modal":D===j.Open||void 0,"aria-labelledby":z.titleId,"aria-describedby":et,onClick:function(t){t.stopPropagation()}},st=m;return o.createElement(V,{type:"Dialog",element:x,onUpdate:(0,o.useCallback)((function(t,e,n){var r;"Dialog"===e&&(0,a.E)(t,((r={})[N.Add]=function(){_.current.add(n),v((function(t){return t+1}))},r[N.Remove]=function(){_.current.add(n),v((function(t){return t-1}))},r))}),[])},o.createElement(P,{force:!0},o.createElement(L,null,o.createElement(G.Provider,{value:it},o.createElement(L.Group,{target:x},o.createElement(P,{force:!1},o.createElement(nt,{slot:ot,name:"Dialog.Description"},(0,s.sY)({props:(0,i.gY)({},st,at),slot:ot,defaultTag:"div",features:X,visible:C,name:"Dialog"}))))))))})),J=(0,s.yV)((function t(e,n){var r=W([Z.displayName,t.name].join("."))[0],a=r.dialogState,l=r.close,f=u(n),h="headlessui-dialog-overlay-"+(0,d.M)(),p=(0,o.useCallback)((function(t){if(t.target===t.currentTarget){if(c(t.currentTarget))return t.preventDefault();t.preventDefault(),t.stopPropagation(),l()}}),[l]),m=(0,o.useMemo)((function(){return{open:a===j.Open}}),[a]),y={ref:f,id:h,"aria-hidden":!0,onClick:p},g=e;return(0,s.sY)({props:(0,i.gY)({},g,y),slot:m,defaultTag:"div",name:"Dialog.Overlay"})}));var Z=Object.assign(Y,{Overlay:J,Title:function t(e){var n=W([Z.displayName,t.name].join("."))[0],r=n.dialogState,a=n.setTitleId,u="headlessui-dialog-title-"+(0,d.M)();(0,o.useEffect)((function(){return a(u),function(){return a(null)}}),[u,a]);var c=(0,o.useMemo)((function(){return{open:r===j.Open}}),[r]),l={id:u},f=e;return(0,s.sY)({props:(0,i.gY)({},f,l),slot:c,defaultTag:"h2",name:"Dialog.Title"})},Description:function(t){var e=U(),n="headlessui-description-"+(0,d.M)();(0,S.e)((function(){return e.register(n)}),[n,e.register]);var r=t,o=(0,i.gY)({},e.props,{id:n});return(0,s.sY)({props:(0,i.gY)({},r,o),slot:e.slot||{},defaultTag:"p",name:e.name||"Description"})}})},5131:function(t,e,n){"use strict";n.d(e,{u:function(){return x}});var r,i=n(9642),o=n(7294),a=n(133),s=n(8529),u=n(852),c=n(5989),l=n(2506),d=n(7933),f=n(3980);function h(){var t=[],e={requestAnimationFrame:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){var t=requestAnimationFrame.apply(void 0,arguments);e.add((function(){return cancelAnimationFrame(t)}))})),nextFrame:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.requestAnimationFrame((function(){e.requestAnimationFrame.apply(e,n)}))},setTimeout:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){var t=setTimeout.apply(void 0,arguments);e.add((function(){return clearTimeout(t)}))})),add:function(e){t.push(e)},dispose:function(){for(var e,n=(0,i.Ul)(t.splice(0));!(e=n()).done;){var r=e.value;r()}}};return e}function p(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&r.length>0&&(e=t.classList).add.apply(e,r)}function m(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&r.length>0&&(e=t.classList).remove.apply(e,r)}function y(t,e,n,i,o,a){var s=h(),u=void 0!==a?function(t){var e={called:!1};return function(){if(!e.called)return e.called=!0,t.apply(void 0,arguments)}}(a):function(){};return m.apply(void 0,[t].concat(o)),p.apply(void 0,[t].concat(e,n)),s.nextFrame((function(){m.apply(void 0,[t].concat(n)),p.apply(void 0,[t].concat(i)),s.add(function(t,e){var n=h();if(!t)return n.dispose;var i=getComputedStyle(t),o=[i.transitionDuration,i.transitionDelay].map((function(t){var e=t.split(",").filter(Boolean).map((function(t){return t.includes("ms")?parseFloat(t):1e3*parseFloat(t)})).sort((function(t,e){return e-t}))[0];return void 0===e?0:e})),a=o[0],s=o[1];return 0!==a?n.setTimeout((function(){e(r.Finished)}),a+s):e(r.Finished),n.add((function(){return e(r.Cancelled)})),n.dispose}(t,(function(n){return m.apply(void 0,[t].concat(i,e)),p.apply(void 0,[t].concat(o)),u(n)})))})),s.add((function(){return m.apply(void 0,[t].concat(e,n,i,o))})),s.add((function(){return u(r.Cancelled)})),s.dispose}function g(t){return void 0===t&&(t=""),(0,o.useMemo)((function(){return t.split(" ").filter((function(t){return t.trim().length>1}))}),[t])}!function(t){t.Finished="finished",t.Cancelled="cancelled"}(r||(r={}));var v,w=(0,o.createContext)(null);w.displayName="TransitionContext",function(t){t.Visible="visible",t.Hidden="hidden"}(v||(v={}));var b=(0,o.createContext)(null);function _(t){return"children"in t?_(t.children):t.current.filter((function(t){return t.state===v.Visible})).length>0}function A(t){var e=(0,o.useRef)(t),n=(0,o.useRef)([]),r=(0,d.t)();(0,o.useEffect)((function(){e.current=t}),[t]);var i=(0,o.useCallback)((function(t,i){var o;void 0===i&&(i=s.l4.Hidden);var u=n.current.findIndex((function(e){return e.id===t}));-1!==u&&((0,a.E)(i,((o={})[s.l4.Unmount]=function(){n.current.splice(u,1)},o[s.l4.Hidden]=function(){n.current[u].state=v.Hidden},o)),!_(n)&&r.current&&(null==e.current||e.current()))}),[e,r,n]),u=(0,o.useCallback)((function(t){var e=n.current.find((function(e){return e.id===t}));return e?e.state!==v.Visible&&(e.state=v.Visible):n.current.push({id:t,state:v.Visible}),function(){return i(t,s.l4.Unmount)}}),[n,i]);return(0,o.useMemo)((function(){return{children:n,register:u,unregister:i}}),[u,i,n])}function S(){}b.displayName="NestingContext";var E=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function k(t){for(var e,n={},r=(0,i.Ul)(E);!(e=r()).done;){var o,a=e.value;n[a]=null!=(o=t[a])?o:S}return n}var T=s.AN.RenderStrategy;function I(t){var e,n=t.beforeEnter,d=t.afterEnter,h=t.beforeLeave,p=t.afterLeave,m=t.enter,S=t.enterFrom,E=t.enterTo,I=t.entered,x=t.leave,P=t.leaveFrom,M=t.leaveTo,B=(0,i.gK)(t,["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]),O=(0,o.useRef)(null),L=(0,o.useState)(v.Visible),D=L[0],C=L[1],R=B.unmount?s.l4.Unmount:s.l4.Hidden,U=function(){var t=(0,o.useContext)(w);if(null===t)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}(),N=U.show,z=U.appear,j=U.initial,F=function(){var t=(0,o.useContext)(b);if(null===t)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}(),q=F.register,K=F.unregister,V=(0,l.M)(),$=(0,o.useRef)(!1),G=A((function(){$.current||(C(v.Hidden),K(V),tt.current.afterLeave())}));(0,u.e)((function(){if(V)return q(V)}),[q,V]),(0,u.e)((function(){var t;R===s.l4.Hidden&&V&&(N&&D!==v.Visible?C(v.Visible):(0,a.E)(D,((t={})[v.Hidden]=function(){return K(V)},t[v.Visible]=function(){return q(V)},t)))}),[D,V,q,K,N,R]);var W=g(m),H=g(S),X=g(E),Y=g(I),J=g(x),Z=g(P),Q=g(M),tt=function(t){var e=(0,o.useRef)(k(t));return(0,o.useEffect)((function(){e.current=k(t)}),[t]),e}({beforeEnter:n,afterEnter:d,beforeLeave:h,afterLeave:p}),et=(0,c.H)();(0,o.useEffect)((function(){if(et&&D===v.Visible&&null===O.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[O,D,et]);var nt=j&&!z;(0,u.e)((function(){var t=O.current;if(t&&!nt)return $.current=!0,N&&tt.current.beforeEnter(),N||tt.current.beforeLeave(),N?y(t,W,H,X,Y,(function(t){$.current=!1,t===r.Finished&&tt.current.afterEnter()})):y(t,J,Z,Q,Y,(function(t){$.current=!1,t===r.Finished&&(_(G)||(C(v.Hidden),K(V),tt.current.afterLeave()))}))}),[tt,V,$,K,G,O,nt,N,W,H,X,J,Z,Q]);var rt={ref:O},it=B;return o.createElement(b.Provider,{value:G},o.createElement(f.up,{value:(0,a.E)(D,(e={},e[v.Visible]=f.ZM.Open,e[v.Hidden]=f.ZM.Closed,e))},(0,s.sY)({props:(0,i.gY)({},it,rt),defaultTag:"div",features:T,visible:D===v.Visible,name:"Transition.Child"})))}function x(t){var e,n=t.show,r=t.appear,u=void 0!==r&&r,c=t.unmount,l=(0,i.gK)(t,["show","appear","unmount"]),d=(0,f.oJ)();void 0===n&&null!==d&&(n=(0,a.E)(d,((e={})[f.ZM.Open]=!0,e[f.ZM.Closed]=!1,e)));if(![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");var h=(0,o.useState)(n?v.Visible:v.Hidden),p=h[0],m=h[1],y=A((function(){m(v.Hidden)})),g=function(){var t=(0,o.useRef)(!0);return(0,o.useEffect)((function(){t.current=!1}),[]),t.current}(),S=(0,o.useMemo)((function(){return{show:n,appear:u||!g,initial:g}}),[n,u,g]);(0,o.useEffect)((function(){n?m(v.Visible):_(y)||m(v.Hidden)}),[n,y]);var E={unmount:c};return o.createElement(b.Provider,{value:y},o.createElement(w.Provider,{value:S},(0,s.sY)({props:(0,i.gY)({},E,{as:o.Fragment,children:o.createElement(I,Object.assign({},E,l))}),defaultTag:o.Fragment,features:T,visible:p===v.Visible,name:"Transition"})))}x.Child=function(t){var e=null!==(0,o.useContext)(w),n=null!==(0,f.oJ)();return!e&&n?o.createElement(x,Object.assign({},t)):o.createElement(I,Object.assign({},t))},x.Root=x},2506:function(t,e,n){"use strict";n.d(e,{M:function(){return u}});var r=n(7294),i=n(852),o=n(5989),a=0;function s(){return++a}function u(){var t=(0,o.H)(),e=(0,r.useState)(t?s:null),n=e[0],a=e[1];return(0,i.e)((function(){null===n&&a(s())}),[n]),null!=n?""+n:void 0}},7933:function(t,e,n){"use strict";n.d(e,{t:function(){return i}});var r=n(7294);function i(){var t=(0,r.useRef)(!1);return(0,r.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]),t}},852:function(t,e,n){"use strict";n.d(e,{e:function(){return i}});var r=n(7294),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect},5989:function(t,e,n){"use strict";n.d(e,{H:function(){return o}});var r=n(7294),i={serverHandoffComplete:!1};function o(){var t=(0,r.useState)(i.serverHandoffComplete),e=t[0],n=t[1];return(0,r.useEffect)((function(){!0!==e&&n(!0)}),[e]),(0,r.useEffect)((function(){!1===i.serverHandoffComplete&&(i.serverHandoffComplete=!0)}),[]),e}},3980:function(t,e,n){"use strict";n.d(e,{up:function(){return s},ZM:function(){return r},oJ:function(){return a}});var r,i=n(7294),o=(0,i.createContext)(null);function a(){return(0,i.useContext)(o)}function s(t){var e=t.value,n=t.children;return i.createElement(o.Provider,{value:e},n)}o.displayName="OpenClosedContext",function(t){t[t.Open=0]="Open",t[t.Closed=1]="Closed"}(r||(r={}))},133:function(t,e,n){"use strict";function r(t,e){if(t in e){for(var n=e[t],i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return"function"===typeof n?n.apply(void 0,o):n}var s=new Error('Tried to handle "'+t+'" but there is no handler defined. Only defined handlers are: '+Object.keys(e).map((function(t){return'"'+t+'"'})).join(", ")+".");throw Error.captureStackTrace&&Error.captureStackTrace(s,r),s}n.d(e,{E:function(){return r}})},8529:function(t,e,n){"use strict";n.d(e,{AN:function(){return r},l4:function(){return i},yV:function(){return l},sY:function(){return u}});var r,i,o=n(9642),a=n(7294),s=n(133);function u(t){var e=t.props,n=t.slot,a=t.defaultTag,u=t.features,l=t.visible,d=void 0===l||l,f=t.name;if(d)return c(e,n,a,f);var h=null!=u?u:r.None;if(h&r.Static){var p=e.static,m=void 0!==p&&p,y=(0,o.gK)(e,["static"]);if(m)return c(y,n,a,f)}if(h&r.RenderStrategy){var g,v=e.unmount,w=void 0===v||v,b=(0,o.gK)(e,["unmount"]),_=w?i.Unmount:i.Hidden;return(0,s.E)(_,((g={})[i.Unmount]=function(){return null},g[i.Hidden]=function(){return c((0,o.gY)({},b,{hidden:!0,style:{display:"none"}}),n,a,f)},g))}return c(e,n,a,f)}function c(t,e,n,r){var i;void 0===e&&(e={});var s=d(t,["unmount","static"]),u=s.as,c=void 0===u?n:u,l=s.children,f=s.refName,h=void 0===f?"ref":f,p=(0,o.gK)(s,["as","children","refName"]),m=void 0!==t.ref?((i={})[h]=t.ref,i):{},y="function"===typeof l?l(e):l;if(p.className&&"function"===typeof p.className&&(p.className=p.className(e)),c===a.Fragment&&Object.keys(p).length>0){if(!(0,a.isValidElement)(y)||Array.isArray(y)&&y.length>1)throw new Error(['Passing props on "Fragment"!',"","The current component <"+r+' /> is rendering a "Fragment".',"However we need to passthrough the following props:",Object.keys(p).map((function(t){return"  - "+t})).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((function(t){return"  - "+t})).join("\n")].join("\n"));return(0,a.cloneElement)(y,Object.assign({},function(t,e,n){for(var r,i=Object.assign({},t),a=function(){var n,o=r.value;void 0!==t[o]&&void 0!==e[o]&&Object.assign(i,((n={})[o]=function(n){n.defaultPrevented||t[o](n),n.defaultPrevented||e[o](n)},n))},s=(0,o.Ul)(n);!(r=s()).done;)a();return i}(function(t){var e=Object.assign({},t);for(var n in e)void 0===e[n]&&delete e[n];return e}(d(p,["ref"])),y.props,["onClick"]),m))}return(0,a.createElement)(c,Object.assign({},d(p,["ref"]),c!==a.Fragment&&m),y)}function l(t){var e;return Object.assign((0,a.forwardRef)(t),{displayName:null!=(e=t.displayName)?e:t.name})}function d(t,e){void 0===e&&(e=[]);for(var n,r=Object.assign({},t),i=(0,o.Ul)(e);!(n=i()).done;){var a=n.value;a in r&&delete r[a]}return r}!function(t){t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static"}(r||(r={})),function(t){t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden"}(i||(i={}))},3283:function(t,e,n){"use strict";n.d(e,{BN:function(){return a.a},$r:function(){return Ce},zt:function(){return x}});var r=n(8764),i=n(4020),o=n(3550),a=n.n(o),s=n(7191),u=n.n(s),c=n(9742),l=n(3204),d=n.n(l),f=n(2023),h=n(9593),p=n(9282),m=n.n(p),y=n(7885),g=n(6729),v=n.n(g),w=n(8764).Buffer,b=Object.freeze({__proto__:null,encode:function(t){return t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),"0x")},decode:function(t){0===t.indexOf("0x")&&(t=t.substr(2)),t.length%2==1&&(t="0"+t);let e=t.match(/.{2}/g);return null===e?r.Buffer.from([]):r.Buffer.from(e.map((t=>parseInt(t,16))))}});function _(t){return new TextDecoder("utf-8").decode(t)}function A(t){return(new TextEncoder).encode(t)}var S=Object.freeze({__proto__:null,decode:_,encode:A});function E(t){return u().encode(t)}var k=Object.freeze({__proto__:null,encode:E,decode:function(t){return u().decode(t)}}),T=Object.freeze({__proto__:null,encode:function(t){return c.fromByteArray(t)},decode:function(t){return r.Buffer.from(c.toByteArray(t))}}),I=Object.freeze({__proto__:null,hex:b,utf8:S,bs58:k,base64:T});class x{constructor(t,e,n){this.connection=t,this.wallet=e,this.opts=n}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async send(t,e,n){var r;void 0===e&&(e=[]),void 0===n&&(n=this.opts),t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,t=await this.wallet.signTransaction(t),e.filter((t=>void 0!==t)).forEach((e=>{t.partialSign(e)}));const o=t.serialize();try{return await P(this.connection,o,n)}catch(e){if(e instanceof M){const n=await this.connection.getTransaction(E(t.signature),{commitment:"confirmed"});if(n){const t=null===(r=n.meta)||void 0===r?void 0:r.logMessages;throw t?new i.SendTransactionError(e.message,t):e}throw e}throw e}}async sendAll(t,e){void 0===e&&(e=this.opts);const n=await this.connection.getRecentBlockhash(e.preflightCommitment);let r=t.map((t=>{let e=t.tx,r=t.signers;return void 0===r&&(r=[]),e.feePayer=this.wallet.publicKey,e.recentBlockhash=n.blockhash,r.filter((t=>void 0!==t)).forEach((t=>{e.partialSign(t)})),e}));const i=await this.wallet.signAllTransactions(r),o=[];for(let a=0;a<r.length;a+=1){const t=i[a].serialize();o.push(await P(this.connection,t,e))}return o}async simulate(t,e,n=this.opts){var r,i,o;return void 0===e&&(e=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(r=n.preflightCommitment)&&void 0!==r?r:this.opts.preflightCommitment)).blockhash,t=await this.wallet.signTransaction(t),e.filter((t=>void 0!==t)).forEach((e=>{t.partialSign(e)})),await async function(t,e,n){e.recentBlockhash=await t._recentBlockhash(t._disableBlockhashCaching);const r=e.serializeMessage(),i=[e._serialize(r).toString("base64"),{encoding:"base64",commitment:n}],o=await t._rpcRequest("simulateTransaction",i);if(o.error)throw new Error("failed to simulate transaction: "+o.error.message);return o.result}(this.connection,t,null!==(o=null!==(i=n.commitment)&&void 0!==i?i:this.opts.commitment)&&void 0!==o?o:"processed")}}async function P(t,e,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},i=await t.sendRawTransaction(e,r),o=(await t.confirmTransaction(i,n&&n.commitment)).value;if(o.err)throw new M(`Raw transaction ${i} failed (${JSON.stringify(o)})`);return i}class M extends Error{constructor(t){super(t)}}function B(){return null===O?x.local():O}let O=null;const L=new Set(["anchor-deprecated-state","debug-logs"]),D=new Map;function C(t){return void 0!==D.get(t)}var R=Object.freeze({__proto__:null,set:function(t){if(!L.has(t))throw new Error("Invalid feature");D.set(t,!0)},isSet:C});class U extends Error{constructor(t){super(t),this.name="IdlError"}}class N{constructor(t){this.stack=t}static parse(t){var e;const n=/^Program (\w*) invoke/,r=/^Program \w* success/,o=[];for(let a=0;a<t.length;a++){if(r.exec(t[a])){o.pop();continue}const s=null===(e=n.exec(t[a]))||void 0===e?void 0:e[1];s&&o.push(new i.PublicKey(s))}return new N(o)}}class z extends Error{constructor(t,e,n,r,i,o){super(n.join("\n").replace("Program log: ","")),this.errorLogs=n,this.logs=r,this.error={errorCode:t,errorMessage:e,comparedValues:o,origin:i},this._programErrorStack=N.parse(r)}static parse(t){if(!t)return null;const e=t.findIndex((t=>t.startsWith("Program log: AnchorError")));if(-1===e)return null;const n=t[e],r=[n];let o;if(e+1<t.length)if("Program log: Left:"===t[e+1]){const n=/^Program log: (.*)$/,a=n.exec(t[e+2])[1],s=n.exec(t[e+4])[1];o=[new i.PublicKey(a),new i.PublicKey(s)],r.push(...t.slice(e+1,e+5))}else if(t[e+1].startsWith("Program log: Left:")){const n=/^Program log: (Left|Right): (.*)$/,i=n.exec(t[e+1])[2],a=n.exec(t[e+2])[2];r.push(...t.slice(e+1,e+3)),o=[i,a]}const a=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),s=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),u=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(a){const[e,n,i]=a.slice(1,4),s={code:e,number:parseInt(n)};return new z(s,i,r,t,void 0,o)}if(s){const[e,n,i,a,u]=s.slice(1,6),c={code:i,number:parseInt(a)},l={file:e,line:parseInt(n)};return new z(c,u,r,t,l,o)}if(u){const[e,n,i,a]=u.slice(1,5),s=e,c={code:n,number:parseInt(i)};return new z(c,a,r,t,s,o)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class j extends Error{constructor(t,e,n){super(),this.code=t,this.msg=e,this.logs=n,n&&(this._programErrorStack=N.parse(n))}static parse(t,e){const n=t.toString();let r,i;if(n.includes("custom program error:")){let t=n.split("custom program error: ");if(2!==t.length)return null;r=t[1]}else{const t=n.match(/"Custom":([0-9]+)}/g);if(!t||t.length>1)return null;r=t[0].match(/([0-9]+)/g)[0]}try{i=parseInt(r)}catch(t){return null}let o=e.get(i);return void 0!==o?new j(i,o,t.logs):(o=q.get(i),void 0!==o?new j(i,o,t.logs):null)}get program(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack}toString(){return this.msg}}function F(t,e){C("debug-logs")&&console.log("Translating error:",t);const n=z.parse(t.logs);if(n)return n;const r=j.parse(t,e);if(r)return r;if(t.logs){const e={get:function(e,n){return"programErrorStack"===n?e.programErrorStack.stack:"program"===n?e.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=N.parse(t.logs),new Proxy(t,e)}return t}const q=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has_one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exemption constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"A state constraint was violated"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[2500,"A require expression was violated"],[2501,"A require_eq expression was violated"],[2502,"A require_keys_eq expression was violated"],[2503,"A require_neq expression was violated"],[2504,"A require_keys_neq expression was violated"],[2505,"A require_gt expression was violated"],[2506,"A require_gte expression was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[3015,"The given public key does not match the required sysvar"],[4e3,"The given state account does not have the correct address"],[4100,"The declared program id does not match the actual program id"],[5e3,"The API being used is deprecated and should no longer be used"]]);var K=function(){return(K=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},V=function(){return(V=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function $(t){return t.toLowerCase()}var G=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],W=/[^A-Z0-9]+/gi;function H(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce((function(t,e){return t.replace(e,n)}),t)}class X{static fieldLayout(t,e){const n=void 0!==t.name?d()(t.name):void 0;switch(t.type){case"bool":return h.bool(n);case"u8":return h.u8(n);case"i8":return h.i8(n);case"u16":return h.u16(n);case"i16":return h.i16(n);case"u32":return h.u32(n);case"i32":return h.i32(n);case"f32":return h.f32(n);case"u64":return h.u64(n);case"i64":return h.i64(n);case"f64":return h.f64(n);case"u128":return h.u128(n);case"i128":return h.i128(n);case"bytes":return h.vecU8(n);case"string":return h.str(n);case"publicKey":return h.publicKey(n);default:if("vec"in t.type)return h.vec(X.fieldLayout({name:void 0,type:t.type.vec},e),n);if("option"in t.type)return h.option(X.fieldLayout({name:void 0,type:t.type.option},e),n);if("defined"in t.type){const r=t.type.defined;if(void 0===e)throw new U("User defined types not provided");const i=e.filter((t=>t.name===r));if(1!==i.length)throw new U(`Type not found: ${JSON.stringify(t)}`);return X.typeDefLayout(i[0],e,n)}if("array"in t.type){let r=t.type.array[0],i=t.type.array[1],o=X.fieldLayout({name:void 0,type:r},e);return h.array(o,i,n)}throw new Error(`Not yet implemented: ${t}`)}}static typeDefLayout(t,e=[],n){if("struct"===t.type.kind){const r=t.type.fields.map((t=>X.fieldLayout(t,e)));return h.struct(r,n)}if("enum"===t.type.kind){let r=t.type.variants.map((t=>{const n=d()(t.name);if(void 0===t.fields)return h.struct([],n);const r=t.fields.map((t=>{if(!t.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return X.fieldLayout(t,e)}));return h.struct(r,n)}));return void 0!==n?h.rustEnum(r).replicate(n):h.rustEnum(r,n)}throw new Error(`Unknown type kint: ${t}`)}}class Y{constructor(t){this.idl=t,this.ixLayout=Y.parseIxLayout(t);const e=new Map;t.instructions.forEach((t=>{const n=Z("global",t.name);e.set(u().encode(n),{layout:this.ixLayout.get(t.name),name:t.name})})),t.state&&t.state.methods.map((t=>{const n=Z("state",t.name);e.set(u().encode(n),{layout:this.ixLayout.get(t.name),name:t.name})})),this.sighashLayouts=e}encode(t,e){return this._encode("global",t,e)}encodeState(t,e){return this._encode("state",t,e)}_encode(t,e,n){const i=r.Buffer.alloc(1e3),o=d()(e),a=this.ixLayout.get(o);if(!a)throw new Error(`Unknown method: ${o}`);const s=a.encode(n,i),u=i.slice(0,s);return r.Buffer.concat([Z(t,e),u])}static parseIxLayout(t){const e=(t.state?t.state.methods:[]).map((e=>{let n=e.args.map((e=>{var n,r;return X.fieldLayout(e,Array.from([...null!==(n=t.accounts)&&void 0!==n?n:[],...null!==(r=t.types)&&void 0!==r?r:[]]))}));const r=d()(e.name);return[r,h.struct(n,r)]})).concat(t.instructions.map((e=>{let n=e.args.map((e=>{var n,r;return X.fieldLayout(e,Array.from([...null!==(n=t.accounts)&&void 0!==n?n:[],...null!==(r=t.types)&&void 0!==r?r:[]]))}));const r=d()(e.name);return[r,h.struct(n,r)]})));return new Map(e)}decode(t,e="hex"){"string"==typeof t&&(t="hex"===e?r.Buffer.from(t,"hex"):u().decode(t));let n=u().encode(t.slice(0,8)),i=t.slice(8);const o=this.sighashLayouts.get(n);return o?{data:o.layout.decode(i),name:o.name}:null}format(t,e){return J.format(t,e,this.idl)}}class J{static format(t,e,n){const r=n.instructions.filter((e=>t.name===e.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const i=r.args.map((e=>({name:e.name,type:J.formatIdlType(e.type),data:J.formatIdlData(e,t.data[e.name],n.types)}))),o=J.flattenIdlAccounts(r.accounts);return{args:i,accounts:e.map(((t,e)=>e<o.length?{name:o[e].name,...t}:{name:void 0,...t}))}}static formatIdlType(t){if("string"==typeof t)return t;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("defined"in t)return t.defined;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,n){if("string"==typeof t.type)return e.toString();if(t.type.hasOwnProperty("vec"))return"["+e.map((e=>this.formatIdlData({name:"",type:t.type.vec},e))).join(", ")+"]";if(t.type.hasOwnProperty("option"))return null===e?"null":this.formatIdlData({name:"",type:t.type.option},e,n);if(t.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((e=>e.name===t.type.defined));if(1!==r.length)throw new Error(`Type not found: ${t.type.defined}`);return J.formatIdlDataDefined(r[0],e,n)}return"unknown"}static formatIdlDataDefined(t,e,n){if("struct"===t.type.kind){const r=t.type;return"{ "+Object.keys(e).map((t=>{const i=r.fields.filter((e=>e.name===t))[0];if(void 0===i)throw new Error("Unable to find type");return t+": "+J.formatIdlData(i,e[t],n)})).join(", ")+" }"}if(0===t.type.variants.length)return"{}";if(t.type.variants[0].name){const r=t.type.variants,i=Object.keys(e)[0],o=e[i],a=Object.keys(o).map((t=>{var e;const a=o[t],s=null===(e=r[i])||void 0===e?void 0:e.filter((e=>e.name===t))[0];if(void 0===s)throw new Error("Unable to find variant");return t+": "+J.formatIdlData(s,a,n)})).join(", "),s=d()(i,{pascalCase:!0});return 0===a.length?s:`${s} { ${a} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(t,e){return t.map((t=>{const n=function(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}(t.name);if(t.hasOwnProperty("accounts")){const r=e?`${e} > ${n}`:n;return J.flattenIdlAccounts(t.accounts,r)}return{...t,name:e?`${e} > ${n}`:n}})).flat()}}function Z(t,e){var n;let i=`${t}:${void 0===n&&(n={}),function(t,e){return void 0===e&&(e={}),function(t,e){void 0===e&&(e={});for(var n=e.splitRegexp,r=void 0===n?G:n,i=e.stripRegexp,o=void 0===i?W:i,a=e.transform,s=void 0===a?$:a,u=e.delimiter,c=void 0===u?" ":u,l=H(H(t,r,"$1\0$2"),o,"\0"),d=0,f=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(f-1);)f--;return l.slice(d,f).split("\0").map(s).join(c)}(t,V({delimiter:"."},e))}(e,K({delimiter:"_"},n))}`;return r.Buffer.from(f.sha256.digest(i)).slice(0,8)}function Q(t,e){if("enum"===e.type.kind){let n=e.type.variants.map((e=>void 0===e.fields?0:e.fields.map((e=>{if("object"!=typeof e||!("name"in e))throw new Error("Tuple enum variants not yet implemented.");return tt(t,e.type)})).reduce(((t,e)=>t+e))));return Math.max(...n)+1}return void 0===e.type.fields?0:e.type.fields.map((e=>tt(t,e.type))).reduce(((t,e)=>t+e),0)}function tt(t,e){var n,r;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+tt(t,e.option);if("coption"in e)return 4+tt(t,e.coption);if("defined"in e){const i=null!==(r=null===(n=t.types)||void 0===n?void 0:n.filter((t=>t.name===e.defined)))&&void 0!==r?r:[];if(1!==i.length)throw new U(`Type not found: ${JSON.stringify(e)}`);return Q(t,i[0])}if("array"in e){let n=e.array[0],r=e.array[1];return tt(t,n)*r}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}class et{constructor(t){if(void 0===t.accounts)return void(this.accountLayouts=new Map);const e=t.accounts.map((e=>[e.name,X.typeDefLayout(e,t.types)]));this.accountLayouts=new Map(e),this.idl=t}async encode(t,e){const n=r.Buffer.alloc(1e3),i=this.accountLayouts.get(t);if(!i)throw new Error(`Unknown account: ${t}`);const o=i.encode(e,n);let a=n.slice(0,o),s=et.accountDiscriminator(t);return r.Buffer.concat([s,a])}decode(t,e){if(et.accountDiscriminator(t).compare(e.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){const n=e.slice(8),r=this.accountLayouts.get(t);if(!r)throw new Error(`Unknown account: ${t}`);return r.decode(n)}memcmp(t,e){const n=et.accountDiscriminator(t);return{offset:0,bytes:u().encode(e?r.Buffer.concat([n,e]):n)}}size(t){var e;return 8+(null!==(e=Q(this.idl,t))&&void 0!==e?e:0)}static accountDiscriminator(t){return r.Buffer.from(f.sha256.digest(`account:${d()(t,{pascalCase:!0})}`)).slice(0,8)}}class nt{constructor(t){if(void 0===t.events)return void(this.layouts=new Map);const e=t.events.map((e=>{let n={name:e.name,type:{kind:"struct",fields:e.fields.map((t=>({name:t.name,type:t.type})))}};return[e.name,X.typeDefLayout(n,t.types)]}));this.layouts=new Map(e),this.discriminators=new Map(void 0===t.events?[]:t.events.map((t=>[c.fromByteArray(rt(t.name)),t.name])))}decode(t){let e;try{e=r.Buffer.from(c.toByteArray(t))}catch(a){return null}const n=c.fromByteArray(e.slice(0,8)),i=this.discriminators.get(n);if(void 0===i)return null;const o=this.layouts.get(i);if(!o)throw new Error(`Unknown event: ${i}`);return{data:o.decode(e.slice(8)),name:i}}}function rt(t){return r.Buffer.from(f.sha256.digest(`event:${t}`)).slice(0,8)}class it{constructor(t){if(void 0===t.state)throw new Error("Idl state not defined.");this.layout=X.typeDefLayout(t.state.struct,t.types)}async encode(t,e){const n=r.Buffer.alloc(1e3),i=this.layout.encode(e,n),o=await ot(t),a=n.slice(0,i);return r.Buffer.concat([o,a])}decode(t){const e=t.slice(8);return this.layout.decode(e)}}async function ot(t){let e=C("anchor-deprecated-state")?"account":"state";return r.Buffer.from(f.sha256.digest(`${e}:${t}`)).slice(0,8)}class at{constructor(t){this.instruction=new Y(t),this.accounts=new et(t),this.events=new nt(t),t.state&&(this.state=new it(t))}}var st="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};class ut{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var ct=ut;class lt extends ut{isCount(){throw new Error("ExternalLayout is abstract")}}class dt extends lt{constructor(t,e,n){if(!(t instanceof ut))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof ft||this.layout instanceof ht}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return void 0===n&&(n=0),this.layout.encode(t,e,n+this.offset)}}class ft extends ut{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class ht extends ut{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}const pt=Math.pow(2,32);class mt extends ut{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return function(t,e){return t*pt+e}(t.readUInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=function(t){const e=Math.floor(t/pt);return{hi32:e,lo32:t-e*pt}}(t);return e.writeUInt32LE(r.lo32,n),e.writeUInt32LE(r.hi32,n+4),8}}class yt extends ut{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof ut),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const i of t)if(0>i.span&&void 0===i.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(t){throw new RangeError("indeterminate span")}return n}decode(t,e){void 0===e&&(e=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const a of this.fields){let r=a.span;if(o=0<r?r:0,void 0!==a.property){const i=t[a.property];void 0!==i&&(o=a.encode(i,e,n),0>r&&(r=a.getSpan(e,n)))}i=n,n+=r}return i+o-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class gt{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class vt extends gt{constructor(t,e){if(!(t instanceof lt&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class wt extends ut{constructor(t,e,n){const r=t instanceof ft||t instanceof ht;if(r)t=new vt(new dt(t));else if(t instanceof lt&&t.isCount())t=new vt(t);else if(!(t instanceof gt))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof ut))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&r&&(i+=t.layout.span)),super(i,n),this.discriminator=t,this.usesPrefixDiscriminator=r,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return o(t)},this.configGetSourceVariant=function(t){o=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){let n;void 0===e&&(e=0);const r=this.discriminator,i=r.decode(t,e);let o=this.registry[i];if(void 0===o){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(t,e+a)}else n=o.decode(t,e);return n}encode(t,e,n){void 0===n&&(n=0);const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(t[r.property],e,n),o+i.encode(t[i.property],e,n+o)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new bt(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e){let n=t;return w.isBuffer(t)&&(void 0===e&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class bt extends ut{constructor(t,e,n,r){if(!(t instanceof wt))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof ut))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),i+=this.layout.getSpan(e,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class _t extends ut{constructor(t,e){if(!(t instanceof lt&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof lt||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){void 0===e&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let r=this.length;if(this.length instanceof lt&&(r=t.length),!w.isBuffer(t)||r!==t.length)throw new TypeError((i="Blob.encode",(this.property?i+"["+this.property+"]":i)+" requires (length "+r+") Buffer as src"));var i;if(n+r>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,r,"hex"),this.length instanceof lt&&this.length.encode(r,e,n),r}}var At=t=>new ft(1,t),St=t=>new mt(t),Et=(t,e,n)=>new yt(t,e,n),kt=(t,e)=>new _t(t,e);class Tt{constructor(t){}encode(t,e){switch(d()(t)){case"initializeMint":return function({decimals:t,mintAuthority:e,freezeAuthority:n}){return Mt({initializeMint:{decimals:t,mintAuthority:e.toBuffer(),freezeAuthorityOption:!!n,freezeAuthority:(n||i.PublicKey.default).toBuffer()}})}(e);case"initializeAccount":return Mt({initializeAccount:{}});case"initializeMultisig":return function({m:t}){return Mt({initializeMultisig:{m:t}})}(e);case"transfer":return function({amount:t}){return Mt({transfer:{amount:t}})}(e);case"approve":return function({amount:t}){return Mt({approve:{amount:t}})}(e);case"revoke":return Mt({revoke:{}});case"setAuthority":return function({authorityType:t,newAuthority:e}){return Mt({setAuthority:{authorityType:t,newAuthority:e}})}(e);case"mintTo":return function({amount:t}){return Mt({mintTo:{amount:t}})}(e);case"burn":return function({amount:t}){return Mt({burn:{amount:t}})}(e);case"closeAccount":return Mt({closeAccount:{}});case"freezeAccount":return Mt({freezeAccount:{}});case"thawAccount":return Mt({thawAccount:{}});case"transferChecked":return function({amount:t,decimals:e}){return Mt({transferChecked:{amount:t,decimals:e}})}(e);case"approvedChecked":return function({amount:t,decimals:e}){return Mt({approveChecked:{amount:t,decimals:e}})}(e);case"mintToChecked":return function({amount:t,decimals:e}){return Mt({mintToChecked:{amount:t,decimals:e}})}(e);case"burnChecked":return function({amount:t,decimals:e}){return Mt({burnChecked:{amount:t,decimals:e}})}(e);case"intializeAccount2":return function({authority:t}){return Mt({initilaizeAccount2:{authority:t}})}(e);case"syncNative":return Mt({syncNative:{}});case"initializeAccount3":return function({authority:t}){return Mt({initializeAccount3:{authority:t}})}(e);case"initializeMultisig2":return function({m:t}){return Mt({initializeMultisig2:{m:t}})}(e);case"initializeMint2":return function({decimals:t,mintAuthority:e,freezeAuthority:n}){return Mt({encodeInitializeMint2:{decimals:t,mintAuthority:e,freezeAuthority:n}})}(e);default:throw new Error(`Invalid instruction: ${t}`)}}encodeState(t,e){throw new Error("SPL token does not have state")}}const It=(xt=At("instruction"),new wt(xt,undefined,undefined));var xt;function Pt(t){return kt(32,t)}function Mt(t){let e=w.alloc(Bt),n=It.encode(t,e);return e.slice(0,n)}It.addVariant(0,Et([At("decimals"),kt(32,"mintAuthority"),At("freezeAuthorityOption"),Pt("freezeAuthority")]),"initializeMint"),It.addVariant(1,Et([]),"initializeAccount"),It.addVariant(2,Et([At("m")]),"initializeMultisig"),It.addVariant(3,Et([St("amount")]),"transfer"),It.addVariant(4,Et([St("amount")]),"approve"),It.addVariant(5,Et([]),"revoke"),It.addVariant(6,Et([At("authorityType"),At("newAuthorityOption"),Pt("newAuthority")]),"setAuthority"),It.addVariant(7,Et([St("amount")]),"mintTo"),It.addVariant(8,Et([St("amount")]),"burn"),It.addVariant(9,Et([]),"closeAccount"),It.addVariant(10,Et([]),"freezeAccount"),It.addVariant(11,Et([]),"thawAccount"),It.addVariant(12,Et([St("amount"),At("decimals")]),"transferChecked"),It.addVariant(13,Et([St("amount"),At("decimals")]),"approvedChecked"),It.addVariant(14,Et([St("amount"),At("decimals")]),"mintToChecked"),It.addVariant(15,Et([St("amount"),At("decimals")]),"burnedChecked"),It.addVariant(16,Et([Pt("authority")]),"InitializeAccount2"),It.addVariant(17,Et([]),"syncNative"),It.addVariant(18,Et([Pt("authority")]),"initializeAccount3"),It.addVariant(19,Et([At("m")]),"initializeMultisig2"),It.addVariant(20,Et([At("decimals"),Pt("mintAuthority"),At("freezeAuthorityOption"),Pt("freezeAuthority")]),"initializeMint2");const Bt=Math.max(...Object.values(It.registry).map((t=>t.span)));class Ot{constructor(t){}encode(t,e){throw new Error("SPL token does not have state")}decode(t){throw new Error("SPL token does not have state")}}function Lt(t){return new Rt(kt(8),(t=>jt.fromBuffer(t)),(t=>t.toBuffer()),t)}function Dt(t){return new Rt(kt(32),(t=>new i.PublicKey(t)),(t=>t.toBuffer()),t)}function Ct(t,e){return new Ut(t,e)}class Rt extends ct{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}class Ut extends ct{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=new ft(4,void 0)}encode(t,e,n=0){return null==t?this.layout.span+this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+4)+4)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return null;if(1===n)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}function Nt(t){if(0===t)return!1;if(1===t)return!0;throw new Error("Invalid bool: "+t)}function zt(t){return t?1:0}class jt extends(a()){toBuffer(){const t=super.toArray().reverse(),e=w.from(t);if(8===e.length)return e;if(e.length>=8)throw new Error("u64 too large");const n=w.alloc(8);return e.copy(n),n}static fromBuffer(t){if(8!==t.length)throw new Error(`Invalid buffer length: ${t.length}`);return new jt([...t].reverse().map((t=>`00${t.toString(16)}`.slice(-2))).join(""),16)}}class Ft{constructor(t){this.idl=t}async encode(t,e){switch(t){case"token":{const t=w.alloc(165),n=Kt.encode(e,t);return t.slice(0,n)}case"mint":{const t=w.alloc(82),n=qt.encode(e,t);return t.slice(0,n)}default:throw new Error(`Invalid account name: ${t}`)}}decode(t,e){return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){switch(t){case"token":return function(t){return Kt.decode(t)}(e);case"mint":return function(t){return qt.decode(t)}(e);default:throw new Error(`Invalid account name: ${t}`)}}memcmp(t,e){switch(t){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${t}`)}}size(t){var e;return null!==(e=Q(this.idl,t))&&void 0!==e?e:0}}const qt=Et([Ct(Dt(),"mintAuthority"),Lt("supply"),At("decimals"),new Rt(At(),Nt,zt,"isInitialized"),Ct(Dt(),"freezeAuthority")]),Kt=Et([Dt("mint"),Dt("authority"),Lt("amount"),Ct(Dt(),"delegate"),At("state"),Ct(Lt(),"isNative"),Lt("delegatedAmount"),Ct(Dt(),"closeAuthority")]);class Vt{constructor(t){}decode(t){throw new Error("SPL token program does not have events")}}class $t{constructor(t){this.instruction=new Tt(t),this.accounts=new Ft(t),this.events=new Vt(t),this.state=new Ot(t)}}var Gt=Object.freeze({__proto__:null,hash:function(t){return(0,f.sha256)(t)}});function Wt(t){const e=new Map;return t.errors&&t.errors.forEach((t=>{var n;let r=null!==(n=t.msg)&&void 0!==n?n:t.name;e.set(t.code,r)})),e}function Ht(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const n={};let r=0;return t.args.forEach((t=>{n[t.name]=e[r],r+=1})),n}function Xt(t,e={}){t.forEach((t=>{if("accounts"in t)Xt(t.accounts,e[t.name]);else if(void 0===e[t.name])throw new Error(`Invalid arguments: ${t.name} not provided.`)}))}function Yt(t){return t instanceof i.PublicKey?t:new i.PublicKey(t)}async function Jt(t,e,n){if(e.length<=99)return await Zt(t,e,n);{const i=(r=e,99,Array.apply(0,new Array(Math.ceil(r.length/99))).map(((t,e)=>r.slice(99*e,99*(e+1)))));return(await Promise.all(i.map((e=>Zt(t,e,n))))).flat()}var r}async function Zt(t,e,n){const o=null!=n?n:t.commitment,a=[e.map((t=>t.toBase58()))];o&&a.push({commitment:o});const s=await t._rpcRequest("getMultipleAccounts",a);if(s.error)throw new Error("failed to get info about accounts "+e.map((t=>t.toBase58())).join(", ")+": "+s.error.message);m()(void 0!==s.result);const u=[];for(const c of s.result.value){let t=null;if(null!==c){if(s.result.value){const{executable:e,owner:n,lamports:o,data:a}=c;m()("base64"===a[1]),t={executable:e,owner:new i.PublicKey(n),lamports:o,data:r.Buffer.from(a[0],"base64")}}if(null===t)throw new Error("Invalid response");u.push(t)}else u.push(null)}return u.map(((t,n)=>null===t?null:{publicKey:e[n],account:t}))}var Qt=Object.freeze({__proto__:null,invoke:async function(t,e,n,r){t=Yt(t),r||(r=B());const o=new i.Transaction;return o.add(new i.TransactionInstruction({programId:t,keys:null!=e?e:[],data:n})),await r.send(o)},getMultipleAccounts:Jt});function te(t,e,n){const o=r.Buffer.concat([t.toBuffer(),r.Buffer.from(e),n.toBuffer()]),a=f.sha256.digest(o);return new i.PublicKey(r.Buffer.from(a))}function ee(t,e){let n=r.Buffer.alloc(0);t.forEach((function(t){if(t.length>32)throw new TypeError("Max seed length exceeded");n=r.Buffer.concat([n,re(t)])})),n=r.Buffer.concat([n,e.toBuffer(),r.Buffer.from("ProgramDerivedAddress")]);let o=(0,f.sha256)(new Uint8Array(n)),s=new(a())(o,16).toArray(void 0,32);if(i.PublicKey.isOnCurve(new Uint8Array(s)))throw new Error("Invalid seeds, address must fall off the curve");return new i.PublicKey(s)}function ne(t,e){let n,i=255;for(;0!=i;){try{n=ee(t.concat(r.Buffer.from([i])),e)}catch(o){if(o instanceof TypeError)throw o;i--;continue}return[n,i]}throw new Error("Unable to find a viable program address nonce")}const re=t=>t instanceof r.Buffer?t:t instanceof Uint8Array?r.Buffer.from(t.buffer,t.byteOffset,t.byteLength):r.Buffer.from(t);async function ie(t,...e){let n=[r.Buffer.from([97,110,99,104,111,114])];e.forEach((t=>{n.push(t instanceof r.Buffer?t:Yt(t).toBuffer())}));const[o]=await i.PublicKey.findProgramAddress(n,Yt(t));return o}var oe=Object.freeze({__proto__:null,createWithSeedSync:te,createProgramAddressSync:ee,findProgramAddressSync:ne,associated:ie});const ae=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),se=new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var ue=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:ae,ASSOCIATED_PROGRAM_ID:se,associatedAddress:async function({mint:t,owner:e}){return(await i.PublicKey.findProgramAddress([e.toBuffer(),ae.toBuffer(),t.toBuffer()],se))[0]}}),ce={exports:{}};!function(t,e){var n="undefined"!=typeof self?self:st,r=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,a="ArrayBuffer"in t;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function m(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():a&&i&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=p(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=c(t),e=l(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},f.prototype.delete=function(t){delete this.map[c(t)]},f.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},f.prototype.set=function(t,e){this.map[c(t)]=l(e)},f.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},f.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),d(t)},f.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),d(t)},f.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),d(t)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var n,r,i=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),v.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},g.call(w.prototype),g.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var A=[301,302,303,307,308];_.redirect=function(t,e){if(-1===A.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function S(t,n){return new Promise((function(r,o){var a=new w(t,n);if(a.signal&&a.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var t,e,n={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new f,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new _(i,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}S.polyfill=!0,t.fetch||(t.fetch=S,t.Headers=f,t.Request=w,t.Response=_),e.Headers=f,e.Request=w,e.Response=_,e.fetch=S,Object.defineProperty(e,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(ce,ce.exports);var le=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(ce.exports);async function de(t,e){const n=await t.getAccountInfo(e);if(null===n)throw new Error("program account not found");const{program:r}=he(n.data),i=await t.getAccountInfo(r.programdataAddress);if(null===i)throw new Error("program data account not found");const{programData:o}=he(i.data);return o}const fe=h.rustEnum([h.struct([],"uninitialized"),h.struct([h.option(h.publicKey(),"authorityAddress")],"buffer"),h.struct([h.publicKey("programdataAddress")],"program"),h.struct([h.u64("slot"),h.option(h.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,h.u32());function he(t){return fe.decode(t)}var pe=Object.freeze({__proto__:null,verifiedBuild:async function(t,e,n=5){const r=`https://anchor.projectserum.com/api/v0/program/${e.toString()}/latest?limit=${n}`,[i,o]=await Promise.all([de(t,e),le(r)]),a=(await o.json()).filter((t=>!t.aborted&&"Built"===t.state&&"Verified"===t.verified));if(0===a.length)return null;const s=a[0];return i.slot.toNumber()!==s.verified_slot?null:s},fetchData:de,decodeUpgradeableLoaderState:he});Object.freeze({__proto__:null,sha256:Gt,rpc:Qt,publicKey:oe,bytes:I,token:ue,features:R,registry:pe});const me=h.struct([h.publicKey("authority"),h.vecU8("data")]);function ye(t,e){var n,r;let i={};const o=t.args?t.args.length:0;if(e.length>o){if(e.length!==o+1)throw new Error(`provided too many arguments ${e} to instruction ${null==t?void 0:t.name} expecting: ${null!==(r=null===(n=t.args)||void 0===n?void 0:n.map((t=>t.name)))&&void 0!==r?r:[]}`);i=e.pop()}return[e,i]}class ge{static build(t,e,n){if("_inner"===t.name)throw new U("the _inner name is reserved");const r=(...o)=>{const[a,s]=ye(t,[...o]);Xt(t.accounts,s.accounts);const u=r.accounts(s.accounts);return void 0!==s.remainingAccounts&&u.push(...s.remainingAccounts),C("debug-logs")&&console.log("Outgoing account metas:",u),new i.TransactionInstruction({keys:u,programId:n,data:e(t.name,Ht(t,...a))})};return r.accounts=e=>ge.accountsArray(e,t.accounts,t.name),r}static accountsArray(t,e,n){return t?e.map((e=>{if(void 0!==("accounts"in e?e.accounts:void 0)){const r=t[e.name];return ge.accountsArray(r,e.accounts,n).flat()}{const r=e;let i;try{i=Yt(t[e.name])}catch(t){throw new Error(`Wrong input type for account "${e.name}" in the instruction accounts object${void 0!==n?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}return{pubkey:i,isWritable:r.isMut,isSigner:r.isSigner}}})).flat():[]}}class ve{static build(t,e,n,r){return async(...i)=>{const o=e(...i),[,a]=ye(t,[...i]);try{return await r.send(o,a.signers,a.options)}catch(t){throw F(t,n)}}}}class we{static build(t,e){return(...n)=>{var r,o,a;const[,s]=ye(t,[...n]),u=new i.Transaction;if(s.preInstructions&&s.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(r=s.preInstructions)||void 0===r||r.forEach((t=>u.add(t))),null===(o=s.instructions)||void 0===o||o.forEach((t=>u.add(t))),u.add(e(...n)),null===(a=s.postInstructions)||void 0===a||a.forEach((t=>u.add(t))),u}}}class be{constructor(t,e,n=B(),r=new at(t)){this.provider=n,this.coder=r,this._idl=t,this._programId=e,this._address=_e(e),this._sub=null;const[o,a,s]=(()=>{var o;let a={},s={},u={};return null===(o=t.state)||void 0===o||o.methods.forEach((o=>{const c=ge.build(o,((t,e)=>r.instruction.encodeState(t,e)),e);c.accounts=t=>function(t,e,n,r){if("new"===n.name){const[n]=ne([],t);return[{pubkey:e.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:_e(t),isWritable:!0,isSigner:!1},{pubkey:n,isWritable:!1,isSigner:!1},{pubkey:i.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t,isWritable:!1,isSigner:!1}]}return Xt(n.accounts,r),[{pubkey:_e(t),isWritable:!0,isSigner:!1}]}(e,n,o,t).concat(ge.accountsArray(t,o.accounts,o.name));const l=we.build(o,c),f=ve.build(o,l,Wt(t),n),h=d()(o.name);a[h]=c,s[h]=l,u[h]=f})),[a,s,u]})();this.instruction=o,this.transaction=a,this.rpc=s}get programId(){return this._programId}async fetch(){const t=this.address(),e=await this.provider.connection.getAccountInfo(t);if(null===e)throw new Error(`Account does not exist ${t.toString()}`);const n=this._idl.state;if(!n)throw new Error("State is not specified in IDL.");if((await ot(n.struct.name)).compare(e.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(e.data)}address(){return this._address}subscribe(t){if(null!==this._sub)return this._sub.ee;const e=new(v()),n=this.provider.connection.onAccountChange(this.address(),(t=>{const n=this.coder.state.decode(t.data);e.emit("change",n)}),t);return this._sub={ee:e,listener:n},e}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function _e(t){let[e]=ne([],t);return te(e,"unversioned",t)}class Ae{constructor(t,e,n,r,i){this._idlAccount=e,this._programId=n,this._provider=null!=r?r:B(),this._coder=null!=i?i:new at(t),this._size=this._coder.accounts.size(e)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(t,e){const n=await this.getAccountInfo(t,e);return null===n?null:this._coder.accounts.decode(this._idlAccount.name,n.data)}async fetch(t,e){const n=await this.fetchNullable(t,e);if(null===n)throw new Error(`Account does not exist ${t.toString()}`);return n}async fetchMultiple(t,e){return(await Jt(this._provider.connection,t.map((t=>Yt(t))),e)).map((t=>null==t?null:this._coder.accounts.decode(this._idlAccount.name,null==t?void 0:t.account.data)))}async all(t){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,t instanceof w?t:void 0)},...Array.isArray(t)?t:[]]})).map((({pubkey:t,account:e})=>({publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,e.data)})))}subscribe(t,e){const n=Se.get(t.toString());if(n)return n.ee;const r=new(v());t=Yt(t);const i=this._provider.connection.onAccountChange(t,(t=>{const e=this._coder.accounts.decode(this._idlAccount.name,t.data);r.emit("change",e)}),e);return Se.set(t.toString(),{ee:r,listener:i}),r}async unsubscribe(t){let e=Se.get(t.toString());e?Se&&await this._provider.connection.removeAccountChangeListener(e.listener).then((()=>{Se.delete(t.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(t,e){const n=this.size;return i.SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:t.publicKey,space:null!=e?e:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=e?e:n),programId:this._programId})}async associated(...t){const e=await this.associatedAddress(...t);return await this.fetch(e)}async associatedAddress(...t){return await ie(this._programId,...t)}async getAccountInfo(t,e){return await this._provider.connection.getAccountInfo(Yt(t),e)}}const Se=new Map,Ee="Program log: ".length,ke="Program data: ".length;class Te{constructor(t,e,n){this._programId=t,this._provider=e,this._eventParser=new Ie(t,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,e){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,t in this._eventCallbacks||this._eventListeners.set(t,[]),this._eventListeners.set(t,(null!==(n=this._eventListeners.get(t))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[t,e]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((t,e)=>{t.err||this._eventParser.parseLogs(t.logs,(t=>{const n=this._eventListeners.get(t.name);n&&n.forEach((n=>{const r=this._eventCallbacks.get(n);if(r){const[,n]=r;n(t.data,e.slot)}}))}))}))),r}async removeEventListener(t){const e=this._eventCallbacks.get(t);if(!e)throw new Error(`Event listener ${t} doesn't exist!`);const[n]=e;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);this._eventCallbacks.delete(t),r=r.filter((e=>e!==t)),0===r.length&&this._eventListeners.delete(n),0==this._eventCallbacks.size&&(p.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class Ie{constructor(t,e){this.coder=e,this.programId=t}parseLogs(t,e){const n=new Pe(t),r=new xe(n.next());let i=n.next();for(;null!==i;){let[t,o,a]=this.handleLog(r,i);t&&e(t),o&&r.push(o),a&&r.pop(),i=n.next()}}handleLog(t,e){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(e):[null,...this.handleSystemLog(e)]}handleProgramLog(t){if(t.startsWith("Program log: ")||t.startsWith("Program data: ")){const e=t.startsWith("Program log: ")?t.slice(Ee):t.slice(ke);return[this.coder.events.decode(e),null,!1]}return[null,...this.handleSystemLog(t)]}handleSystemLog(t){const e=t.split(":")[0];return null!==e.match(/^Program (.*) success/g)?[null,!0]:e.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:e.includes("invoke")?["cpi",!1]:[null,!1]}}class xe{constructor(t){var e;const n=null===(e=/^Program (.*) invoke.*$/g.exec(t))||void 0===e?void 0:e[1];if(!n)throw new Error("Could not find program invocation log line");this.stack=[n]}program(){return p.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){p.ok(this.stack.length>0),this.stack.pop()}}class Pe{constructor(t){this.logs=t}next(){if(0===this.logs.length)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}}new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function Me(){return new $t(Be)}const Be={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class Oe{constructor(t,e,n,r,i,o){this._args=t,this._accounts=e,this._provider=n,this._programId=r,this._idlIx=i,this._accountStore=new Le(n,o)}async resolve(){for(let t=0;t<this._idlIx.accounts.length;t+=1){const e=this._idlIx.accounts[t],n=d()(e.name);e.pda&&e.pda.seeds.length>0&&!this._accounts[n]?await this.autoPopulatePda(e):!e.isSigner||this._accounts[n]?Reflect.has(Oe.CONST_ACCOUNTS,n)&&!this._accounts[n]&&(this._accounts[n]=Oe.CONST_ACCOUNTS[n]):this._accounts[n]=this._provider.wallet.publicKey}}async autoPopulatePda(t){if(!t.pda||!t.pda.seeds)throw new Error("Must have seeds");const e=await Promise.all(t.pda.seeds.map((t=>this.toBuffer(t)))),n=await this.parseProgramId(t),[r]=await i.PublicKey.findProgramAddress(e,n);this._accounts[d()(t.name)]=r}async parseProgramId(t){var e;if(!(null===(e=t.pda)||void 0===e?void 0:e.programId))return this._programId;switch(t.pda.programId.kind){case"const":return new i.PublicKey(this.toBufferConst(t.pda.programId.value));case"arg":return this.argValue(t.pda.programId);case"account":return await this.accountValue(t.pda.programId);default:throw new Error(`Unexpected program seed kind: ${t.pda.programId.kind}`)}}async toBuffer(t){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t);default:throw new Error(`Unexpected seed kind: ${t.kind}`)}}toBufferConst(t){return this.toBufferValue(t.type,t.value)}async toBufferArg(t){const e=this.argValue(t);return this.toBufferValue(t.type,e)}argValue(t){const e=d()(t.path.split(".")[0]),n=this._idlIx.args.findIndex((t=>t.name===e));if(-1===n)throw new Error(`Unable to find argument for seed: ${e}`);return this._args[n]}async toBufferAccount(t){const e=await this.accountValue(t);return this.toBufferValue(t.type,e)}async accountValue(t){const e=t.path.split("."),n=e[0],r=this._accounts[d()(n)];if(1===e.length)return r;const i=await this._accountStore.fetchAccount(t.account,r);return this.parseAccountValue(i,e.slice(1))}parseAccountValue(t,e){let n;for(;e.length>0;)n=t[d()(e[0])],e=e.slice(1);return n}toBufferValue(t,e){switch(t){case"u8":return w.from([e]);case"u16":let n=w.alloc(2);return n.writeUInt16LE(e),n;case"u32":let r=w.alloc(4);return r.writeUInt32LE(e),r;case"u64":let i=w.alloc(8);return i.writeBigUInt64LE(BigInt(e)),i;case"string":return w.from(A(e));case"publicKey":return e.toBuffer();default:if(t.array)return w.from(e);throw new Error(`Unexpected seed type: ${t}`)}}}Oe.CONST_ACCOUNTS={systemProgram:i.SystemProgram.programId,tokenProgram:ae,associatedTokenProgram:se,rent:i.SYSVAR_RENT_PUBKEY};class Le{constructor(t,e){this._provider=t,this._accounts=e,this._cache=new Map}async fetchAccount(t,e){const n=e.toString();if(!this._cache.has(n))if("TokenAccount"===t){const t=await this._provider.connection.getAccountInfo(e);if(null===t)throw new Error(`invalid account info for ${n}`);const r=Me().accounts.decode("token",t.data);this._cache.set(n,r)}else{const r=this._accounts[d()(t)].fetch(e);this._cache.set(n,r)}return this._cache.get(n)}}class De{constructor(t,e,n,r,i,o,a,s,u){this._args=t,this._ixFn=e,this._txFn=n,this._rpcFn=r,this._simulateFn=i,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._accountsResolver=new Oe(t,this._accounts,o,a,s,u)}accounts(t){return Object.assign(this._accounts,t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t){return this._preInstructions=this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async rpc(t){return await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async simulate(t){return await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async instruction(){return await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class Ce{constructor(t,e,n,r){e=Yt(e),n||(n=B()),this._idl=t,this._provider=n,this._programId=e,this._coder=null!=r?r:new at(t),this._events=new Te(this._programId,n,this._coder);const[i,o,a,s,u,c,l]=class{static build(t,e,n,r){const i={},o={},a={},s={},u={},c=Wt(t),l=t.accounts?class{static build(t,e,n,r){var i;const o={};return null===(i=t.accounts)||void 0===i||i.forEach((i=>{const a=d()(i.name);o[a]=new Ae(t,i,n,r,e)})),o}}.build(t,e,n,r):{},f=class{static build(t,e,n,r){if(void 0!==t.state)return new be(t,n,r,e)}}.build(t,e,n,r);return t.instructions.forEach((f=>{const h=ge.build(f,((t,n)=>e.instruction.encode(t,n)),n),p=we.build(f,h),m=ve.build(f,p,c,r),y=class{static build(t,e,n,r,i,o,a){return async(...s)=>{const u=e(...s),[,c]=ye(t,[...s]);let l;try{l=await r.simulate(u,c.signers,c.options)}catch(t){throw F(t,n)}if(void 0===l)throw new Error("Unable to simulate transaction");if(l.value.err)throw new Error(`Simulate error: ${l.value.err.toString()}`);const d=l.value.logs;if(!d)throw new Error("Simulated logs not found");const f=[];return a.events&&new Ie(o,i).parseLogs(d,(t=>{f.push(t)})),{events:f,raw:d}}}}.build(f,p,c,r,e,n,t),g=class{static build(t,e,n,r,i,o,a,s){return(...u)=>new De(u,r,i,o,a,t,e,n,s)}}.build(r,n,f,h,p,m,y,l),v=d()(f.name);o[v]=h,a[v]=p,i[v]=m,s[v]=y,u[v]=g})),[i,o,a,l,s,u,f]}}.build(t,this._coder,e,n);this.rpc=i,this.instruction=o,this.transaction=a,this.account=s,this.simulate=u,this.methods=c,this.state=l}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(t,e){const n=Yt(t),r=await Ce.fetchIdl(n,e);if(!r)throw new Error(`IDL not found for program: ${t.toString()}`);return new Ce(r,n,e)}static async fetchIdl(t,e){e=null!=e?e:B();const n=Yt(t),r=await async function(t){const e=(await i.PublicKey.findProgramAddress([],t))[0];return await i.PublicKey.createWithSeed(e,"anchor:idl",t)}(n),o=await e.connection.getAccountInfo(r);if(!o)return null;let a=(s=o.data.slice(8),me.decode(s));var s;const u=(0,y.rr)(a.data);return JSON.parse(_(u))}addEventListener(t,e){return this._events.addEventListener(t,e)}async removeEventListener(t){return await this._events.removeEventListener(t)}}},6282:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.translateAddress=e.validateAccounts=e.toInstruction=e.parseIdlErrors=void 0;const r=n(4020);e.parseIdlErrors=function(t){const e=new Map;return t.errors&&t.errors.forEach((t=>{var n;let r=null!==(n=t.msg)&&void 0!==n?n:t.name;e.set(t.code,r)})),e},e.toInstruction=function(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const n={};let r=0;return t.args.forEach((t=>{n[t.name]=e[r],r+=1})),n},e.validateAccounts=function t(e,n={}){e.forEach((e=>{if("accounts"in e)t(e.accounts,n[e.name]);else if(void 0===n[e.name])throw new Error(`Invalid arguments: ${e.name} not provided.`)}))},e.translateAddress=function(t){return t instanceof r.PublicKey?t:new r.PublicKey(t)}},81:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=void 0;const a=n(8764),s=o(n(9742));e.encode=function(t){return s.fromByteArray(t)},e.decode=function(t){return a.Buffer.from(s.toByteArray(t))}},5478:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=void 0;const i=r(n(7191));e.encode=function(t){return i.default.encode(t)},e.decode=function(t){return i.default.decode(t)}},6767:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=void 0;const r=n(8764);e.encode=function(t){return t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),"0x")},e.decode=function(t){0===t.indexOf("0x")&&(t=t.substr(2)),t.length%2===1&&(t="0"+t);let e=t.match(/.{2}/g);return null===e?r.Buffer.from([]):r.Buffer.from(e.map((t=>parseInt(t,16))))}},6525:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.base64=e.bs58=e.utf8=e.hex=void 0,e.hex=o(n(6767)),e.utf8=o(n(4563)),e.bs58=o(n(5478)),e.base64=o(n(81))},4563:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encode=e.decode=void 0;const r=n(193);e.decode=function(t){return(r.isBrowser?new TextDecoder("utf-8"):new(n(9539).TextDecoder)("utf-8")).decode(t)},e.encode=function(t){return(r.isBrowser?new TextEncoder:new(n(9539).TextEncoder)("utf-8")).encode(t)}},193:function(t,e,n){"use strict";var r,i=n(4155);Object.defineProperty(e,"__esModule",{value:!0}),e.chunks=e.isBrowser=void 0,e.isBrowser=i.env.BROWSER||"undefined"!==typeof window&&!(null===(r=window.process)||void 0===r?void 0:r.hasOwnProperty("type")),e.chunks=function(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map(((n,r)=>t.slice(r*e,(r+1)*e)))}},3163:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.associated=e.findProgramAddressSync=e.createProgramAddressSync=e.createWithSeedSync=void 0;const i=n(8764),o=r(n(3550)),a=n(2023),s=n(4020),u=n(6282);function c(t,e){let n=i.Buffer.alloc(0);t.forEach((function(t){if(t.length>32)throw new TypeError("Max seed length exceeded");n=i.Buffer.concat([n,l(t)])})),n=i.Buffer.concat([n,e.toBuffer(),i.Buffer.from("ProgramDerivedAddress")]);let r=(0,a.sha256)(new Uint8Array(n)),u=new o.default(r,16).toArray(void 0,32);if(s.PublicKey.isOnCurve(new Uint8Array(u)))throw new Error("Invalid seeds, address must fall off the curve");return new s.PublicKey(u)}e.createWithSeedSync=function(t,e,n){const r=i.Buffer.concat([t.toBuffer(),i.Buffer.from(e),n.toBuffer()]),o=a.sha256.digest(r);return new s.PublicKey(i.Buffer.from(o))},e.createProgramAddressSync=c,e.findProgramAddressSync=function(t,e){let n,r=255;for(;0!=r;){try{n=c(t.concat(i.Buffer.from([r])),e)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")};const l=t=>t instanceof i.Buffer?t:t instanceof Uint8Array?i.Buffer.from(t.buffer,t.byteOffset,t.byteLength):i.Buffer.from(t);e.associated=async function(t,...e){let n=[i.Buffer.from([97,110,99,104,111,114])];e.forEach((t=>{n.push(t instanceof i.Buffer?t:(0,u.translateAddress)(t).toBuffer())}));const[r]=await s.PublicKey.findProgramAddress(n,(0,u.translateAddress)(t));return r}},3453:function(t,e,n){"use strict";n.d(e,{km:function(){return C},mz:function(){return U},Go:function(){return N},YD:function(){return L}});var r=n(3776),i=n.n(r),o=n(2177),a=n(9386),s=n(4020),u=n(3550),c=n.n(u),l=(n(3029),n(8764).Buffer);function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h;(function(t){var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(B){u=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r=d;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return M()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=l(t,e,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(B){return{type:"throw",arg:B}}}t.wrap=c;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",m={};function y(){}function g(){}function v(){}var w={};u(w,o,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(P([])));_&&_!==n&&r.call(_,o)&&(w=_);var A=v.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"===typeof d&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(d).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function k(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:M}}function M(){return{value:e,done:!0}}return g.prototype=v,u(A,"constructor",v),u(v,"constructor",g),g.displayName=u(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},t.awrap=function(t){return{__await:t}},S(E.prototype),u(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new E(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(A),u(A,s,"Generator"),u(A,o,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=P,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}(t.exports);try{regeneratorRuntime=e}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(h={exports:{}},h.exports);i().config({precision:64,rounding:i().ROUND_DOWN,toExpNeg:-64,toExpPos:64});var p,m=new(i())(10),y=new(i())(2).pow(64),g=y.div(2).sub(1),v=y.div(2).neg(),w=y.sub(1),b=y.pow(63).sub(1),_=b.neg(),A=y.pow(64).sub(1),S=40,E=function(){function t(){}return t.from64Buffer=function(t,e){if(void 0===e&&(e=0),8!==t.length&&(0,o.default)(!1),Math.abs(e)<S||(0,o.default)(!1),t[7]>=128){for(var n,r=[],a=f(t);!(n=a()).done;){var s=n.value;r.push(("00"+Math.abs(255&~s).toString(16)).slice(-2))}var u=new(c())(r.join(""),16,"le").add(new(c())(1)).neg();return new(i())(u.toString()).div(m.pow(e))}return new(i())(new(c())(t,"le").toString()).div(m.pow(e))},t.fromU64Buffer=function(t,e){return void 0===e&&(e=0),8!==t.length&&(0,o.default)(!1),Math.abs(e)<S||(0,o.default)(!1),new(i())(new(c())(t,16,"le").toString()).div(m.pow(e))},t.from128Buffer=function(t,e){if(void 0===e&&(e=0),16!==t.length&&(0,o.default)(!1),Math.abs(e)<S||(0,o.default)(!1),t[15]>=128){for(var n,r=[],a=f(t);!(n=a()).done;){var s=n.value;r.push(("00"+Math.abs(255&~s).toString(16)).slice(-2))}var u=new(c())(r.join(""),16,"le").add(new(c())(1)).neg();return new(i())(u.toString()).div(m.pow(e))}return new(i())(new(c())(t,"le").toString()).div(m.pow(e))},t.fromU128Buffer=function(t,e){return void 0===e&&(e=0),16!==t.length&&(0,o.default)(!1),Math.abs(e)<S||(0,o.default)(!1),new(i())(new(c())(t,"le").toString()).div(m.pow(e))},t.to64Buffer=function(t,e){void 0===e&&(e=0),Math.abs(e)<S||(0,o.default)(!1),(t=t.mul(m.pow(e)).round()).greaterThanOrEqualTo(v)&&t.lessThanOrEqualTo(g)||(0,o.default)(!1);var n=new(c())(t.toString());if(n.isNeg()){var r=n.add(new(c())(1)).toBuffer("le",8);return r.forEach((function(t,e,n){n[e]=255&~t})),r}return n.toBuffer("le",8)},t.toU64Buffer=function(t,e){return void 0===e&&(e=0),Math.abs(e)<S||(0,o.default)(!1),(t=t.mul(m.pow(e)).round()).greaterThanOrEqualTo(0)&&t.lessThanOrEqualTo(w)||(0,o.default)(!1),new(c())(t.toString()).toBuffer("le",8)},t.to128Buffer=function(t,e){void 0===e&&(e=0),Math.abs(e)<S||(0,o.default)(!1),(t=t.mul(m.pow(e)).round()).greaterThanOrEqualTo(_)&&t.lessThanOrEqualTo(b)||(0,o.default)(!1);var n=new(c())(t.toString());if(n.isNeg()){var r=n.add(new(c())(1)).toBuffer("le",16);return r.forEach((function(t,e,n){n[e]=255&~t})),r}return n.toBuffer("le",16)},t.toU128Buffer=function(t,e){return void 0===e&&(e=0),Math.abs(e)<S||(0,o.default)(!1),(t=t.mul(m.pow(e)).round()).greaterThanOrEqualTo(0)&&t.lessThanOrEqualTo(A)||(0,o.default)(!1),new(c())(t.toString()).toBuffer("le",16)},t}(),k=function(t){void 0===t&&(t="publicKey");var e=(0,a.Ik)(32,t),n=function(t){return{decode:t.decode.bind(t),encode:t.encode.bind(t)}}(e),r=n.encode,i=n.decode,o=e;return o.decode=function(t,e){var n=i(t,e);return new s.PublicKey(n)},o.encode=function(t,e,n){var i=t.toBuffer();return r(i,e,n)},o},T=function(t,e){void 0===t&&(t="uint64"),void 0===e&&(e=0);var n=(0,a.Ik)(8,t),r=n.decode.bind(n),i=n.encode.bind(n),o=n;return o.decode=function(t,n){var i=l.from(r(t,n));return E.fromU64Buffer(i,e)},o.encode=function(t,n,r){var o=E.toU64Buffer(t,e);return i(o,n,r)},o},I=function(t,e){void 0===t&&(t="uint64"),void 0===e&&(e=0);var n=(0,a.Ik)(16,t),r=n.decode.bind(n),i=n.encode.bind(n),o=n;return o.decode=function(t,n){var i=l.from(r(t,n));return E.from128Buffer(i,e)},o.encode=function(t,n,r){var o=E.to128Buffer(t,e);return i(o,n,r)},o},x=function(t,e){void 0===t&&(t="uint64"),void 0===e&&(e=0);var n=(0,a.Ik)(16,t),r=n.decode.bind(n),i=n.encode.bind(n),o=n;return o.decode=function(t,n){var i=l.from(r(t,n));return E.fromU128Buffer(i,e)},o.encode=function(t,n,r){var o=E.toU128Buffer(t,e);return i(o,n,r)},o};!function(t){t[t.Initialize=0]="Initialize",t[t.Swap=1]="Swap",t[t.DepositAllTokenTypes=2]="DepositAllTokenTypes",t[t.WithdrawAllTokenTypes=3]="WithdrawAllTokenTypes",t[t.Claim=4]="Claim",t[t.ManagerClaim=5]="ManagerClaim",t[t.AddUserPosition=6]="AddUserPosition",t[t.UpdateFee=7]="UpdateFee",t[t.SimulateSwap=8]="SimulateSwap"}(p||(p={}));var P=504e3,M=(0,a.n_)([(0,a.Xo)("tick"),x("tickPrice",12),x("liquityGross"),I("liquityNet"),x("feeGrowthOutside0",16),x("feeGrowthOutside1",16)],"tickInfo"),B=(0,a.n_)([(0,a.u8)("swapVersion"),k("tokenSwapKey"),(0,a.u8)("accountType"),(0,a.Xo)("len"),(0,a.Ik)(503962,"dataFlat")],"ticksAccount"),O=function(t){return t.data.length===P},L=function(t,e){if(O(e)){var n=l.from(e.data),r=B.decode(n),i=r.swapVersion,o=r.tokenSwapKey,s=r.accountType,u=r.len,c=r.dataFlat,d=u*M.span,f=c.slice(0,d);return{pubkey:t,info:e,data:{swapVersion:i,tokenSwapKey:o,accountType:s,len:u,ticks:(0,a.A9)(M,u).decode(f)}}}},D=(0,a.n_)([k("nftTokenId"),(0,a.Xo)("lowerTick"),(0,a.Xo)("upperTick"),x("liquity"),x("feeGrowthInsideALast",16),x("feeGrowthInsideBLast",16),x("tokenAFee",16),x("tokenBFee",16)],"position"),C=(D.span,(0,a.n_)([k("tokenSwapKey"),(0,a.u8)("accountType"),(0,a.u8)("version"),(0,a.u8)("isInitialized"),(0,a.u8)("nonce"),k("tokenProgramId"),k("manager"),k("managerTokenA"),k("managerTokenB"),k("swapTokenA"),k("swapTokenB"),k("tokenAMint"),k("tokenBMint"),k("ticksKey"),k("positionsKey"),(0,a.u8)("curveType"),T("fee",12),T("managerFee",12),(0,a.Jq)("tickSpace"),x("currentSqrtPrice",12),x("currentLiquity"),x("feeGrowthGlobal0",16),x("feeGrowthGlobal1",16),x("managerFeeA"),x("managerFeeB")],"tokenSwapAccount")),R=(C.span,new r.Decimal("1e-12"));function U(t,e,n,i,a){a.greaterThan(new r.Decimal(0))||(0,o.default)(!1),i.greaterThanOrEqualTo(new r.Decimal(0))||(0,o.default)(!1),t.length>0||(0,o.default)(!1),e>t[0].tickPrice||(0,o.default)(!1);for(var s=i,u=new r.Decimal(0),c=a,l=new r.Decimal(0),d=new r.Decimal(0),f=new r.Decimal(0),h=t.length-1;h>=0;h--)if(s.equals(new r.Decimal(0)))e=t[h].tickPrice.sub(R),s=s.sub(t[h].liquityNet);else if(!(e<t[h].tickPrice)){var p=e,m=t[h].tickPrice,y=z(m,e,s),g=y.mul(n).toDP(0,r.Decimal.ROUND_DOWN);if(l=c.lessThan(g)?c:c.sub(g),y.greaterThanOrEqualTo(l)){var v=F(p,s,l=c.mul(new r.Decimal(1).sub(n)).toDP(0,r.Decimal.ROUND_UP)),w=v.amountOut,b=v.afterSqrtPrice;return f=f.add(c),d=d.add(c.sub(l)),{amountOut:u.add(w),amountUsed:f,feeUsed:d,afterPrice:b,afterLiquity:s}}c=l.sub(y),f=f.add(y).add(g),d=d.add(g),u=u.add(j(m,p,s)),s=s.sub(t[h].liquityNet),e=t[h].tickPrice.sub(R)}return{amountOut:u,amountUsed:f,feeUsed:d,afterPrice:e,afterLiquity:s}}function N(t,e,n,i,a){a.greaterThan(new r.Decimal(0))||(0,o.default)(!1),i.greaterThanOrEqualTo(new r.Decimal(0))||(0,o.default)(!1),t.length>0||(0,o.default)(!1),e.lessThan(t[t.length-1].tickPrice)||(0,o.default)(!1);for(var s=i,u=new r.Decimal(0),c=a,l=new r.Decimal(0),d=new r.Decimal(0),f=new r.Decimal(0),h=0;h<t.length;h++)if(s.equals(new r.Decimal(0)))e=t[h].tickPrice.add(R),s=s.add(t[h].liquityNet);else if(!(e>t[h].tickPrice)){var p=t[h].tickPrice,m=j(e,p,s),y=m.mul(n).toDP(0,r.Decimal.ROUND_DOWN);if(l=c.lessThan(y)?c:c.sub(y),m.greaterThanOrEqualTo(l)){var g=q(e,s,l=c.mul(new r.Decimal(1).sub(n)).toDP(0,r.Decimal.ROUND_UP)),v=g.amountOut,w=g.afterSqrtPrice;return d=d.add(c),f=f.add(c.sub(l)),{amountOut:u.add(v),feeUsed:f,amountUsed:d,afterPrice:w.pow(2),afterLiquity:s}}c=l.sub(m),d=d.add(m).add(y),f=f.add(y),u=u.add(z(e,p,s)),s=s.add(t[h].liquityNet),e=t[h].tickPrice.add(R)}return{amountOut:u,amountUsed:d,feeUsed:f,afterPrice:e,afterLiquity:s}}function z(t,e,n){return n.div(t).toDP(0,r.Decimal.ROUND_DOWN).sub(n.div(e).toDP(0,r.Decimal.ROUND_DOWN))}function j(t,e,n){return n.mul(e.sub(t)).toDP(0,r.Decimal.ROUND_DOWN)}function F(t,e,n){var i=e.div(n.add(e.div(t))),o=n.add(e.div(t).toDP(0,r.Decimal.ROUND_DOWN));return{amountOut:e.mul(t).toDP(0,r.Decimal.ROUND_DOWN).sub(e.mul(e).div(o).toDP(0,r.Decimal.ROUND_DOWN)),afterSqrtPrice:i}}function q(t,e,n){var i=n.div(e).add(t),o=n.add(e.mul(t).toDP(0,r.Decimal.ROUND_DOWN));return{amountOut:e.div(t).toDP(0,r.Decimal.ROUND_DOWN).sub(e.mul(e).div(o).toDP(0,r.Decimal.ROUND_DOWN)),afterSqrtPrice:i}}i().config({precision:64,rounding:i().ROUND_HALF_DOWN,toExpNeg:-64,toExpPos:64})},1752:function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var i,o,a=r(n(9499)),s=r(n(2177)),u=r(n(3776)),c=r(n(3302)),l=r(n(2447)),d=n(6134);(i=e.YL||(e.YL={}))[i.EXACT_INPUT=0]="EXACT_INPUT",i[i.EXACT_OUTPUT=1]="EXACT_OUTPUT",(o=e.mL||(e.mL={}))[o.ROUND_DOWN=0]="ROUND_DOWN",o[o.ROUND_HALF_UP=1]="ROUND_HALF_UP",o[o.ROUND_UP=2]="ROUND_UP";var f,h,p=a.BigInt("0xffffffffffffffffffffffffffffffff");function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return e&&m(t.prototype,e),n&&m(t,n),t}function g(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var v=l(u),w=l(c),b=((f={})[e.mL.ROUND_DOWN]=v.ROUND_DOWN,f[e.mL.ROUND_HALF_UP]=v.ROUND_HALF_UP,f[e.mL.ROUND_UP]=v.ROUND_UP,f),_=((h={})[e.mL.ROUND_DOWN]=0,h[e.mL.ROUND_HALF_UP]=1,h[e.mL.ROUND_UP]=3,h),A=function(){function t(t,e){void 0===e&&(e=a.BigInt(1)),this.numerator=a.BigInt(t),this.denominator=a.BigInt(e)}t.tryParseFraction=function(e){if(e instanceof a||"number"==typeof e||"string"==typeof e)return new t(e);if("numerator"in e&&"denominator"in e)return e;throw new Error("Could not parse fraction")};var n=t.prototype;return n.invert=function(){return new t(this.denominator,this.numerator)},n.add=function(e){var n=t.tryParseFraction(e);return a.equal(this.denominator,n.denominator)?new t(a.add(this.numerator,n.numerator),this.denominator):new t(a.add(a.multiply(this.numerator,n.denominator),a.multiply(n.numerator,this.denominator)),a.multiply(this.denominator,n.denominator))},n.subtract=function(e){var n=t.tryParseFraction(e);return a.equal(this.denominator,n.denominator)?new t(a.subtract(this.numerator,n.numerator),this.denominator):new t(a.subtract(a.multiply(this.numerator,n.denominator),a.multiply(n.numerator,this.denominator)),a.multiply(this.denominator,n.denominator))},n.lessThan=function(e){var n=t.tryParseFraction(e);return a.lessThan(a.multiply(this.numerator,n.denominator),a.multiply(n.numerator,this.denominator))},n.equalTo=function(e){var n=t.tryParseFraction(e);return a.equal(a.multiply(this.numerator,n.denominator),a.multiply(n.numerator,this.denominator))},n.greaterThan=function(e){var n=t.tryParseFraction(e);return a.greaterThan(a.multiply(this.numerator,n.denominator),a.multiply(n.numerator,this.denominator))},n.multiply=function(e){var n=t.tryParseFraction(e);return new t(a.multiply(this.numerator,n.numerator),a.multiply(this.denominator,n.denominator))},n.divide=function(e){var n=t.tryParseFraction(e);return new t(a.multiply(this.numerator,n.denominator),a.multiply(this.denominator,n.numerator))},n.toSignificant=function(t,n,r){void 0===n&&(n={groupSeparator:""}),void 0===r&&(r=e.mL.ROUND_HALF_UP),Number.isInteger(t)||s(!1),t>0||s(!1),v.set({precision:t+1,rounding:b[r]});var i=new v(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(t);return i.toFormat(i.decimalPlaces(),n)},n.toFixed=function(t,n,r){return void 0===n&&(n={groupSeparator:""}),void 0===r&&(r=e.mL.ROUND_HALF_UP),Number.isInteger(t)||s(!1),t>=0||s(!1),w.DP=t,w.RM=_[r],new w(this.numerator.toString()).div(this.denominator.toString()).toFormat(t,n)},y(t,[{key:"quotient",get:function(){return a.divide(this.numerator,this.denominator)}},{key:"remainder",get:function(){return new t(a.remainder(this.numerator,this.denominator),this.denominator)}},{key:"asFraction",get:function(){return new t(this.numerator,this.denominator)}}]),t}(),S=l(c),E=function(t){function n(e,n,r){var i;return i=t.call(this,n,r)||this,a.lessThanOrEqual(i.quotient,p)||s(!1),i.currency=e,i.decimalScale=a.exponentiate(a.BigInt(10),a.BigInt(e.decimals)),i}g(n,t),n.fromRawAmount=function(t,e){return new n(t,e)},n.fromFractionalAmount=function(t,e,r){return new n(t,e,r)};var r=n.prototype;return r.add=function(e){this.currency.equals(e.currency)||s(!1);var r=t.prototype.add.call(this,e);return n.fromFractionalAmount(this.currency,r.numerator,r.denominator)},r.subtract=function(e){this.currency.equals(e.currency)||s(!1);var r=t.prototype.subtract.call(this,e);return n.fromFractionalAmount(this.currency,r.numerator,r.denominator)},r.multiply=function(e){var r=t.prototype.multiply.call(this,e);return n.fromFractionalAmount(this.currency,r.numerator,r.denominator)},r.divide=function(e){var r=t.prototype.divide.call(this,e);return n.fromFractionalAmount(this.currency,r.numerator,r.denominator)},r.toSignificant=function(n,r,i){return void 0===n&&(n=6),void 0===i&&(i=e.mL.ROUND_DOWN),t.prototype.divide.call(this,this.decimalScale).toSignificant(n,r,i)},r.toFixed=function(n,r,i){return void 0===n&&(n=this.currency.decimals),void 0===i&&(i=e.mL.ROUND_DOWN),n<=this.currency.decimals||s(!1),t.prototype.divide.call(this,this.decimalScale).toFixed(n,r,i)},r.toExact=function(t){return void 0===t&&(t={groupSeparator:""}),S.DP=this.currency.decimals,new S(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(t)},y(n,[{key:"wrapped",get:function(){return this.currency.isToken?this:n.fromFractionalAmount(this.currency.wrapped,this.numerator,this.denominator)}}]),n}(A),k=new A(a.BigInt(100));function T(t){return new I(t.numerator,t.denominator)}var I=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).isPercent=!0,e}g(e,t);var n=e.prototype;return n.add=function(e){return T(t.prototype.add.call(this,e))},n.subtract=function(e){return T(t.prototype.subtract.call(this,e))},n.multiply=function(e){return T(t.prototype.multiply.call(this,e))},n.divide=function(e){return T(t.prototype.divide.call(this,e))},n.toSignificant=function(e,n,r){return void 0===e&&(e=5),t.prototype.multiply.call(this,k).toSignificant(e,n,r)},n.toFixed=function(e,n,r){return void 0===e&&(e=2),t.prototype.multiply.call(this,k).toFixed(e,n,r)},e}(A),x=function(t){function e(){for(var e,n,r,i,o,s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];if(4===u.length)n=u[0],r=u[1],i=u[2],o=u[3];else{var l=u[0].quoteAmount.divide(u[0].baseAmount),d=[u[0].baseAmount.currency,u[0].quoteAmount.currency,l.denominator,l.numerator];n=d[0],r=d[1],i=d[2],o=d[3]}return(e=t.call(this,o,i)||this).baseCurrency=n,e.quoteCurrency=r,e.scalar=new A(a.exponentiate(a.BigInt(10),a.BigInt(n.decimals)),a.exponentiate(a.BigInt(10),a.BigInt(r.decimals))),e}g(e,t);var n=e.prototype;return n.invert=function(){return new e(this.quoteCurrency,this.baseCurrency,this.numerator,this.denominator)},n.multiply=function(n){this.quoteCurrency.equals(n.baseCurrency)||s(!1);var r=t.prototype.multiply.call(this,n);return new e(this.baseCurrency,n.quoteCurrency,r.denominator,r.numerator)},n.quote=function(e){e.currency.equals(this.baseCurrency)||s(!1);var n=t.prototype.multiply.call(this,e);return E.fromFractionalAmount(this.quoteCurrency,n.numerator,n.denominator)},n.toSignificant=function(t,e,n){return void 0===t&&(t=6),this.adjustedForDecimals.toSignificant(t,e,n)},n.toFixed=function(t,e,n){return void 0===t&&(t=4),this.adjustedForDecimals.toFixed(t,e,n)},y(e,[{key:"adjustedForDecimals",get:function(){return t.prototype.multiply.call(this,this.scalar)}}]),e}(A),P=function(t,e,n,r){Number.isSafeInteger(t)||s(!1),e>=0&&e<255&&Number.isInteger(e)||s(!1),this.chainId=t,this.decimals=e,this.symbol=n,this.name=r},M=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).isNative=!0,e.isToken=!1,e}return g(e,t),e}(P),B=function(t){function e(e,n,r,i,o){var a;return(a=t.call(this,e,r,i,o)||this).isNative=!1,a.isToken=!0,a.address=n,a}g(e,t);var n=e.prototype;return n.equals=function(t){return t.isToken&&this.chainId===t.chainId&&this.address.equals(t.address)},n.sortsBefore=function(t){this.chainId!==t.chainId&&s(!1),this.address===t.address&&s(!1);var e=new d.BN(this.address.toBuffer()),n=new d.BN(t.address.toBuffer());return e.lt(n)},y(e,[{key:"wrapped",get:function(){return this}}]),e}(P),O=new B(101,new d.web3.PublicKey("So11111111111111111111111111111111111111112"),9,"wSOL","Wrapped SOL"),L=function(t){function e(e){return t.call(this,e,O.decimals,O.symbol,O.name)||this}return g(e,t),e.onChain=function(t){var n;return null!=(n=this._solanaCache[t])?n:this._solanaCache[t]=new e(t)},e.prototype.equals=function(t){return t.isNative&&t.chainId===this.chainId},y(e,[{key:"wrapped",get:function(){return O||s(!1),O}}]),e}(M);L._solanaCache={};var D=a.BigInt(Number.MAX_SAFE_INTEGER),C=a.BigInt(0),R=a.BigInt(1),U=a.BigInt(2);e.CurrencyAmount=E,e.Token=B},324:function(t,e,n){"use strict";t.exports=n(1752)},6134:function(t,e,n){"use strict";n.r(e),n.d(e,{web3:function(){return i},BN:function(){return a.a},ACCOUNT_DISCRIMINATOR_SIZE:function(){return z},AccountClient:function(){return we},BorshAccountsCoder:function(){return j},BorshCoder:function(){return X},BorshEventCoder:function(){return F},BorshInstructionCoder:function(){return D},BorshStateCoder:function(){return W},EventManager:function(){return Ae},EventParser:function(){return Se},IdlError:function(){return E},MethodsBuilderFactory:function(){return Be},Program:function(){return Le},ProgramError:function(){return k},Provider:function(){return b},Spl:function(){return De},SplTokenCoder:function(){return Dt},StateClient:function(){return ge},eventDiscriminator:function(){return q},getProvider:function(){return A},parseIdlErrors:function(){return Rt},setProvider:function(){return _},splitArgsAndCtx:function(){return he},stateDiscriminator:function(){return H},toInstruction:function(){return Ut},translateAddress:function(){return zt},utils:function(){return de},validateAccounts:function(){return Nt}});var r=n(8764),i=n(4020),o=n(3550),a=n.n(o),s=n(7191),u=n.n(s),c=n(3204),l=n.n(c),d=n(2023),f=n(9593),h=n(9742),p=n(9282),m=n.n(p),y=n(7885),g=n(6729),v=n.n(g),w=n(8764).Buffer;class b{constructor(t,e,n){this.connection=t,this.wallet=e,this.opts=n}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async send(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=this.opts),t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,await this.wallet.signTransaction(t),e.filter((t=>void 0!==t)).forEach((e=>{t.partialSign(e)}));const r=t.serialize();return await(0,i.sendAndConfirmRawTransaction)(this.connection,r,n)}async sendAll(t,e){void 0===e&&(e=this.opts);const n=await this.connection.getRecentBlockhash(e.preflightCommitment);let r=t.map((t=>{let e=t.tx,r=t.signers;return void 0===r&&(r=[]),e.feePayer=this.wallet.publicKey,e.recentBlockhash=n.blockhash,r.filter((t=>void 0!==t)).forEach((t=>{e.partialSign(t)})),e}));const o=await this.wallet.signAllTransactions(r),a=[];for(let s=0;s<r.length;s+=1){const t=o[s].serialize();a.push(await(0,i.sendAndConfirmRawTransaction)(this.connection,t,e))}return a}async simulate(t,e,n=this.opts){var r,i,o;return void 0===e&&(e=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(r=n.preflightCommitment)&&void 0!==r?r:this.opts.preflightCommitment)).blockhash,await this.wallet.signTransaction(t),e.filter((t=>void 0!==t)).forEach((e=>{t.partialSign(e)})),await async function(t,e,n){e.recentBlockhash=await t._recentBlockhash(t._disableBlockhashCaching);const r=e.serializeMessage(),i=[e._serialize(r).toString("base64"),{encoding:"base64",commitment:n}],o=await t._rpcRequest("simulateTransaction",i);if(o.error)throw new Error("failed to simulate transaction: "+o.error.message);return o.result}(this.connection,t,null!==(o=null!==(i=n.commitment)&&void 0!==i?i:this.opts.commitment)&&void 0!==o?o:"processed")}}function _(t){S=t}function A(){return null===S?b.local():S}let S=null;class E extends Error{constructor(t){super(t),this.name="IdlError"}}class k extends Error{constructor(t,e,...n){super(...n),this.code=t,this.msg=e}static parse(t,e){const n=t.toString();let r,i;if(n.includes("custom program error:")){let t=n.split("custom program error: ");if(2!==t.length)return null;r=t[1]}else{const t=n.match(/"Custom":([0-9]+)}/g);if(!t||t.length>1)return null;r=t[0].match(/([0-9]+)/g)[0]}try{i=parseInt(r)}catch(t){return null}let o=e.get(i);return void 0!==o?new k(i,o,i+": "+o):(o=T.get(i),void 0!==o?new k(i,o,i+": "+o):null)}toString(){return this.msg}}const T=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has_one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exempt constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"A state constraint was violated"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[4e3,"The given state account does not have the correct address"],[4100,"The declared program id does not match the actual program id"],[5e3,"The API being used is deprecated and should no longer be used"]]);var I=function(){return(I=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},x=function(){return(x=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function P(t){return t.toLowerCase()}var M=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],B=/[^A-Z0-9]+/gi;function O(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce((function(t,e){return t.replace(e,n)}),t)}class L{static fieldLayout(t,e){const n=void 0!==t.name?l()(t.name):void 0;switch(t.type){case"bool":return f.bool(n);case"u8":return f.u8(n);case"i8":return f.i8(n);case"u16":return f.u16(n);case"i16":return f.i16(n);case"u32":return f.u32(n);case"i32":return f.i32(n);case"f32":return f.f32(n);case"u64":return f.u64(n);case"i64":return f.i64(n);case"f64":return f.f64(n);case"u128":return f.u128(n);case"i128":return f.i128(n);case"bytes":return f.vecU8(n);case"string":return f.str(n);case"publicKey":return f.publicKey(n);default:if("vec"in t.type)return f.vec(L.fieldLayout({name:void 0,type:t.type.vec},e),n);if("option"in t.type)return f.option(L.fieldLayout({name:void 0,type:t.type.option},e),n);if("defined"in t.type){const r=t.type.defined;if(void 0===e)throw new E("User defined types not provided");const i=e.filter((t=>t.name===r));if(1!==i.length)throw new E(`Type not found: ${JSON.stringify(t)}`);return L.typeDefLayout(i[0],e,n)}if("array"in t.type){let r=t.type.array[0],i=t.type.array[1],o=L.fieldLayout({name:void 0,type:r},e);return f.array(o,i,n)}throw new Error(`Not yet implemented: ${t}`)}}static typeDefLayout(t,e=[],n){if("struct"===t.type.kind){const r=t.type.fields.map((t=>L.fieldLayout(t,e)));return f.struct(r,n)}if("enum"===t.type.kind){let r=t.type.variants.map((t=>{const n=l()(t.name);if(void 0===t.fields)return f.struct([],n);const r=t.fields.map((t=>{if(!t.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return L.fieldLayout(t,e)}));return f.struct(r,n)}));return void 0!==n?f.rustEnum(r).replicate(n):f.rustEnum(r,n)}throw new Error(`Unknown type kint: ${t}`)}}class D{constructor(t){this.idl=t,this.ixLayout=D.parseIxLayout(t);const e=new Map;t.instructions.forEach((t=>{const n=R("global",t.name);e.set(u().encode(n),{layout:this.ixLayout.get(t.name),name:t.name})})),t.state&&t.state.methods.map((t=>{const n=R("state",t.name);e.set(u().encode(n),{layout:this.ixLayout.get(t.name),name:t.name})})),this.sighashLayouts=e}encode(t,e){return this._encode("global",t,e)}encodeState(t,e){return this._encode("state",t,e)}_encode(t,e,n){const i=r.Buffer.alloc(1e3),o=l()(e),a=this.ixLayout.get(o);if(!a)throw new Error(`Unknown method: ${o}`);const s=a.encode(n,i),u=i.slice(0,s);return r.Buffer.concat([R(t,e),u])}static parseIxLayout(t){const e=(t.state?t.state.methods:[]).map((e=>{let n=e.args.map((e=>{var n,r;return L.fieldLayout(e,Array.from([...null!==(n=t.accounts)&&void 0!==n?n:[],...null!==(r=t.types)&&void 0!==r?r:[]]))}));const r=l()(e.name);return[r,f.struct(n,r)]})).concat(t.instructions.map((e=>{let n=e.args.map((e=>{var n,r;return L.fieldLayout(e,Array.from([...null!==(n=t.accounts)&&void 0!==n?n:[],...null!==(r=t.types)&&void 0!==r?r:[]]))}));const r=l()(e.name);return[r,f.struct(n,r)]})));return new Map(e)}decode(t,e="hex"){"string"==typeof t&&(t="hex"===e?r.Buffer.from(t,"hex"):u().decode(t));let n=u().encode(t.slice(0,8)),i=t.slice(8);const o=this.sighashLayouts.get(n);return o?{data:o.layout.decode(i),name:o.name}:null}format(t,e){return C.format(t,e,this.idl)}}class C{static format(t,e,n){const r=n.instructions.filter((e=>t.name===e.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const i=r.args.map((e=>({name:e.name,type:C.formatIdlType(e.type),data:C.formatIdlData(e,t.data[e.name],n.types)}))),o=C.flattenIdlAccounts(r.accounts);return{args:i,accounts:e.map(((t,e)=>e<o.length?{name:o[e].name,...t}:{name:void 0,...t}))}}static formatIdlType(t){if("string"==typeof t)return t;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("defined"in t)return t.defined;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,n){if("string"==typeof t.type)return e.toString();if(t.type.hasOwnProperty("vec"))return"["+e.map((e=>this.formatIdlData({name:"",type:t.type.vec},e))).join(", ")+"]";if(t.type.hasOwnProperty("option"))return null===e?"null":this.formatIdlData({name:"",type:t.type.option},e);if(t.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((e=>e.name===t.type.defined));if(1!==r.length)throw new Error(`Type not found: ${t.type.defined}`);return C.formatIdlDataDefined(r[0],e,n)}return"unknown"}static formatIdlDataDefined(t,e,n){if("struct"===t.type.kind){const r=t.type;return"{ "+Object.keys(e).map((t=>{const i=r.fields.filter((e=>e.name===t))[0];if(void 0===i)throw new Error("Unable to find type");return t+": "+C.formatIdlData(i,e[t],n)})).join(", ")+" }"}if(0===t.type.variants.length)return"{}";if(t.type.variants[0].name){const r=t.type.variants,i=Object.keys(e)[0],o=e[i],a=Object.keys(o).map((t=>{var e;const a=o[t],s=null===(e=r[i])||void 0===e?void 0:e.filter((e=>e.name===t))[0];if(void 0===s)throw new Error("Unable to find variant");return t+": "+C.formatIdlData(s,a,n)})).join(", "),s=l()(i,{pascalCase:!0});return 0===a.length?s:`${s} { ${a} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(t,e){return t.map((t=>{const n=function(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}(t.name);if(t.hasOwnProperty("accounts")){const r=e?`${e} > ${n}`:n;return C.flattenIdlAccounts(t.accounts,r)}return{...t,name:e?`${e} > ${n}`:n}})).flat()}}function R(t,e){var n;let i=`${t}:${void 0===n&&(n={}),function(t,e){return void 0===e&&(e={}),function(t,e){void 0===e&&(e={});for(var n=e.splitRegexp,r=void 0===n?M:n,i=e.stripRegexp,o=void 0===i?B:i,a=e.transform,s=void 0===a?P:a,u=e.delimiter,c=void 0===u?" ":u,l=O(O(t,r,"$1\0$2"),o,"\0"),d=0,f=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(f-1);)f--;return l.slice(d,f).split("\0").map(s).join(c)}(t,x({delimiter:"."},e))}(e,I({delimiter:"_"},n))}`;return r.Buffer.from(d.sha256.digest(i)).slice(0,8)}function U(t,e){if("enum"===e.type.kind){let n=e.type.variants.map((e=>void 0===e.fields?0:e.fields.map((e=>{if("object"!=typeof e||!("name"in e))throw new Error("Tuple enum variants not yet implemented.");return N(t,e.type)})).reduce(((t,e)=>t+e))));return Math.max(...n)+1}return void 0===e.type.fields?0:e.type.fields.map((e=>N(t,e.type))).reduce(((t,e)=>t+e),0)}function N(t,e){var n,r;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+N(t,e.option);if("coption"in e)return 4+N(t,e.coption);if("defined"in e){const i=null!==(r=null===(n=t.types)||void 0===n?void 0:n.filter((t=>t.name===e.defined)))&&void 0!==r?r:[];if(1!==i.length)throw new E(`Type not found: ${JSON.stringify(e)}`);return U(t,i[0])}if("array"in e){let n=e.array[0],r=e.array[1];return N(t,n)*r}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}const z=8;class j{constructor(t){if(void 0===t.accounts)return void(this.accountLayouts=new Map);const e=t.accounts.map((e=>[e.name,L.typeDefLayout(e,t.types)]));this.accountLayouts=new Map(e),this.idl=t}async encode(t,e){const n=r.Buffer.alloc(1e3),i=this.accountLayouts.get(t);if(!i)throw new Error(`Unknown account: ${t}`);const o=i.encode(e,n);let a=n.slice(0,o),s=j.accountDiscriminator(t);return r.Buffer.concat([s,a])}decode(t,e){if(j.accountDiscriminator(t).compare(e.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){const n=e.slice(8),r=this.accountLayouts.get(t);if(!r)throw new Error(`Unknown account: ${t}`);return r.decode(n)}memcmp(t,e){const n=j.accountDiscriminator(t);return{offset:0,bytes:u().encode(e?r.Buffer.concat([n,e]):n)}}size(t){var e;return 8+(null!==(e=U(this.idl,t))&&void 0!==e?e:0)}static accountDiscriminator(t){return r.Buffer.from(d.sha256.digest(`account:${l()(t,{pascalCase:!0})}`)).slice(0,8)}}class F{constructor(t){if(void 0===t.events)return void(this.layouts=new Map);const e=t.events.map((e=>{let n={name:e.name,type:{kind:"struct",fields:e.fields.map((t=>({name:t.name,type:t.type})))}};return[e.name,L.typeDefLayout(n,t.types)]}));this.layouts=new Map(e),this.discriminators=new Map(void 0===t.events?[]:t.events.map((t=>[h.fromByteArray(q(t.name)),t.name])))}decode(t){let e;try{e=r.Buffer.from(h.toByteArray(t))}catch(a){return null}const n=h.fromByteArray(e.slice(0,8)),i=this.discriminators.get(n);if(void 0===i)return null;const o=this.layouts.get(i);if(!o)throw new Error(`Unknown event: ${i}`);return{data:o.decode(e.slice(8)),name:i}}}function q(t){return r.Buffer.from(d.sha256.digest(`event:${t}`)).slice(0,8)}const K=new Set(["anchor-deprecated-state","debug-logs"]),V=new Map;function $(t){return void 0!==V.get(t)}var G=Object.freeze({__proto__:null,set:function(t){if(!K.has(t))throw new Error("Invalid feature");V.set(t,!0)},isSet:$});class W{constructor(t){if(void 0===t.state)throw new Error("Idl state not defined.");this.layout=L.typeDefLayout(t.state.struct,t.types)}async encode(t,e){const n=r.Buffer.alloc(1e3),i=this.layout.encode(e,n),o=await H(t),a=n.slice(0,i);return r.Buffer.concat([o,a])}decode(t){const e=t.slice(8);return this.layout.decode(e)}}async function H(t){let e=$("anchor-deprecated-state")?"account":"state";return r.Buffer.from(d.sha256.digest(`${e}:${t}`)).slice(0,8)}class X{constructor(t){this.instruction=new D(t),this.accounts=new j(t),this.events=new F(t),t.state&&(this.state=new W(t))}}var Y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};class J{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var Z=J;class Q extends J{isCount(){throw new Error("ExternalLayout is abstract")}}class tt extends Q{constructor(t,e,n){if(!(t instanceof J))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof et||this.layout instanceof nt}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return void 0===n&&(n=0),this.layout.encode(t,e,n+this.offset)}}class et extends J{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class nt extends J{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}const rt=Math.pow(2,32);class it extends J{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return function(t,e){return t*rt+e}(t.readUInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=function(t){const e=Math.floor(t/rt);return{hi32:e,lo32:t-e*rt}}(t);return e.writeUInt32LE(r.lo32,n),e.writeUInt32LE(r.hi32,n+4),8}}class ot extends J{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof J),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const i of t)if(0>i.span&&void 0===i.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(t){throw new RangeError("indeterminate span")}return n}decode(t,e){void 0===e&&(e=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const a of this.fields){let r=a.span;if(o=0<r?r:0,void 0!==a.property){const i=t[a.property];void 0!==i&&(o=a.encode(i,e,n),0>r&&(r=a.getSpan(e,n)))}i=n,n+=r}return i+o-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class at{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class st extends at{constructor(t,e){if(!(t instanceof Q&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class ut extends J{constructor(t,e,n){const r=t instanceof et||t instanceof nt;if(r)t=new st(new tt(t));else if(t instanceof Q&&t.isCount())t=new st(t);else if(!(t instanceof at))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof J))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&r&&(i+=t.layout.span)),super(i,n),this.discriminator=t,this.usesPrefixDiscriminator=r,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return o(t)},this.configGetSourceVariant=function(t){o=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){let n;void 0===e&&(e=0);const r=this.discriminator,i=r.decode(t,e);let o=this.registry[i];if(void 0===o){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(t,e+a)}else n=o.decode(t,e);return n}encode(t,e,n){void 0===n&&(n=0);const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(t[r.property],e,n),o+i.encode(t[i.property],e,n+o)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new ct(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e){let n=t;return w.isBuffer(t)&&(void 0===e&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class ct extends J{constructor(t,e,n,r){if(!(t instanceof ut))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof J))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),i+=this.layout.getSpan(e,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class lt extends J{constructor(t,e){if(!(t instanceof Q&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof Q||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){void 0===e&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let r=this.length;if(this.length instanceof Q&&(r=t.length),!w.isBuffer(t)||r!==t.length)throw new TypeError((i="Blob.encode",(this.property?i+"["+this.property+"]":i)+" requires (length "+r+") Buffer as src"));var i;if(n+r>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,r,"hex"),this.length instanceof Q&&this.length.encode(r,e,n),r}}var dt=t=>new et(1,t),ft=t=>new it(t),ht=(t,e,n)=>new ot(t,e,n),pt=(t,e)=>new lt(t,e);class mt{constructor(t){}encode(t,e){switch(l()(t)){case"initializeMint":return function({decimals:t,mintAuthority:e,freezeAuthority:n}){return wt({initializeMint:{decimals:t,mintAuthority:e.toBuffer(),freezeAuthorityOption:!!n,freezeAuthority:(n||i.PublicKey.default).toBuffer()}})}(e);case"initializeAccount":return wt({initializeAccount:{}});case"initializeMultisig":return function({m:t}){return wt({initializeMultisig:{m:t}})}(e);case"transfer":return function({amount:t}){return wt({transfer:{amount:t}})}(e);case"approve":return function({amount:t}){return wt({approve:{amount:t}})}(e);case"revoke":return wt({revoke:{}});case"setAuthority":return function({authorityType:t,newAuthority:e}){return wt({setAuthority:{authorityType:t,newAuthority:e}})}(e);case"mintTo":return function({amount:t}){return wt({mintTo:{amount:t}})}(e);case"burn":return function({amount:t}){return wt({burn:{amount:t}})}(e);case"closeAccount":return wt({closeAccount:{}});case"freezeAccount":return wt({freezeAccount:{}});case"thawAccount":return wt({thawAccount:{}});case"transferChecked":return function({amount:t,decimals:e}){return wt({transferChecked:{amount:t,decimals:e}})}(e);case"approvedChecked":return function({amount:t,decimals:e}){return wt({approveChecked:{amount:t,decimals:e}})}(e);case"mintToChecked":return function({amount:t,decimals:e}){return wt({mintToChecked:{amount:t,decimals:e}})}(e);case"burnChecked":return function({amount:t,decimals:e}){return wt({burnChecked:{amount:t,decimals:e}})}(e);case"intializeAccount2":return function({authority:t}){return wt({initilaizeAccount2:{authority:t}})}(e);case"syncNative":return wt({syncNative:{}});case"initializeAccount3":return function({authority:t}){return wt({initializeAccount3:{authority:t}})}(e);case"initializeMultisig2":return function({m:t}){return wt({initializeMultisig2:{m:t}})}(e);case"initializeMint2":return function({decimals:t,mintAuthority:e,freezeAuthority:n}){return wt({encodeInitializeMint2:{decimals:t,mintAuthority:e,freezeAuthority:n}})}(e);default:throw new Error(`Invalid instruction: ${t}`)}}encodeState(t,e){throw new Error("SPL token does not have state")}}const yt=(gt=dt("instruction"),new ut(gt,undefined,undefined));var gt;function vt(t){return pt(32,t)}function wt(t){let e=w.alloc(bt),n=yt.encode(t,e);return e.slice(0,n)}yt.addVariant(0,ht([dt("decimals"),pt(32,"mintAuthority"),dt("freezeAuthorityOption"),vt("freezeAuthority")]),"initializeMint"),yt.addVariant(1,ht([]),"initializeAccount"),yt.addVariant(2,ht([dt("m")]),"initializeMultisig"),yt.addVariant(3,ht([ft("amount")]),"transfer"),yt.addVariant(4,ht([ft("amount")]),"approve"),yt.addVariant(5,ht([]),"revoke"),yt.addVariant(6,ht([dt("authorityType"),dt("newAuthorityOption"),vt("newAuthority")]),"setAuthority"),yt.addVariant(7,ht([ft("amount")]),"mintTo"),yt.addVariant(8,ht([ft("amount")]),"burn"),yt.addVariant(9,ht([]),"closeAccount"),yt.addVariant(10,ht([]),"freezeAccount"),yt.addVariant(11,ht([]),"thawAccount"),yt.addVariant(12,ht([ft("amount"),dt("decimals")]),"transferChecked"),yt.addVariant(13,ht([ft("amount"),dt("decimals")]),"approvedChecked"),yt.addVariant(14,ht([ft("amount"),dt("decimals")]),"mintToChecked"),yt.addVariant(15,ht([ft("amount"),dt("decimals")]),"burnedChecked"),yt.addVariant(16,ht([vt("authority")]),"InitializeAccount2"),yt.addVariant(17,ht([]),"syncNative"),yt.addVariant(18,ht([vt("authority")]),"initializeAccount3"),yt.addVariant(19,ht([dt("m")]),"initializeMultisig2"),yt.addVariant(20,ht([dt("decimals"),vt("mintAuthority"),dt("freezeAuthorityOption"),vt("freezeAuthority")]),"initializeMint2");const bt=Math.max(...Object.values(yt.registry).map((t=>t.span)));class _t{constructor(t){}encode(t,e){throw new Error("SPL token does not have state")}decode(t){throw new Error("SPL token does not have state")}}function At(t){return new kt(pt(8),(t=>Pt.fromBuffer(t)),(t=>t.toBuffer()),t)}function St(t){return new kt(pt(32),(t=>new i.PublicKey(t)),(t=>t.toBuffer()),t)}function Et(t,e){return new Tt(t,e)}class kt extends Z{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}class Tt extends Z{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=new et(4,void 0)}encode(t,e,n=0){return null==t?this.layout.span+this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+4)+4)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return null;if(1===n)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}function It(t){if(0===t)return!1;if(1===t)return!0;throw new Error("Invalid bool: "+t)}function xt(t){return t?1:0}class Pt extends(a()){toBuffer(){const t=super.toArray().reverse(),e=w.from(t);if(8===e.length)return e;if(e.length>=8)throw new Error("u64 too large");const n=w.alloc(8);return e.copy(n),n}static fromBuffer(t){if(8!==t.length)throw new Error(`Invalid buffer length: ${t.length}`);return new Pt([...t].reverse().map((t=>`00${t.toString(16)}`.slice(-2))).join(""),16)}}class Mt{constructor(t){this.idl=t}async encode(t,e){switch(t){case"Token":{const t=w.alloc(165),n=Ot.encode(e,t);return t.slice(0,n)}case"Mint":{const t=w.alloc(82),n=Bt.encode(e,t);return t.slice(0,n)}default:throw new Error(`Invalid account name: ${t}`)}}decode(t,e){return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){switch(t){case"Token":return function(t){return Ot.decode(t)}(e);case"Mint":return function(t){return Bt.decode(t)}(e);default:throw new Error(`Invalid account name: ${t}`)}}memcmp(t,e){switch(t){case"Token":return{dataSize:165};case"Mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${t}`)}}size(t){var e;return null!==(e=U(this.idl,t))&&void 0!==e?e:0}}const Bt=ht([Et(St(),"mintAuthority"),At("supply"),dt("decimals"),new kt(dt(),It,xt,"isInitialized"),Et(St(),"freezeAuthority")]),Ot=ht([St("mint"),St("authority"),At("amount"),Et(St(),"delegate"),dt("state"),Et(At(),"isNative"),At("delegatedAmount"),Et(St(),"closeAuthority")]);class Lt{constructor(t){}decode(t){throw new Error("SPL token program does not have events")}}class Dt{constructor(t){this.instruction=new mt(t),this.accounts=new Mt(t),this.events=new Lt(t),this.state=new _t(t)}}var Ct=Object.freeze({__proto__:null,hash:function(t){return(0,d.sha256)(t)}});function Rt(t){const e=new Map;return t.errors&&t.errors.forEach((t=>{var n;let r=null!==(n=t.msg)&&void 0!==n?n:t.name;e.set(t.code,r)})),e}function Ut(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const n={};let r=0;return t.args.forEach((t=>{n[t.name]=e[r],r+=1})),n}function Nt(t,e={}){t.forEach((t=>{if("accounts"in t)Nt(t.accounts,e[t.name]);else if(void 0===e[t.name])throw new Error(`Invalid arguments: ${t.name} not provided.`)}))}function zt(t){return t instanceof i.PublicKey?t:new i.PublicKey(t)}async function jt(t,e,n){if(e.length<=99)return await Ft(t,e,n);{const i=(r=e,99,Array.apply(0,new Array(Math.ceil(r.length/99))).map(((t,e)=>r.slice(99*e,99*(e+1)))));return(await Promise.all(i.map((e=>Ft(t,e,n))))).flat()}var r}async function Ft(t,e,n){const o=null!=n?n:t.commitment,a=[e.map((t=>t.toBase58()))];o&&a.push({commitment:o});const s=await t._rpcRequest("getMultipleAccounts",a);if(s.error)throw new Error("failed to get info about accounts "+e.map((t=>t.toBase58())).join(", ")+": "+s.error.message);m()(void 0!==s.result);const u=[];for(const c of s.result.value){let t=null;if(null!==c){if(s.result.value){const{executable:e,owner:n,lamports:o,data:a}=c;m()("base64"===a[1]),t={executable:e,owner:new i.PublicKey(n),lamports:o,data:r.Buffer.from(a[0],"base64")}}if(null===t)throw new Error("Invalid response");u.push(t)}else u.push(null)}return u.map(((t,n)=>null===t?null:{publicKey:e[n],account:t}))}var qt=Object.freeze({__proto__:null,invoke:async function(t,e,n,r){t=zt(t),r||(r=A());const o=new i.Transaction;return o.add(new i.TransactionInstruction({programId:t,keys:null!=e?e:[],data:n})),await r.send(o)},getMultipleAccounts:jt});function Kt(t,e,n){const o=r.Buffer.concat([t.toBuffer(),r.Buffer.from(e),n.toBuffer()]),a=d.sha256.digest(o);return new i.PublicKey(r.Buffer.from(a))}function Vt(t,e){let n=r.Buffer.alloc(0);t.forEach((function(t){if(t.length>32)throw new TypeError("Max seed length exceeded");n=r.Buffer.concat([n,Gt(t)])})),n=r.Buffer.concat([n,e.toBuffer(),r.Buffer.from("ProgramDerivedAddress")]);let o=(0,d.sha256)(new Uint8Array(n)),s=new(a())(o,16).toArray(void 0,32);if(i.PublicKey.isOnCurve(new Uint8Array(s)))throw new Error("Invalid seeds, address must fall off the curve");return new i.PublicKey(s)}function $t(t,e){let n,i=255;for(;0!=i;){try{n=Vt(t.concat(r.Buffer.from([i])),e)}catch(o){if(o instanceof TypeError)throw o;i--;continue}return[n,i]}throw new Error("Unable to find a viable program address nonce")}const Gt=t=>t instanceof r.Buffer?t:t instanceof Uint8Array?r.Buffer.from(t.buffer,t.byteOffset,t.byteLength):r.Buffer.from(t);async function Wt(t,...e){let n=[r.Buffer.from([97,110,99,104,111,114])];e.forEach((t=>{n.push(t instanceof r.Buffer?t:zt(t).toBuffer())}));const[o]=await i.PublicKey.findProgramAddress(n,zt(t));return o}var Ht=Object.freeze({__proto__:null,createWithSeedSync:Kt,createProgramAddressSync:Vt,findProgramAddressSync:$t,associated:Wt}),Xt=Object.freeze({__proto__:null,encode:function(t){return t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),"0x")},decode:function(t){0===t.indexOf("0x")&&(t=t.substr(2)),t.length%2==1&&(t="0"+t);let e=t.match(/.{2}/g);return null===e?r.Buffer.from([]):r.Buffer.from(e.map((t=>parseInt(t,16))))}});function Yt(t){return new TextDecoder("utf-8").decode(t)}function Jt(t){return(new TextEncoder).encode(t)}var Zt=Object.freeze({__proto__:null,decode:Yt,encode:Jt}),Qt=Object.freeze({__proto__:null,encode:function(t){return u().encode(t)},decode:function(t){return u().decode(t)}}),te=Object.freeze({__proto__:null,encode:function(t){return h.fromByteArray(t)},decode:function(t){return r.Buffer.from(h.toByteArray(t))}}),ee=Object.freeze({__proto__:null,hex:Xt,utf8:Zt,bs58:Qt,base64:te});const ne=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),re=new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var ie=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:ne,ASSOCIATED_PROGRAM_ID:re,associatedAddress:async function({mint:t,owner:e}){return(await i.PublicKey.findProgramAddress([e.toBuffer(),ne.toBuffer(),t.toBuffer()],re))[0]}}),oe={exports:{}};!function(t,e){var n="undefined"!=typeof self?self:Y,r=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,a="ArrayBuffer"in t;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function m(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():a&&i&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=p(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=c(t),e=l(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},f.prototype.delete=function(t){delete this.map[c(t)]},f.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},f.prototype.set=function(t,e){this.map[c(t)]=l(e)},f.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},f.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),d(t)},f.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),d(t)},f.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),d(t)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var n,r,i=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),v.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},g.call(w.prototype),g.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var A=[301,302,303,307,308];_.redirect=function(t,e){if(-1===A.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function S(t,n){return new Promise((function(r,o){var a=new w(t,n);if(a.signal&&a.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var t,e,n={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new f,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new _(i,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}S.polyfill=!0,t.fetch||(t.fetch=S,t.Headers=f,t.Request=w,t.Response=_),e.Headers=f,e.Request=w,e.Response=_,e.fetch=S,Object.defineProperty(e,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(oe,oe.exports);var ae=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(oe.exports);async function se(t,e){const n=await t.getAccountInfo(e);if(null===n)throw new Error("program account not found");const{program:r}=ce(n.data),i=await t.getAccountInfo(r.programdataAddress);if(null===i)throw new Error("program data account not found");const{programData:o}=ce(i.data);return o}const ue=f.rustEnum([f.struct([],"uninitialized"),f.struct([f.option(f.publicKey(),"authorityAddress")],"buffer"),f.struct([f.publicKey("programdataAddress")],"program"),f.struct([f.u64("slot"),f.option(f.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,f.u32());function ce(t){return ue.decode(t)}var le=Object.freeze({__proto__:null,verifiedBuild:async function(t,e,n=5){const r=`https://anchor.projectserum.com/api/v0/program/${e.toString()}/latest?limit=${n}`,[i,o]=await Promise.all([se(t,e),ae(r)]),a=(await o.json()).filter((t=>!t.aborted&&"Built"===t.state&&"Verified"===t.verified));if(0===a.length)return null;const s=a[0];return i.slot.toNumber()!==s.verified_slot?null:s},fetchData:se,decodeUpgradeableLoaderState:ce}),de=Object.freeze({__proto__:null,sha256:Ct,rpc:qt,publicKey:Ht,bytes:ee,token:ie,features:G,registry:le});const fe=f.struct([f.publicKey("authority"),f.vecU8("data")]);function he(t,e){var n,r;let i={};const o=t.args?t.args.length:0;if(e.length>o){if(e.length!==o+1)throw new Error(`provided too many arguments ${e} to instruction ${null==t?void 0:t.name} expecting: ${null!==(r=null===(n=t.args)||void 0===n?void 0:n.map((t=>t.name)))&&void 0!==r?r:[]}`);i=e.pop()}return[e,i]}class pe{static build(t,e,n){if("_inner"===t.name)throw new E("the _inner name is reserved");const r=(...o)=>{const[a,s]=he(t,[...o]);Nt(t.accounts,s.accounts);const u=r.accounts(s.accounts);return void 0!==s.remainingAccounts&&u.push(...s.remainingAccounts),$("debug-logs")&&console.log("Outgoing account metas:",u),new i.TransactionInstruction({keys:u,programId:n,data:e(t.name,Ut(t,...a))})};return r.accounts=e=>pe.accountsArray(e,t.accounts,t.name),r}static accountsArray(t,e,n){return t?e.map((e=>{if(void 0!==("accounts"in e?e.accounts:void 0)){const r=t[e.name];return pe.accountsArray(r,e.accounts,n).flat()}{const r=e;let i;try{i=zt(t[e.name])}catch(t){throw new Error(`Wrong input type for account "${e.name}" in the instruction accounts object${void 0!==n?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}return{pubkey:i,isWritable:r.isMut,isSigner:r.isSigner}}})).flat():[]}}class me{static build(t,e,n,r){return async(...i)=>{const o=e(...i),[,a]=he(t,[...i]);try{return await r.send(o,a.signers,a.options)}catch(t){$("debug-logs")&&console.log("Translating error:",t);let r=k.parse(t,n);if(null===r)throw t;throw r}}}}class ye{static build(t,e){return(...n)=>{var r,o,a;const[,s]=he(t,[...n]),u=new i.Transaction;if(s.preInstructions&&s.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(r=s.preInstructions)||void 0===r||r.forEach((t=>u.add(t))),null===(o=s.instructions)||void 0===o||o.forEach((t=>u.add(t))),u.add(e(...n)),null===(a=s.postInstructions)||void 0===a||a.forEach((t=>u.add(t))),u}}}class ge{constructor(t,e,n=A(),r=new X(t)){this.provider=n,this.coder=r,this._idl=t,this._programId=e,this._address=ve(e),this._sub=null;const[o,a,s]=(()=>{var o;let a={},s={},u={};return null===(o=t.state)||void 0===o||o.methods.forEach((o=>{const c=pe.build(o,((t,e)=>r.instruction.encodeState(t,e)),e);c.accounts=t=>function(t,e,n,r){if("new"===n.name){const[n]=$t([],t);return[{pubkey:e.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:ve(t),isWritable:!0,isSigner:!1},{pubkey:n,isWritable:!1,isSigner:!1},{pubkey:i.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t,isWritable:!1,isSigner:!1}]}return Nt(n.accounts,r),[{pubkey:ve(t),isWritable:!0,isSigner:!1}]}(e,n,o,t).concat(pe.accountsArray(t,o.accounts,o.name));const d=ye.build(o,c),f=me.build(o,d,Rt(t),n),h=l()(o.name);a[h]=c,s[h]=d,u[h]=f})),[a,s,u]})();this.instruction=o,this.transaction=a,this.rpc=s}get programId(){return this._programId}async fetch(){const t=this.address(),e=await this.provider.connection.getAccountInfo(t);if(null===e)throw new Error(`Account does not exist ${t.toString()}`);const n=this._idl.state;if(!n)throw new Error("State is not specified in IDL.");if((await H(n.struct.name)).compare(e.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(e.data)}address(){return this._address}subscribe(t){if(null!==this._sub)return this._sub.ee;const e=new(v()),n=this.provider.connection.onAccountChange(this.address(),(t=>{const n=this.coder.state.decode(t.data);e.emit("change",n)}),t);return this._sub={ee:e,listener:n},e}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function ve(t){let[e]=$t([],t);return Kt(e,"unversioned",t)}class we{constructor(t,e,n,r,i){this._idlAccount=e,this._programId=n,this._provider=null!=r?r:A(),this._coder=null!=i?i:new X(t),this._size=this._coder.accounts.size(e)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(t,e){const n=await this.getAccountInfo(t,e);return null===n?null:this._coder.accounts.decode(this._idlAccount.name,n.data)}async fetch(t,e){const n=await this.fetchNullable(t,e);if(null===n)throw new Error(`Account does not exist ${t.toString()}`);return n}async fetchMultiple(t,e){return(await jt(this._provider.connection,t.map((t=>zt(t))),e)).map((t=>null==t?null:this._coder.accounts.decode(this._idlAccount.name,null==t?void 0:t.account.data)))}async all(t){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,t instanceof w?t:void 0)},...Array.isArray(t)?t:[]]})).map((({pubkey:t,account:e})=>({publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,e.data)})))}subscribe(t,e){const n=be.get(t.toString());if(n)return n.ee;const r=new(v());t=zt(t);const i=this._provider.connection.onAccountChange(t,(t=>{const e=this._coder.accounts.decode(this._idlAccount.name,t.data);r.emit("change",e)}),e);return be.set(t.toString(),{ee:r,listener:i}),r}async unsubscribe(t){let e=be.get(t.toString());e?be&&await this._provider.connection.removeAccountChangeListener(e.listener).then((()=>{be.delete(t.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(t,e){const n=this.size;return i.SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:t.publicKey,space:null!=e?e:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=e?e:n),programId:this._programId})}async associated(...t){const e=await this.associatedAddress(...t);return await this.fetch(e)}async associatedAddress(...t){return await Wt(this._programId,...t)}async getAccountInfo(t,e){return await this._provider.connection.getAccountInfo(zt(t),e)}}const be=new Map,_e="Program log: ".length;class Ae{constructor(t,e,n){this._programId=t,this._provider=e,this._eventParser=new Se(t,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,e){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,t in this._eventCallbacks||this._eventListeners.set(t,[]),this._eventListeners.set(t,(null!==(n=this._eventListeners.get(t))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[t,e]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((t,e)=>{t.err||this._eventParser.parseLogs(t.logs,(t=>{const n=this._eventListeners.get(t.name);n&&n.forEach((n=>{const r=this._eventCallbacks.get(n);if(r){const[,n]=r;n(t.data,e.slot)}}))}))}))),r}async removeEventListener(t){const e=this._eventCallbacks.get(t);if(!e)throw new Error(`Event listener ${t} doesn't exist!`);const[n]=e;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);this._eventCallbacks.delete(t),r=r.filter((e=>e!==t)),0===r.length&&this._eventListeners.delete(n),0==this._eventCallbacks.size&&(p.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class Se{constructor(t,e){this.coder=e,this.programId=t}parseLogs(t,e){const n=new ke(t),r=new Ee(n.next());let i=n.next();for(;null!==i;){let[t,o,a]=this.handleLog(r,i);t&&e(t),o&&r.push(o),a&&r.pop(),i=n.next()}}handleLog(t,e){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(e):[null,...this.handleSystemLog(e)]}handleProgramLog(t){if(t.startsWith("Program log:")){const e=t.slice(_e);return[this.coder.events.decode(e),null,!1]}return[null,...this.handleSystemLog(t)]}handleSystemLog(t){const e=t.split(":")[0];return null!==e.match(/^Program (.*) success/g)?[null,!0]:e.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:e.includes("invoke")?["cpi",!1]:[null,!1]}}class Ee{constructor(t){var e;const n=null===(e=/^Program (.*) invoke.*$/g.exec(t))||void 0===e?void 0:e[1];if(!n)throw new Error("Could not find program invocation log line");this.stack=[n]}program(){return p.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){p.ok(this.stack.length>0),this.stack.pop()}}class ke{constructor(t){this.logs=t}next(){if(0===this.logs.length)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}}const Te=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function Ie(){return new Dt(xe)}const xe={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class Pe{constructor(t,e,n,r,i,o){this._args=t,this._accounts=e,this._provider=n,this._programId=r,this._idlIx=i,this._accountStore=new Me(n,o)}async resolve(){for(let t=0;t<this._idlIx.accounts.length;t+=1){const e=this._idlIx.accounts[t],n=l()(e.name);if(e.pda&&e.pda.seeds.length>0&&void 0===this._accounts[n])await this.autoPopulatePda(e);else if(e.isSigner&&void 0===this._accounts[n])this._accounts[n]=this._provider.wallet.publicKey;else switch(n){case"systemProgram":void 0===this._accounts[n]&&(this._accounts[n]=i.SystemProgram.programId);case"rent":void 0===this._accounts[n]&&(this._accounts[n]=i.SYSVAR_RENT_PUBKEY);case"tokenProgram":void 0===this._accounts[n]&&(this._accounts[n]=ne);case"associatedTokenProgram":void 0===this._accounts[n]&&(this._accounts[n]=re)}}}async autoPopulatePda(t){if(!t.pda||!t.pda.seeds)throw new Error("Must have seeds");const e=await Promise.all(t.pda.seeds.map((t=>this.toBuffer(t)))),n=await this.parseProgramId(t),[r]=await i.PublicKey.findProgramAddress(e,n);this._accounts[l()(t.name)]=r}async parseProgramId(t){var e;if(!(null===(e=t.pda)||void 0===e?void 0:e.programId))return this._programId;switch(t.pda.programId.kind){case"const":return new i.PublicKey(this.toBufferConst(t.pda.programId.value));case"arg":return this.argValue(t.pda.programId);case"account":return await this.accountValue(t.pda.programId);default:throw new Error(`Unexpected program seed kind: ${t.pda.programId.kind}`)}}async toBuffer(t){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t);default:throw new Error(`Unexpected seed kind: ${t.kind}`)}}toBufferConst(t){return this.toBufferValue(t.type,t.value)}async toBufferArg(t){const e=this.argValue(t);return this.toBufferValue(t.type,e)}argValue(t){const e=l()(t.path.split(".")[0]),n=this._idlIx.args.findIndex((t=>t.name===e));if(-1===n)throw new Error(`Unable to find argument for seed: ${e}`);return this._args[n]}async toBufferAccount(t){const e=await this.accountValue(t);return this.toBufferValue(t.type,e)}async accountValue(t){const e=t.path.split("."),n=e[0],r=this._accounts[l()(n)];if(1===e.length)return r;const i=await this._accountStore.fetchAccount(t.account,r);return this.parseAccountValue(i,e.slice(1))}parseAccountValue(t,e){let n;for(;e.length>0;)n=t[l()(e[0])],e=e.slice(1);return n}toBufferValue(t,e){switch(t){case"u8":return w.from([e]);case"u16":let n=w.alloc(2);return n.writeUInt16LE(e),n;case"u32":let r=w.alloc(4);return r.writeUInt32LE(e),r;case"u64":let i=w.alloc(8);return i.writeBigUInt64LE(BigInt(e)),i;case"string":return w.from(Jt(e));case"publicKey":return e.toBuffer();default:if(t.array)return w.from(e);throw new Error(`Unexpected seed type: ${t}`)}}}class Me{constructor(t,e){this._provider=t,this._accounts=e,this._cache=new Map}async fetchAccount(t,e){const n=e.toString();if(void 0===this._cache.get(n))if("TokenAccount"===t){const t=await this._provider.connection.getAccountInfo(e);if(null===t)throw new Error(`invalid account info for ${n}`);const r=Ie().accounts.decode("Token",t.data);this._cache.set(n,r)}else{const r=this._accounts[l()(t)].fetch(e);this._cache.set(n,r)}return this._cache.get(n)}}class Be{static build(t,e,n,r,i,o,a,s){return(...u)=>new Oe(u,r,i,o,a,t,e,n,s)}}class Oe{constructor(t,e,n,r,i,o,a,s,u){this._args=t,this._ixFn=e,this._txFn=n,this._rpcFn=r,this._simulateFn=i,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._accountsResolver=new Pe(t,this._accounts,o,a,s,u)}accounts(t){return Object.assign(this._accounts,t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t){return this._preInstructions=this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async rpc(t){return await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async simulate(t){return await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async instruction(){return await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class Le{constructor(t,e,n,r){e=zt(e),n||(n=A()),this._idl=t,this._provider=n,this._programId=e,this._coder=null!=r?r:new X(t),this._events=new Ae(this._programId,n,this._coder);const[i,o,a,s,u,c,d]=class{static build(t,e,n,r){const i={},o={},a={},s={},u={},c=Rt(t),d=t.accounts?class{static build(t,e,n,r){var i;const o={};return null===(i=t.accounts)||void 0===i||i.forEach((i=>{const a=l()(i.name);o[a]=new we(t,i,n,r,e)})),o}}.build(t,e,n,r):{},f=class{static build(t,e,n,r){if(void 0!==t.state)return new ge(t,n,r,e)}}.build(t,e,n,r);return t.instructions.forEach((f=>{const h=pe.build(f,((t,n)=>e.instruction.encode(t,n)),n),p=ye.build(f,h),m=me.build(f,p,c,r),y=class{static build(t,e,n,r,i,o,a){return async(...s)=>{const u=e(...s),[,c]=he(t,[...s]);let l;try{l=await r.simulate(u,c.signers,c.options)}catch(t){$("debug-logs")&&console.log("Translating error:",t);let r=k.parse(t,n);if(null===r)throw t;throw r}if(void 0===l)throw new Error("Unable to simulate transaction");if(l.value.err)throw new Error(`Simulate error: ${l.value.err.toString()}`);const d=l.value.logs;if(!d)throw new Error("Simulated logs not found");const f=[];return a.events&&new Se(o,i).parseLogs(d,(t=>{f.push(t)})),{events:f,raw:d}}}}.build(f,p,c,r,e,n,t),g=Be.build(r,n,f,h,p,m,y,d),v=l()(f.name);o[v]=h,a[v]=p,i[v]=m,s[v]=y,u[v]=g})),[i,o,a,d,s,u,f]}}.build(t,this._coder,e,n);this.rpc=i,this.instruction=o,this.transaction=a,this.account=s,this.simulate=u,this.methods=c,this.state=d}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(t,e){const n=zt(t),r=await Le.fetchIdl(n,e);if(!r)throw new Error(`IDL not found for program: ${t.toString()}`);return new Le(r,n,e)}static async fetchIdl(t,e){e=null!=e?e:A();const n=zt(t),r=await async function(t){const e=(await i.PublicKey.findProgramAddress([],t))[0];return await i.PublicKey.createWithSeed(e,"anchor:idl",t)}(n),o=await e.connection.getAccountInfo(r);if(!o)return null;let a=(s=o.data.slice(8),fe.decode(s));var s;const u=(0,y.rr)(a.data);return JSON.parse(Yt(u))}addEventListener(t,e){return this._events.addEventListener(t,e)}async removeEventListener(t){return await this._events.removeEventListener(t)}}class De{static token(){return new Le(xe,Te,undefined,Ie())}}},8815:function(t,e,n){"use strict";var r=n(8764).Buffer;function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var o,a=n(6078),s=i(n(9499)),u=i(n(2177)),c=n(7920);function l(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){l(o,r,i,a,s,"next",t)}function s(t){l(o,r,i,a,s,"throw",t)}a(void 0)}))}}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(){return(p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return m(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var g,v=new c.web3.PublicKey("cysPXAjehMpVKUapzbMCCnpFxUFFryEWEaLgnb9NrR8");(g=e.lk||(e.lk={}))[g.SUPER_STABLE=20]="SUPER_STABLE",g[g.TURBO_SPL=80]="TURBO_SPL",g[g.LOW=500]="LOW",g[g.MEDIUM=3e3]="MEDIUM",g[g.HIGH=1e4]="HIGH";var w=((o={})[e.lk.SUPER_STABLE]=1,o[e.lk.TURBO_SPL]=60,o[e.lk.LOW]=10,o[e.lk.MEDIUM]=60,o[e.lk.HIGH]=200,o),b=s.BigInt(-1),_=s.BigInt(0),A=s.BigInt(1),S=s.exponentiate(s.BigInt(2),s.BigInt(32)),E=s.exponentiate(s.BigInt(2),s.BigInt(64)),k=s.subtract(S,A),T=s.subtract(E,A),I=s.BigInt(32),x=r.from("b"),P=r.from("p"),M=r.from("ps"),B=r.from("o"),O=r.from("t"),L=r.from("f");function D(t){var e=new ArrayBuffer(4);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}function C(t){var e=t.factoryAddress,n=t.tokenA,r=t.tokenB,i=t.fee,o=n.sortsBefore(r)?[n,r]:[r,n],a=o[1],s=new c.web3.PublicKey(o[0].address),u=new c.web3.PublicKey(a.address);return c.web3.PublicKey.findProgramAddress([P,s.toBuffer(),u.toBuffer(),D(i)],e).then((function(t){return t[0]}))}var R=function(){function t(){}return t.addDelta=function(t,e){return s.lessThan(e,_)?s.subtract(t,s.multiply(e,b)):s.add(t,e)},t}(),U=function(){function t(){}return t.mulDivRoundingUp=function(t,e,n){var r=s.multiply(t,e),i=s.divide(r,n);return s.notEqual(s.remainder(r,n),_)&&(i=s.add(i,A)),i},t.mulDivFloor=function(t,e,n){s.notEqual(n,_)||u(!1);var r=s.multiply(t,e);return s.divide(r,n)},t.mulDivCeil=function(t,e,n){s.notEqual(n,_)||u(!1);var r=s.multiply(t,e);return s.divide(s.add(r,s.subtract(n,A)),n)},t}();function N(t,e){var n=s.multiply(t,e);return s.bitwiseAnd(n,a.MaxUint128)}var z=function(){function t(){}return t.getAmount0Delta=function(t,e,n,r){if(s.greaterThan(t,e)){var i=[e,t];t=i[0],e=i[1]}var o=s.leftShift(n,I),a=s.subtract(e,t);return s.greaterThan(t,_)||u(!1),r?U.mulDivRoundingUp(U.mulDivCeil(o,a,e),A,t):s.divide(U.mulDivFloor(o,a,e),t)},t.getAmount1Delta=function(t,e,n,r){if(s.greaterThan(t,e)){var i=[e,t];t=i[0],e=i[1]}return r?U.mulDivCeil(n,s.subtract(e,t),S):U.mulDivFloor(n,s.subtract(e,t),S)},t.getNextSqrtPriceFromInput=function(t,e,n,r){return s.greaterThan(t,_)||u(!1),s.greaterThan(e,_)||u(!1),r?this.getNextSqrtPriceFromAmount0RoundingUp(t,e,n,!0):this.getNextSqrtPriceFromAmount1RoundingDown(t,e,n,!0)},t.getNextSqrtPriceFromOutput=function(t,e,n,r){return s.greaterThan(t,_)||u(!1),s.greaterThan(e,_)||u(!1),r?this.getNextSqrtPriceFromAmount1RoundingDown(t,e,n,!1):this.getNextSqrtPriceFromAmount0RoundingUp(t,e,n,!1)},t.getNextSqrtPriceFromAmount0RoundingUp=function(t,e,n,r){if(s.equal(n,_))return t;var i=s.leftShift(e,I);if(r){var o=N(n,t),c=(d=s.add(i,o),s.bitwiseAnd(d,a.MaxUint128));return s.greaterThanOrEqual(c,i)?U.mulDivCeil(i,t,c):U.mulDivRoundingUp(i,A,s.add(s.divide(i,t),n))}var l=N(n,t);s.greaterThan(i,l)||u(!1);var d,f=s.subtract(i,l);return U.mulDivCeil(i,t,f)},t.getNextSqrtPriceFromAmount1RoundingDown=function(t,e,n,r){if(r){var i=s.lessThanOrEqual(n,k)?s.divide(s.leftShift(n,I),e):U.mulDivFloor(n,S,e);return s.add(t,i)}var o=s.lessThanOrEqual(n,k)?U.mulDivRoundingUp(s.leftShift(n,I),A,e):U.mulDivCeil(n,S,e);return s.greaterThan(t,o)||u(!1),s.subtract(t,o)},t}(),j=s.exponentiate(s.BigInt(10),s.BigInt(6)),F=function(){function t(){}return t.computeSwapStep=function(t,e,n,r,i){var o={},a=s.greaterThanOrEqual(t,e),u=s.greaterThanOrEqual(r,_);if(u){var c=U.mulDivFloor(r,s.subtract(j,s.BigInt(i)),j);o.amountIn=a?z.getAmount0Delta(e,t,n,!0):z.getAmount1Delta(t,e,n,!0),o.sqrtRatioNextX32=s.greaterThanOrEqual(c,o.amountIn)?e:z.getNextSqrtPriceFromInput(t,n,c,a)}else o.amountOut=a?z.getAmount1Delta(e,t,n,!1):z.getAmount0Delta(t,e,n,!1),o.sqrtRatioNextX32=s.greaterThanOrEqual(s.multiply(r,b),o.amountOut)?e:z.getNextSqrtPriceFromOutput(t,n,s.multiply(r,b),a);var l=s.equal(e,o.sqrtRatioNextX32);return a?(o.amountIn=l&&u?o.amountIn:z.getAmount0Delta(o.sqrtRatioNextX32,t,n,!0),o.amountOut=l&&!u?o.amountOut:z.getAmount1Delta(o.sqrtRatioNextX32,t,n,!1)):(o.amountIn=l&&u?o.amountIn:z.getAmount1Delta(t,o.sqrtRatioNextX32,n,!0),o.amountOut=l&&!u?o.amountOut:z.getAmount0Delta(t,o.sqrtRatioNextX32,n,!1)),!u&&s.greaterThan(o.amountOut,s.multiply(r,b))&&(o.amountOut=s.multiply(r,b)),o.feeAmount=u&&s.notEqual(o.sqrtRatioNextX32,e)?s.subtract(r,o.amountIn):U.mulDivCeil(o.amountIn,s.BigInt(i),s.subtract(j,s.BigInt(i))),[o.sqrtRatioNextX32,o.amountIn,o.amountOut,o.feeAmount]},t}();function q(t){return t.bitLength()-1}function K(t){return t.zeroBits()}function V(t,e){return s.signedRightShift(s.multiply(t,s.BigInt(e)),s.BigInt(64))}var $=s.exponentiate(s.BigInt(2),s.BigInt(32)),G=function(){function t(){}return t.getSqrtRatioAtTick=function(e){e>=t.MIN_TICK&&e<=t.MAX_TICK&&Number.isInteger(e)||u(!1);var n=e<0?-1*e:e,r=s.BigInt(0!=(1&n)?"0xfffcb933bd6fb800":"0x10000000000000000");return 0!=(2&n)&&(r=V(r,"0xfff97272373d4000")),0!=(4&n)&&(r=V(r,"0xfff2e50f5f657000")),0!=(8&n)&&(r=V(r,"0xffe5caca7e10f000")),0!=(16&n)&&(r=V(r,"0xffcb9843d60f7000")),0!=(32&n)&&(r=V(r,"0xff973b41fa98e800")),0!=(64&n)&&(r=V(r,"0xff2ea16466c9b000")),0!=(128&n)&&(r=V(r,"0xfe5dee046a9a3800")),0!=(256&n)&&(r=V(r,"0xfcbe86c7900bb000")),0!=(512&n)&&(r=V(r,"0xf987a7253ac65800")),0!=(1024&n)&&(r=V(r,"0xf3392b0822bb6000")),0!=(2048&n)&&(r=V(r,"0xe7159475a2caf000")),0!=(4096&n)&&(r=V(r,"0xd097f3bdfd2f2000")),0!=(8192&n)&&(r=V(r,"0xa9f746462d9f8000")),0!=(16384&n)&&(r=V(r,"0x70d869a156f31c00")),0!=(32768&n)&&(r=V(r,"0x31be135f97ed3200")),0!=(65536&n)&&(r=V(r,"0x9aa508b5b85a500")),0!=(131072&n)&&(r=V(r,"0x5d6af8dedc582c")),e>0&&(r=s.divide(a.MaxUint128,r)),s.greaterThan(s.remainder(r,$),_)?s.add(s.divide(r,$),A):s.divide(r,$)},t.getTickAtSqrtRatio=function(e){s.greaterThanOrEqual(e,t.MIN_SQRT_RATIO)&&s.lessThan(e,t.MAX_SQRT_RATIO)||u(!1);var n,r=q(new c.BN(e.toString()));n=s.greaterThanOrEqual(s.BigInt(r),s.BigInt(32))?s.signedRightShift(e,s.BigInt(r-31)):s.leftShift(e,s.BigInt(31-r));for(var i=s.leftShift(s.subtract(s.BigInt(r),s.BigInt(32)),s.BigInt(16)),o=0;o<14;o++){n=s.signedRightShift(s.multiply(n,n),s.BigInt(31));var a=s.signedRightShift(n,s.BigInt(32));i=s.bitwiseOr(i,s.leftShift(a,s.BigInt(15-o))),n=s.signedRightShift(n,a)}var l=s.multiply(i,s.BigInt("908567298")),d=s.toNumber(s.signedRightShift(s.subtract(l,s.BigInt("42949672")),s.BigInt(32))),f=s.toNumber(s.signedRightShift(s.add(l,s.BigInt("3677218864")),s.BigInt(32)));return d===f?d:s.lessThanOrEqual(t.getSqrtRatioAtTick(f),e)?f:d},t}();G.MIN_TICK=-221818,G.MAX_TICK=-G.MIN_TICK,G.MIN_SQRT_RATIO=s.BigInt("65537"),G.MAX_SQRT_RATIO=s.BigInt("281472331703918");var W=function(){function t(){}var e=t.prototype;return e.getTickAddress=function(t){throw new Error("Method not implemented.")},e.getTick=function(e){throw new Error(t.ERROR_MESSAGE)},e.nextInitializedTickWithinOneWord=function(e,n,r){throw new Error(t.ERROR_MESSAGE)},t}();W.ERROR_MESSAGE="No tick data provider was given";var H=new W,X=function(){function t(t,e,n,r,i,o,a){void 0===a&&(a=H),Number.isInteger(n)&&n<1e6||u(!1);var c=G.getSqrtRatioAtTick(o),l=G.getSqrtRatioAtTick(o+1);s.greaterThanOrEqual(r,c)&&s.lessThanOrEqual(r,l)||u(!1);var d=t.sortsBefore(e)?[t,e]:[e,t];this.token0=d[0],this.token1=d[1],this.fee=n,this.sqrtRatioX32=r,this.liquidity=i,this.tickCurrent=o,this.tickDataProvider=a}t.getAddress=function(t,e,n){return C({factoryAddress:v,fee:n,tokenA:t,tokenB:e})};var e=t.prototype;return e.involvesToken=function(t){return t.equals(this.token0)||t.equals(this.token1)},e.priceOf=function(t){return this.involvesToken(t)||u(!1),t.equals(this.token0)?this.token0Price:this.token1Price},e.getOutputAmount=function(e,n){this.involvesToken(e.currency)||u(!1);var r=e.currency.equals(this.token0),i=this.swap(r,e.quotient,n),o=i.sqrtRatioX32,c=i.liquidity,l=i.tickCurrent,d=i.accounts;return[a.CurrencyAmount.fromRawAmount(r?this.token1:this.token0,s.multiply(i.amountCalculated,b)),new t(this.token0,this.token1,this.fee,o,c,l,this.tickDataProvider),d]},e.getInputAmount=function(e,n){e.currency.isToken&&this.involvesToken(e.currency)||u(!1);var r=e.currency.equals(this.token1),i=this.swap(r,s.multiply(e.quotient,b),n),o=i.sqrtRatioX32,c=i.liquidity,l=i.tickCurrent;return[a.CurrencyAmount.fromRawAmount(r?this.token0:this.token1,i.amountCalculated),new t(this.token0,this.token1,this.fee,o,c,l,this.tickDataProvider)]},e.swap=function(t,e,n){s.notEqual(e,_)||u(!1),n||(n=t?s.add(G.MIN_SQRT_RATIO,A):s.subtract(G.MAX_SQRT_RATIO,A)),t?(s.greaterThan(n,G.MIN_SQRT_RATIO)||u(!1),s.lessThan(n,this.sqrtRatioX32)||u(!1)):(s.lessThan(n,G.MAX_SQRT_RATIO)||u(!1),s.greaterThan(n,this.sqrtRatioX32)||u(!1));for(var r,i=s.greaterThanOrEqual(e,_),o={amountSpecifiedRemaining:e,amountCalculated:_,sqrtPriceX32:this.sqrtRatioX32,tick:this.tickCurrent,accounts:[],liquidity:this.liquidity},a=0;s.notEqual(o.amountSpecifiedRemaining,_)&&o.sqrtPriceX32!=n&&o.tick<G.MAX_TICK&&o.tick>G.MIN_TICK;){if(a>8)throw Error("account limit");var c={};c.sqrtPriceStartX32=o.sqrtPriceX32;var l=this.tickDataProvider.nextInitializedTickWithinOneWord(o.tick,t,this.tickSpacing);c.tickNext=l[0],c.initialized=l[1];var d=l[2];r!==d&&(o.accounts.push({pubkey:l[4],isWritable:!1,isSigner:!1}),r=d),c.tickNext<G.MIN_TICK?c.tickNext=G.MIN_TICK:c.tickNext>G.MAX_TICK&&(c.tickNext=G.MAX_TICK),c.sqrtPriceNextX32=G.getSqrtRatioAtTick(c.tickNext);var f=F.computeSwapStep(o.sqrtPriceX32,(t?s.lessThan(c.sqrtPriceNextX32,n):s.greaterThan(c.sqrtPriceNextX32,n))?n:c.sqrtPriceNextX32,o.liquidity,o.amountSpecifiedRemaining,this.fee);if(o.sqrtPriceX32=f[0],c.amountIn=f[1],c.amountOut=f[2],c.feeAmount=f[3],i?(o.amountSpecifiedRemaining=s.subtract(o.amountSpecifiedRemaining,s.add(c.amountIn,c.feeAmount)),o.amountCalculated=s.subtract(o.amountCalculated,c.amountOut)):(o.amountSpecifiedRemaining=s.add(o.amountSpecifiedRemaining,c.amountOut),o.amountCalculated=s.add(o.amountCalculated,s.add(c.amountIn,c.feeAmount))),s.equal(o.sqrtPriceX32,c.sqrtPriceNextX32)){if(c.initialized){var h=this.tickDataProvider.getTick(c.tickNext);o.accounts.push({pubkey:h.address,isWritable:!0,isSigner:!1});var p=h.liquidityNet;t&&(p=s.multiply(p,b)),o.liquidity=R.addDelta(o.liquidity,p)}o.tick=t?c.tickNext-1:c.tickNext}else o.sqrtPriceX32!=c.sqrtPriceStartX32&&(o.tick=G.getTickAtSqrtRatio(o.sqrtPriceX32));++a}return{amountCalculated:o.amountCalculated,sqrtRatioX32:o.sqrtPriceX32,liquidity:o.liquidity,tickCurrent:o.tick,accounts:o.accounts}},h(t,[{key:"token0Price",get:function(){var t;return null!=(t=this._token0Price)?t:this._token0Price=new a.Price(this.token0,this.token1,E,s.multiply(this.sqrtRatioX32,this.sqrtRatioX32))}},{key:"token1Price",get:function(){var t;return null!=(t=this._token1Price)?t:this._token1Price=new a.Price(this.token1,this.token0,s.multiply(this.sqrtRatioX32,this.sqrtRatioX32),E)}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"tickSpacing",get:function(){return w[this.fee]}}]),t}();function Y(t,e,n){if(s.greaterThan(t,e)){var r=[e,t];t=r[0],e=r[1]}var i=U.mulDivFloor(t,e,k);return U.mulDivFloor(s.BigInt(n),i,s.subtract(e,t))}function J(t,e,n){if(s.greaterThan(t,e)){var r=[e,t];t=r[0],e=r[1]}return U.mulDivFloor(s.BigInt(n),k,s.subtract(e,t))}function Z(t,e,n,r,i,o){if(s.greaterThan(e,n)){var a=[n,e];e=a[0],n=a[1]}var u=Y;if(s.lessThanOrEqual(t,e))return u(e,n,r);if(s.lessThan(t,n)){var c=u(t,n,r),l=J(e,t,i);return s.lessThan(c,l)?c:l}return J(e,n,i)}function Q(t,e){var n=s.leftShift(s.BigInt(t),s.BigInt(64)),r=s.BigInt(e),i=s.divide(n,r);return a.sqrt(i)}function tt(t,e,n){var r=G.getSqrtRatioAtTick(n),i=s.multiply(r,r);return t.sortsBefore(e)?new a.Price(t,e,E,i):new a.Price(t,e,i,E)}var et=function(){function t(t){var e=t.pool,n=t.liquidity,r=t.tickLower,i=t.tickUpper;this._token0Amount=null,this._token1Amount=null,this._mintAmounts=null,r<i||u(!1),r>=G.MIN_TICK&&r%e.tickSpacing==0||u(!1),i<=G.MAX_TICK&&i%e.tickSpacing==0||u(!1),this.pool=e,this.tickLower=r,this.tickUpper=i,this.liquidity=s.BigInt(n)}var e=t.prototype;return e.ratiosAfterSlippage=function(t){var e=this.pool.token0Price.asFraction.multiply(new a.Percent(1).subtract(t)),n=this.pool.token0Price.asFraction.multiply(t.add(1)),r=Q(e.numerator,e.denominator);s.lessThanOrEqual(r,G.MIN_SQRT_RATIO)&&(r=s.add(G.MIN_SQRT_RATIO,s.BigInt(1)));var i=Q(n.numerator,n.denominator);return s.greaterThanOrEqual(i,G.MAX_SQRT_RATIO)&&(i=s.subtract(G.MAX_SQRT_RATIO,s.BigInt(1))),{sqrtRatioX32Lower:r,sqrtRatioX32Upper:i}},e.mintAmountsWithSlippage=function(e){var n=this.ratiosAfterSlippage(e),r=n.sqrtRatioX32Upper,i=n.sqrtRatioX32Lower,o=new X(this.pool.token0,this.pool.token1,this.pool.fee,i,s.BigInt(0),G.getTickAtSqrtRatio(i)),a=new X(this.pool.token0,this.pool.token1,this.pool.fee,r,s.BigInt(0),G.getTickAtSqrtRatio(r)),u=t.fromAmounts(p({pool:this.pool,tickLower:this.tickLower,tickUpper:this.tickUpper},this.mintAmounts,{useFullPrecision:!1}));return{amount0:new t({pool:a,liquidity:u.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount0,amount1:new t({pool:o,liquidity:u.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount1}},e.burnAmountsWithSlippage=function(e){var n=this.ratiosAfterSlippage(e),r=n.sqrtRatioX32Upper,i=n.sqrtRatioX32Lower,o=new X(this.pool.token0,this.pool.token1,this.pool.fee,i,s.BigInt(0),G.getTickAtSqrtRatio(i)),a=new t({pool:new X(this.pool.token0,this.pool.token1,this.pool.fee,r,s.BigInt(0),G.getTickAtSqrtRatio(r)),liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount0,u=new t({pool:o,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount1;return{amount0:a.quotient,amount1:u.quotient}},t.fromAmounts=function(e){var n=e.pool,r=e.tickLower,i=e.tickUpper,o=e.amount0,a=e.amount1,s=G.getSqrtRatioAtTick(r),u=G.getSqrtRatioAtTick(i);return new t({pool:n,tickLower:r,tickUpper:i,liquidity:Z(n.sqrtRatioX32,s,u,o,a)})},t.fromAmount0=function(e){return t.fromAmounts({pool:e.pool,tickLower:e.tickLower,tickUpper:e.tickUpper,amount0:e.amount0,amount1:T,useFullPrecision:e.useFullPrecision})},t.fromAmount1=function(e){return t.fromAmounts({pool:e.pool,tickLower:e.tickLower,tickUpper:e.tickUpper,amount0:T,amount1:e.amount1,useFullPrecision:!0})},h(t,[{key:"token0PriceLower",get:function(){return tt(this.pool.token0,this.pool.token1,this.tickLower)}},{key:"token0PriceUpper",get:function(){return tt(this.pool.token0,this.pool.token1,this.tickUpper)}},{key:"amount0",get:function(){return null===this._token0Amount&&(this._token0Amount=a.CurrencyAmount.fromRawAmount(this.pool.token0,this.pool.tickCurrent<this.tickLower?z.getAmount0Delta(G.getSqrtRatioAtTick(this.tickLower),G.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1):this.pool.tickCurrent<this.tickUpper?z.getAmount0Delta(this.pool.sqrtRatioX32,G.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1):_)),this._token0Amount}},{key:"amount1",get:function(){return null===this._token1Amount&&(this._token1Amount=a.CurrencyAmount.fromRawAmount(this.pool.token1,this.pool.tickCurrent<this.tickLower?_:z.getAmount1Delta(G.getSqrtRatioAtTick(this.tickLower),this.pool.tickCurrent<this.tickUpper?this.pool.sqrtRatioX32:G.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1))),this._token1Amount}},{key:"mintAmounts",get:function(){return null===this._mintAmounts?this.pool.tickCurrent<this.tickLower?{amount0:z.getAmount0Delta(G.getSqrtRatioAtTick(this.tickLower),G.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:_}:this.pool.tickCurrent<this.tickUpper?{amount0:z.getAmount0Delta(this.pool.sqrtRatioX32,G.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:z.getAmount1Delta(G.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX32,this.liquidity,!0)}:{amount0:_,amount1:z.getAmount1Delta(G.getSqrtRatioAtTick(this.tickLower),G.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0)}:this._mintAmounts}}]),t}(),nt=function(){function t(t,e,n){this._midPrice=null,t.length>0||u(!1);var r=t[0].chainId;t.every((function(t){return t.chainId===r}))||u(!1);var i=e.wrapped;t[0].involvesToken(i)||u(!1),t[t.length-1].involvesToken(n.wrapped)||u(!1);for(var o,a=[i],s=y(t.entries());!(o=s()).done;){var c=o.value,l=c[1],d=a[c[0]];d.equals(l.token0)||d.equals(l.token1)||u(!1);var f=d.equals(l.token0)?l.token1:l.token0;a.push(f)}this.pools=t,this.tokenPath=a,this.input=e,this.output=null!=n?n:a[a.length-1]}return h(t,[{key:"chainId",get:function(){return this.pools[0].chainId}},{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;var t=this.pools.slice(1).reduce((function(t,e){var n=t.price;return t.nextInput.equals(e.token0)?{nextInput:e.token1,price:n.multiply(e.token0Price)}:{nextInput:e.token0,price:n.multiply(e.token1Price)}}),this.pools[0].token0.equals(this.input.wrapped)?{nextInput:this.pools[0].token1,price:this.pools[0].token0Price}:{nextInput:this.pools[0].token0,price:this.pools[0].token1Price}).price;return this._midPrice=new a.Price(this.input,this.output,t.denominator,t.numerator)}}]),t}();function rt(t,e){for(var n=0;n<t.length-1;n++)if(e(t[n],t[n+1])>0)return!1;return!0}function it(t,e){return t.index-e.index}var ot=function(){function t(){}return t.validateList=function(t,e){e>0||u(!1),t.every((function(t){return t.index%e==0}))||u(!1),s.equal(t.reduce((function(t,e){return s.add(t,e.liquidityNet)}),_),_)||u(!1),rt(t,it)||u(!1)},t.isBelowSmallest=function(t,e){return t.length>0||u(!1),e<t[0].index},t.isAtOrAboveLargest=function(t,e){return t.length>0||u(!1),e>=t[t.length-1].index},t.getTick=function(t,e){var n=t[this.binarySearch(t,e)];return n.index!==e&&u(!1),n},t.binarySearch=function(t,e){this.isBelowSmallest(t,e)&&u(!1);for(var n,r=0,i=t.length-1;;){if(t[n=Math.floor((r+i)/2)].index<=e&&(n===t.length-1||t[n+1].index>e))return n;t[n].index<e?r=n+1:i=n-1}},t.nextInitializedTick=function(e,n,r){return r?(t.isBelowSmallest(e,n)&&u(!1),t.isAtOrAboveLargest(e,n)?e[e.length-1]:e[this.binarySearch(e,n)]):(this.isAtOrAboveLargest(e,n)&&u(!1),this.isBelowSmallest(e,n)?e[0]:e[this.binarySearch(e,n)+1])},t.nextInitializedTickWithinOneWord=function(e,n,r,i){var o=Math.floor(n/i);if(r){var a=(o>>8<<8)*i;if(t.isBelowSmallest(e,n))return[a,!1];var s=t.nextInitializedTick(e,n,r).index,u=Math.max(a,s);return[u,u===s]}var c=(1+(o+1>>8)<<8)*i-1;if(this.isAtOrAboveLargest(e,n))return[c,!1];var l=this.nextInitializedTick(e,n,r).index,d=Math.min(c,l);return[d,d===l]},t}();function at(t){var e=t.observation,n=t.tick,r=t.liquidity,i=t.blockTimestamp.sub(e.blockTimestamp);return p({},e,{tickCumulative:e.tickCumulative.add(n.mul(i)),secondsPerLiquidityCumulativeX32:e.secondsPerLiquidityCumulativeX32.add(i.shln(32).div(r.gtn(0)?r:new c.BN(1))),initialized:!0})}var st,ut=(function(t){var e=function(t){var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=Object.create((e&&e.prototype instanceof d?e:d).prototype),o=new S(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,o),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function d(){}function f(){}function h(){}var p={};s(p,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==e&&n.call(y,i)&&(p=y);var g=h.prototype=d.prototype=Object.create(p);function v(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var r;this._invoke=function(i,o){function a(){return new e((function(r,a){!function r(i,o,a,s){var u=c(t[i],t,o);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return f.prototype=h,s(g,"constructor",h),s(h,"constructor",f),f.displayName=s(h,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},v(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(g),s(g,a,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(st={exports:{}}),st.exports);function ct(t,e){return t.inputAmount.currency.equals(e.inputAmount.currency)||u(!1),t.outputAmount.currency.equals(e.outputAmount.currency)||u(!1),t.outputAmount.equalTo(e.outputAmount)?t.inputAmount.equalTo(e.inputAmount)?t.swaps.reduce((function(t,e){return t+e.route.tokenPath.length}),0)-e.swaps.reduce((function(t,e){return t+e.route.tokenPath.length}),0):t.inputAmount.lessThan(e.inputAmount)?-1:1:t.outputAmount.lessThan(e.outputAmount)?1:-1}var lt=function(){function t(t){var e=t.routes,n=t.tradeType,r=e[0].inputAmount.currency,i=e[0].outputAmount.currency;e.every((function(t){return r.wrapped.equals(t.route.input.wrapped)}))||u(!1),e.every((function(t){return i.wrapped.equals(t.route.output.wrapped)}))||u(!1),this.swaps=e,this.tradeType=n}t.exactIn=function(){var e=d(ut.mark((function e(n,r){return ut.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.fromRoute(n,r,a.TradeType.EXACT_INPUT));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.exactOut=function(){var e=d(ut.mark((function e(n,r){return ut.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.fromRoute(n,r,a.TradeType.EXACT_OUTPUT));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.fromRoute=function(){var e=d(ut.mark((function e(n,r,i){var o,s,c,l,d,f,h;return ut.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=new Array(n.tokenPath.length),i!==a.TradeType.EXACT_INPUT){e.next=19;break}r.currency.equals(n.input)||u(!1),o[0]=r.wrapped,l=0;case 5:if(!(l<n.tokenPath.length-1)){e.next=15;break}return d=n.pools[l],e.next=9,d.getOutputAmount(o[l]);case 9:o[l+1]=e.sent[0];case 12:l++,e.next=5;break;case 15:s=a.CurrencyAmount.fromFractionalAmount(n.input,r.numerator,r.denominator),c=a.CurrencyAmount.fromFractionalAmount(n.output,o[o.length-1].numerator,o[o.length-1].denominator),e.next=34;break;case 19:r.currency.equals(n.output)||u(!1),o[o.length-1]=r.wrapped,f=n.tokenPath.length-1;case 22:if(!(f>0)){e.next=32;break}return h=n.pools[f-1],e.next=26,h.getInputAmount(o[f]);case 26:o[f-1]=e.sent[0];case 29:f--,e.next=22;break;case 32:s=a.CurrencyAmount.fromFractionalAmount(n.input,o[0].numerator,o[0].denominator),c=a.CurrencyAmount.fromFractionalAmount(n.output,r.numerator,r.denominator);case 34:return e.abrupt("return",new t({routes:[{inputAmount:s,outputAmount:c,route:n}],tradeType:i}));case 35:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),t.fromRoutes=function(){var e=d(ut.mark((function e(n,r){var i,o,s,c,l,d,f,h,p,m,g,v,w;return ut.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],o=y(n);case 2:if((s=o()).done){e.next=43;break}if(l=(c=s.value).route,d=c.amount,f=new Array(l.tokenPath.length),h=void 0,p=void 0,r!==a.TradeType.EXACT_INPUT){e.next=25;break}d.currency.equals(l.input)||u(!1),h=a.CurrencyAmount.fromFractionalAmount(l.input,d.numerator,d.denominator),f[0]=a.CurrencyAmount.fromFractionalAmount(l.input.wrapped,d.numerator,d.denominator),m=0;case 12:if(!(m<l.tokenPath.length-1)){e.next=22;break}return g=l.pools[m],e.next=16,g.getOutputAmount(f[m]);case 16:f[m+1]=e.sent[0];case 19:m++,e.next=12;break;case 22:p=a.CurrencyAmount.fromFractionalAmount(l.output,f[f.length-1].numerator,f[f.length-1].denominator),e.next=40;break;case 25:d.currency.equals(l.output)||u(!1),p=a.CurrencyAmount.fromFractionalAmount(l.output,d.numerator,d.denominator),f[f.length-1]=a.CurrencyAmount.fromFractionalAmount(l.output.wrapped,d.numerator,d.denominator),v=l.tokenPath.length-1;case 29:if(!(v>0)){e.next=39;break}return w=l.pools[v-1],e.next=33,w.getInputAmount(f[v]);case 33:f[v-1]=e.sent[0];case 36:v--,e.next=29;break;case 39:h=a.CurrencyAmount.fromFractionalAmount(l.input,f[0].numerator,f[0].denominator);case 40:i.push({route:l,inputAmount:h,outputAmount:p});case 41:e.next=2;break;case 43:return e.abrupt("return",new t({routes:i,tradeType:r}));case 44:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.createUncheckedTrade=function(e){return new t(p({},e,{routes:[{inputAmount:e.inputAmount,outputAmount:e.outputAmount,route:e.route}]}))},t.createUncheckedTradeWithMultipleRoutes=function(e){return new t(e)};var e=t.prototype;return e.minimumAmountOut=function(t,e){if(void 0===e&&(e=this.outputAmount),t.lessThan("0")&&u(!1),this.tradeType===a.TradeType.EXACT_OUTPUT)return e;var n=new a.Fraction("1").add(t).invert().multiply(e.quotient).quotient;return a.CurrencyAmount.fromRawAmount(e.currency,n)},e.maximumAmountIn=function(t,e){if(void 0===e&&(e=this.inputAmount),t.lessThan("0")&&u(!1),this.tradeType===a.TradeType.EXACT_INPUT)return e;var n=new a.Fraction("1").add(t).multiply(e.quotient).quotient;return a.CurrencyAmount.fromRawAmount(e.currency,n)},e.worstExecutionPrice=function(t){return new a.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(t).quotient,this.minimumAmountOut(t).quotient)},t.bestTradeExactIn=function(){var e=d(ut.mark((function e(n,r,i,o,s,c,l){var d,f,h,p,m,y,g,v,w,b,_;return ut.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h=void 0===(f=(d=void 0===o?{}:o).maxNumResults)?3:f,m=void 0===(p=d.maxHops)?3:p,void 0===s&&(s=[]),void 0===c&&(c=r),void 0===l&&(l=[]),n.length>0||u(!1),m>0||u(!1),r===c||s.length>0||u(!1),y=c.wrapped,g=i.wrapped,v=0;case 10:if(!(v<n.length)){e.next=46;break}if((w=n[v]).token0.equals(y.currency)||w.token1.equals(y.currency)){e.next=14;break}return e.abrupt("continue",43);case 14:return b=void 0,e.prev=15,e.next=19,w.getOutputAmount(y);case 19:b=e.sent[0],e.next=28;break;case 23:if(e.prev=23,e.t0=e.catch(15),!e.t0.isInsufficientInputAmountError){e.next=27;break}return e.abrupt("continue",43);case 27:throw e.t0;case 28:if(!b.currency.isToken||!b.currency.equals(g)){e.next=39;break}return e.t1=a.sortedInsert,e.t2=l,e.next=33,t.fromRoute(new nt([].concat(s,[w]),r.currency,i),r,a.TradeType.EXACT_INPUT);case 33:e.t3=e.sent,e.t4=h,e.t5=ct,(0,e.t1)(e.t2,e.t3,e.t4,e.t5),e.next=43;break;case 39:if(!(m>1&&n.length>1)){e.next=43;break}return _=n.slice(0,v).concat(n.slice(v+1,n.length)),e.next=43,t.bestTradeExactIn(_,r,i,{maxNumResults:h,maxHops:m-1},[].concat(s,[w]),b,l);case 43:v++,e.next=10;break;case 46:return e.abrupt("return",l);case 47:case"end":return e.stop()}}),e,null,[[15,23]])})));return function(t,n,r,i,o,a,s){return e.apply(this,arguments)}}(),t.bestTradeExactOut=function(){var e=d(ut.mark((function e(n,r,i,o,s,c,l){var d,f,h,p,m,y,g,v,w,b,_;return ut.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h=void 0===(f=(d=void 0===o?{}:o).maxNumResults)?3:f,m=void 0===(p=d.maxHops)?3:p,void 0===s&&(s=[]),void 0===c&&(c=i),void 0===l&&(l=[]),n.length>0||u(!1),m>0||u(!1),i===c||s.length>0||u(!1),y=c.wrapped,g=r.wrapped,v=0;case 10:if(!(v<n.length)){e.next=46;break}if((w=n[v]).token0.equals(y.currency)||w.token1.equals(y.currency)){e.next=14;break}return e.abrupt("continue",43);case 14:return b=void 0,e.prev=15,e.next=19,w.getInputAmount(y);case 19:b=e.sent[0],e.next=28;break;case 23:if(e.prev=23,e.t0=e.catch(15),!e.t0.isInsufficientReservesError){e.next=27;break}return e.abrupt("continue",43);case 27:throw e.t0;case 28:if(!b.currency.equals(g)){e.next=39;break}return e.t1=a.sortedInsert,e.t2=l,e.next=33,t.fromRoute(new nt([w].concat(s),r,i.currency),i,a.TradeType.EXACT_OUTPUT);case 33:e.t3=e.sent,e.t4=h,e.t5=ct,(0,e.t1)(e.t2,e.t3,e.t4,e.t5),e.next=43;break;case 39:if(!(m>1&&n.length>1)){e.next=43;break}return _=n.slice(0,v).concat(n.slice(v+1,n.length)),e.next=43,t.bestTradeExactOut(_,r,i,{maxNumResults:h,maxHops:m-1},[w].concat(s),b,l);case 43:v++,e.next=10;break;case 46:return e.abrupt("return",l);case 47:case"end":return e.stop()}}),e,null,[[15,23]])})));return function(t,n,r,i,o,a,s){return e.apply(this,arguments)}}(),h(t,[{key:"route",get:function(){return 1!=this.swaps.length&&u(!1),this.swaps[0].route}},{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var t=this.swaps[0].inputAmount.currency,e=this.swaps.map((function(t){return t.inputAmount})).reduce((function(t,e){return t.add(e)}),a.CurrencyAmount.fromRawAmount(t,0));return this._inputAmount=e,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var t=this.swaps[0].outputAmount.currency,e=this.swaps.map((function(t){return t.outputAmount})).reduce((function(t,e){return t.add(e)}),a.CurrencyAmount.fromRawAmount(t,0));return this._outputAmount=e,this._outputAmount}},{key:"executionPrice",get:function(){var t;return null!=(t=this._executionPrice)?t:this._executionPrice=new a.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var t,e=a.CurrencyAmount.fromRawAmount(this.outputAmount.currency,0),n=y(this.swaps);!(t=n()).done;){var r=t.value;e=e.add(r.route.midPrice.quote(r.inputAmount))}var i=e.subtract(this.outputAmount).divide(e);return this._priceImpact=new a.Percent(i.numerator,i.denominator),this._priceImpact}}]),t}();e.BITMAP_SEED=x,e.IDL={version:"0.1.6",name:"cyclos_core",instructions:[{name:"initFactory",accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"factoryState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"setOwner",accounts:[{name:"owner",isMut:!1,isSigner:!0},{name:"newOwner",isMut:!1,isSigner:!1},{name:"factoryState",isMut:!0,isSigner:!1}],args:[]},{name:"enableFeeAmount",accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"factoryState",isMut:!0,isSigner:!1},{name:"feeState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"fee",type:"u32"},{name:"tickSpacing",type:"u16"}]},{name:"createAndInitPool",accounts:[{name:"poolCreator",isMut:!0,isSigner:!0},{name:"token0",isMut:!1,isSigner:!1},{name:"token1",isMut:!1,isSigner:!1},{name:"feeState",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"initialObservationState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"sqrtPriceX32",type:"u64"}]},{name:"increaseObservationCardinalityNext",accounts:[{name:"payer",isMut:!1,isSigner:!0},{name:"poolState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"observationAccountBumps",type:"bytes"}]},{name:"setFeeProtocol",accounts:[{name:"owner",isMut:!1,isSigner:!0},{name:"factoryState",isMut:!0,isSigner:!1}],args:[{name:"feeProtocol",type:"u8"}]},{name:"collectProtocol",accounts:[{name:"owner",isMut:!1,isSigner:!0},{name:"factoryState",isMut:!0,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"vault0",isMut:!0,isSigner:!1},{name:"vault1",isMut:!0,isSigner:!1},{name:"recipientWallet0",isMut:!0,isSigner:!1},{name:"recipientWallet1",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Requested",type:"u64"},{name:"amount1Requested",type:"u64"}]},{name:"initTickAccount",accounts:[{name:"signer",isMut:!0,isSigner:!0},{name:"poolState",isMut:!1,isSigner:!1},{name:"tickState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"tick",type:"i32"}]},{name:"closeTickAccount",accounts:[{name:"tickState",isMut:!0,isSigner:!1},{name:"recipient",isMut:!0,isSigner:!1}],args:[]},{name:"initBitmapAccount",accounts:[{name:"signer",isMut:!0,isSigner:!0},{name:"poolState",isMut:!1,isSigner:!1},{name:"bitmapState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"wordPos",type:"i16"}]},{name:"initPositionAccount",accounts:[{name:"signer",isMut:!0,isSigner:!0},{name:"recipient",isMut:!1,isSigner:!1},{name:"poolState",isMut:!1,isSigner:!1},{name:"tickLowerState",isMut:!1,isSigner:!1},{name:"tickUpperState",isMut:!1,isSigner:!1},{name:"positionState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"mintCallback",accounts:[{name:"minter",isMut:!1,isSigner:!0},{name:"tokenAccount0",isMut:!1,isSigner:!1},{name:"tokenAccount1",isMut:!1,isSigner:!1},{name:"vault0",isMut:!1,isSigner:!1},{name:"vault1",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Owed",type:"u64"},{name:"amount1Owed",type:"u64"}]},{name:"swapCallback",accounts:[{name:"signer",isMut:!1,isSigner:!0},{name:"inputTokenAccount",isMut:!0,isSigner:!1},{name:"outputTokenAccount",isMut:!0,isSigner:!1},{name:"inputVault",isMut:!0,isSigner:!1},{name:"outputVault",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Delta",type:"i64"},{name:"amount1Delta",type:"i64"}]},{name:"mint",accounts:[{name:"minter",isMut:!1,isSigner:!0},{name:"tokenAccount0",isMut:!0,isSigner:!1},{name:"tokenAccount1",isMut:!0,isSigner:!1},{name:"vault0",isMut:!0,isSigner:!1},{name:"vault1",isMut:!0,isSigner:!1},{name:"recipient",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"tickLowerState",isMut:!0,isSigner:!1},{name:"tickUpperState",isMut:!0,isSigner:!1},{name:"bitmapLowerState",isMut:!0,isSigner:!1},{name:"bitmapUpperState",isMut:!0,isSigner:!1},{name:"positionState",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"callbackHandler",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"owner",isMut:!1,isSigner:!0},{name:"poolState",isMut:!0,isSigner:!1},{name:"tickLowerState",isMut:!1,isSigner:!1},{name:"tickUpperState",isMut:!1,isSigner:!1},{name:"bitmapLowerState",isMut:!1,isSigner:!1},{name:"bitmapUpperState",isMut:!1,isSigner:!1},{name:"positionState",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"collect",accounts:[{name:"owner",isMut:!1,isSigner:!0},{name:"poolState",isMut:!0,isSigner:!1},{name:"tickLowerState",isMut:!1,isSigner:!1},{name:"tickUpperState",isMut:!1,isSigner:!1},{name:"positionState",isMut:!0,isSigner:!1},{name:"vault0",isMut:!0,isSigner:!1},{name:"vault1",isMut:!0,isSigner:!1},{name:"recipientWallet0",isMut:!0,isSigner:!1},{name:"recipientWallet1",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Requested",type:"u64"},{name:"amount1Requested",type:"u64"}]},{name:"swap",accounts:[{name:"signer",isMut:!1,isSigner:!0},{name:"inputTokenAccount",isMut:!0,isSigner:!1},{name:"outputTokenAccount",isMut:!0,isSigner:!1},{name:"inputVault",isMut:!0,isSigner:!1},{name:"outputVault",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"factoryState",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"callbackHandler",isMut:!1,isSigner:!1}],args:[{name:"amountSpecified",type:"i64"},{name:"sqrtPriceLimitX32",type:"u64"}]},{name:"mintTokenizedPosition",accounts:[{name:"minter",isMut:!0,isSigner:!0},{name:"recipient",isMut:!1,isSigner:!1},{name:"factoryState",isMut:!1,isSigner:!1},{name:"nftMint",isMut:!0,isSigner:!0},{name:"nftAccount",isMut:!0,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"corePositionState",isMut:!0,isSigner:!1},{name:"tickLowerState",isMut:!0,isSigner:!1},{name:"tickUpperState",isMut:!0,isSigner:!1},{name:"bitmapLowerState",isMut:!0,isSigner:!1},{name:"bitmapUpperState",isMut:!0,isSigner:!1},{name:"tokenizedPositionState",isMut:!0,isSigner:!1},{name:"tokenAccount0",isMut:!0,isSigner:!1},{name:"tokenAccount1",isMut:!0,isSigner:!1},{name:"vault0",isMut:!0,isSigner:!1},{name:"vault1",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"coreProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Desired",type:"u64"},{name:"amount1Desired",type:"u64"},{name:"amount0Min",type:"u64"},{name:"amount1Min",type:"u64"},{name:"deadline",type:"i64"}]},{name:"addMetaplexMetadata",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"factoryState",isMut:!1,isSigner:!1},{name:"nftMint",isMut:!0,isSigner:!1},{name:"tokenizedPositionState",isMut:!1,isSigner:!1},{name:"metadataAccount",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"metadataProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"increaseLiquidity",accounts:[{name:"payer",isMut:!1,isSigner:!0},{name:"factoryState",isMut:!1,isSigner:!1},{name:"tokenizedPositionState",isMut:!0,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"corePositionState",isMut:!0,isSigner:!1},{name:"tickLowerState",isMut:!0,isSigner:!1},{name:"tickUpperState",isMut:!0,isSigner:!1},{name:"bitmapLowerState",isMut:!0,isSigner:!1},{name:"bitmapUpperState",isMut:!0,isSigner:!1},{name:"tokenAccount0",isMut:!0,isSigner:!1},{name:"tokenAccount1",isMut:!0,isSigner:!1},{name:"vault0",isMut:!0,isSigner:!1},{name:"vault1",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"coreProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Desired",type:"u64"},{name:"amount1Desired",type:"u64"},{name:"amount0Min",type:"u64"},{name:"amount1Min",type:"u64"},{name:"deadline",type:"i64"}]},{name:"decreaseLiquidity",accounts:[{name:"ownerOrDelegate",isMut:!1,isSigner:!0},{name:"nftAccount",isMut:!1,isSigner:!1},{name:"tokenizedPositionState",isMut:!0,isSigner:!1},{name:"factoryState",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"corePositionState",isMut:!0,isSigner:!1},{name:"tickLowerState",isMut:!0,isSigner:!1},{name:"tickUpperState",isMut:!0,isSigner:!1},{name:"bitmapLowerState",isMut:!0,isSigner:!1},{name:"bitmapUpperState",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"coreProgram",isMut:!1,isSigner:!1}],args:[{name:"liquidity",type:"u64"},{name:"amount0Min",type:"u64"},{name:"amount1Min",type:"u64"},{name:"deadline",type:"i64"}]},{name:"collectFromTokenized",accounts:[{name:"ownerOrDelegate",isMut:!1,isSigner:!0},{name:"nftAccount",isMut:!1,isSigner:!1},{name:"tokenizedPositionState",isMut:!0,isSigner:!1},{name:"factoryState",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"corePositionState",isMut:!0,isSigner:!1},{name:"tickLowerState",isMut:!0,isSigner:!1},{name:"tickUpperState",isMut:!0,isSigner:!1},{name:"bitmapLowerState",isMut:!0,isSigner:!1},{name:"bitmapUpperState",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"vault0",isMut:!0,isSigner:!1},{name:"vault1",isMut:!0,isSigner:!1},{name:"recipientWallet0",isMut:!0,isSigner:!1},{name:"recipientWallet1",isMut:!0,isSigner:!1},{name:"coreProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Max",type:"u64"},{name:"amount1Max",type:"u64"}]},{name:"exactInputSingle",accounts:[{name:"signer",isMut:!1,isSigner:!0},{name:"factoryState",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"inputTokenAccount",isMut:!0,isSigner:!1},{name:"outputTokenAccount",isMut:!0,isSigner:!1},{name:"inputVault",isMut:!0,isSigner:!1},{name:"outputVault",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"coreProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"deadline",type:"i64"},{name:"amountIn",type:"u64"},{name:"amountOutMinimum",type:"u64"},{name:"sqrtPriceLimitX32",type:"u64"}]},{name:"exactInput",accounts:[{name:"signer",isMut:!1,isSigner:!0},{name:"factoryState",isMut:!1,isSigner:!1},{name:"inputTokenAccount",isMut:!0,isSigner:!1},{name:"coreProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"deadline",type:"i64"},{name:"amountIn",type:"u64"},{name:"amountOutMinimum",type:"u64"},{name:"additionalAccountsPerPool",type:"bytes"}]}],accounts:[{name:"factoryState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"owner",type:"publicKey"},{name:"feeProtocol",type:"u8"}]}},{name:"feeState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"fee",type:"u32"},{name:"tickSpacing",type:"u16"}]}},{name:"observationState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"index",type:"u16"},{name:"blockTimestamp",type:"u32"},{name:"tickCumulative",type:"i64"},{name:"secondsPerLiquidityCumulativeX32",type:"u64"},{name:"initialized",type:"bool"}]}},{name:"poolState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"token0",type:"publicKey"},{name:"token1",type:"publicKey"},{name:"fee",type:"u32"},{name:"tickSpacing",type:"u16"},{name:"liquidity",type:"u64"},{name:"sqrtPriceX32",type:"u64"},{name:"tick",type:"i32"},{name:"observationIndex",type:"u16"},{name:"observationCardinality",type:"u16"},{name:"observationCardinalityNext",type:"u16"},{name:"feeGrowthGlobal0X32",type:"u64"},{name:"feeGrowthGlobal1X32",type:"u64"},{name:"protocolFeesToken0",type:"u64"},{name:"protocolFeesToken1",type:"u64"},{name:"unlocked",type:"bool"}]}},{name:"positionState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"liquidity",type:"u64"},{name:"feeGrowthInside0LastX32",type:"u64"},{name:"feeGrowthInside1LastX32",type:"u64"},{name:"tokensOwed0",type:"u64"},{name:"tokensOwed1",type:"u64"}]}},{name:"positionManagerState",type:{kind:"struct",fields:[{name:"bump",type:"u8"}]}},{name:"swapRouterState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"core",type:"publicKey"},{name:"amountInCached",type:"u64"}]}},{name:"tickState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"tick",type:"i32"},{name:"liquidityNet",type:"i64"},{name:"liquidityGross",type:"u64"},{name:"feeGrowthOutside0X32",type:"u64"},{name:"feeGrowthOutside1X32",type:"u64"},{name:"tickCumulativeOutside",type:"i64"},{name:"secondsPerLiquidityOutsideX32",type:"u64"},{name:"secondsOutside",type:"u32"}]}},{name:"tickBitmapState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"wordPos",type:"i16"},{name:"word",type:{array:["u64",4]}}]}},{name:"tokenizedPositionState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"mint",type:"publicKey"},{name:"poolId",type:"publicKey"},{name:"tickLower",type:"i32"},{name:"tickUpper",type:"i32"},{name:"liquidity",type:"u64"},{name:"feeGrowthInside0LastX32",type:"u64"},{name:"feeGrowthInside1LastX32",type:"u64"},{name:"tokensOwed0",type:"u64"},{name:"tokensOwed1",type:"u64"}]}}],events:[{name:"OwnerChanged",fields:[{name:"oldOwner",type:"publicKey",index:!1},{name:"newOwner",type:"publicKey",index:!1}]},{name:"SetFeeProtocolEvent",fields:[{name:"feeProtocolOld",type:"u8",index:!1},{name:"feeProtocol",type:"u8",index:!1}]},{name:"FeeAmountEnabled",fields:[{name:"fee",type:"u32",index:!1},{name:"tickSpacing",type:"u16",index:!1}]},{name:"IncreaseObservationCardinalityNext",fields:[{name:"observationCardinalityNextOld",type:"u16",index:!1},{name:"observationCardinalityNextNew",type:"u16",index:!1}]},{name:"PoolCreatedAndInitialized",fields:[{name:"token0",type:"publicKey",index:!1},{name:"token1",type:"publicKey",index:!1},{name:"fee",type:"u32",index:!1},{name:"tickSpacing",type:"u16",index:!1},{name:"poolState",type:"publicKey",index:!1},{name:"sqrtPriceX32",type:"u64",index:!1},{name:"tick",type:"i32",index:!1}]},{name:"CollectProtocolEvent",fields:[{name:"poolState",type:"publicKey",index:!1},{name:"sender",type:"publicKey",index:!1},{name:"recipientWallet0",type:"publicKey",index:!1},{name:"recipientWallet1",type:"publicKey",index:!1},{name:"amount0",type:"u64",index:!1},{name:"amount1",type:"u64",index:!1}]},{name:"SwapEvent",fields:[{name:"poolState",type:"publicKey",index:!1},{name:"sender",type:"publicKey",index:!1},{name:"tokenAccount0",type:"publicKey",index:!1},{name:"tokenAccount1",type:"publicKey",index:!1},{name:"amount0",type:"i64",index:!1},{name:"amount1",type:"i64",index:!1},{name:"sqrtPriceX32",type:"u64",index:!1},{name:"liquidity",type:"u64",index:!1},{name:"tick",type:"i32",index:!1}]},{name:"MintEvent",fields:[{name:"poolState",type:"publicKey",index:!1},{name:"sender",type:"publicKey",index:!1},{name:"owner",type:"publicKey",index:!1},{name:"tickLower",type:"i32",index:!1},{name:"tickUpper",type:"i32",index:!1},{name:"amount",type:"u64",index:!1},{name:"amount0",type:"u64",index:!1},{name:"amount1",type:"u64",index:!1}]},{name:"BurnEvent",fields:[{name:"poolState",type:"publicKey",index:!1},{name:"owner",type:"publicKey",index:!1},{name:"tickLower",type:"i32",index:!1},{name:"tickUpper",type:"i32",index:!1},{name:"amount",type:"u64",index:!1},{name:"amount0",type:"u64",index:!1},{name:"amount1",type:"u64",index:!1}]},{name:"CollectEvent",fields:[{name:"poolState",type:"publicKey",index:!1},{name:"owner",type:"publicKey",index:!1},{name:"tickLower",type:"i32",index:!1},{name:"tickUpper",type:"i32",index:!1},{name:"amount0",type:"u64",index:!1},{name:"amount1",type:"u64",index:!1}]},{name:"IncreaseLiquidityEvent",fields:[{name:"tokenId",type:"publicKey",index:!1},{name:"liquidity",type:"u64",index:!1},{name:"amount0",type:"u64",index:!1},{name:"amount1",type:"u64",index:!1}]},{name:"DecreaseLiquidityEvent",fields:[{name:"tokenId",type:"publicKey",index:!1},{name:"liquidity",type:"u64",index:!1},{name:"amount0",type:"u64",index:!1},{name:"amount1",type:"u64",index:!1}]},{name:"CollectTokenizedEvent",fields:[{name:"tokenId",type:"publicKey",index:!1},{name:"recipientWallet0",type:"publicKey",index:!1},{name:"recipientWallet1",type:"publicKey",index:!1},{name:"amount0",type:"u64",index:!1},{name:"amount1",type:"u64",index:!1}]}],errors:[{code:6e3,name:"LOK",msg:"LOK"},{code:6001,name:"ZeroMintAmount",msg:"Minting amount should be greater than 0"},{code:6002,name:"TLU",msg:"TLU"},{code:6003,name:"TMS",msg:"TMS"},{code:6004,name:"TLM",msg:"TLM"},{code:6005,name:"TUM",msg:"TUM"},{code:6006,name:"M0",msg:"M0"},{code:6007,name:"M1",msg:"M1"},{code:6008,name:"OS",msg:"OS"},{code:6009,name:"AS",msg:"AS"},{code:6010,name:"SPL",msg:"SPL"},{code:6011,name:"IIA",msg:"IIA"},{code:6012,name:"NP",msg:"NP"},{code:6013,name:"LO",msg:"LO"},{code:6014,name:"R",msg:"R"},{code:6015,name:"T",msg:"T"},{code:6016,name:"LS",msg:"LS"},{code:6017,name:"LA",msg:"LA"},{code:6018,name:"TransactionTooOld",msg:"Transaction too old"},{code:6019,name:"PriceSlippageCheck",msg:"Price slippage check"},{code:6020,name:"NotApproved",msg:"Not approved"},{code:6021,name:"TooLittleReceived",msg:"Too little received"}]},e.OBSERVATION_SEED=B,e.Pool=X,e.TICK_SEED=O,e.TickMath=G,e.buildTick=function(t,e,n){return((t<<8)+e)*n},e.generateBitmapWord=function(t){return t[0].add(t[1].shln(64)).add(t[2].shln(128)).add(t[3].shln(192))},e.nextInitializedBit=function(t,e,n){if(n){var r=new c.BN(1).shln(e).subn(1).add(new c.BN(1).shln(e)),i=t.and(r),o=!i.eqn(0);return{next:o?q(i):0,initialized:o}}var a=new c.BN(1).shln(e).subn(1).notn(256),s=t.and(a),u=!s.eqn(0);return{next:u?K(s):255,initialized:u}},e.tickPosition=function(t){return{wordPos:t>>8,bitPos:t%256&255}},e.u16ToSeed=function(t){var e=new ArrayBuffer(2);return new DataView(e).setUint16(0,t,!1),new Uint8Array(e)},e.u32ToSeed=D},7845:function(t,e,n){"use strict";t.exports=n(8815)},7920:function(t,e,n){"use strict";n.r(e),n.d(e,{web3:function(){return i},BN:function(){return a.a},ACCOUNT_DISCRIMINATOR_SIZE:function(){return z},AccountClient:function(){return we},BorshAccountsCoder:function(){return j},BorshCoder:function(){return X},BorshEventCoder:function(){return F},BorshInstructionCoder:function(){return D},BorshStateCoder:function(){return W},EventManager:function(){return Ae},EventParser:function(){return Se},IdlError:function(){return E},MethodsBuilderFactory:function(){return Be},Program:function(){return Le},ProgramError:function(){return k},Provider:function(){return b},Spl:function(){return De},SplTokenCoder:function(){return Dt},StateClient:function(){return ge},eventDiscriminator:function(){return q},getProvider:function(){return A},parseIdlErrors:function(){return Rt},setProvider:function(){return _},splitArgsAndCtx:function(){return he},stateDiscriminator:function(){return H},toInstruction:function(){return Ut},translateAddress:function(){return zt},utils:function(){return de},validateAccounts:function(){return Nt}});var r=n(8764),i=n(4020),o=n(3550),a=n.n(o),s=n(7191),u=n.n(s),c=n(3204),l=n.n(c),d=n(2023),f=n(9593),h=n(9742),p=n(9282),m=n.n(p),y=n(7885),g=n(6729),v=n.n(g),w=n(8764).Buffer;class b{constructor(t,e,n){this.connection=t,this.wallet=e,this.opts=n}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async send(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=this.opts),t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,await this.wallet.signTransaction(t),e.filter((t=>void 0!==t)).forEach((e=>{t.partialSign(e)}));const r=t.serialize();return await(0,i.sendAndConfirmRawTransaction)(this.connection,r,n)}async sendAll(t,e){void 0===e&&(e=this.opts);const n=await this.connection.getRecentBlockhash(e.preflightCommitment);let r=t.map((t=>{let e=t.tx,r=t.signers;return void 0===r&&(r=[]),e.feePayer=this.wallet.publicKey,e.recentBlockhash=n.blockhash,r.filter((t=>void 0!==t)).forEach((t=>{e.partialSign(t)})),e}));const o=await this.wallet.signAllTransactions(r),a=[];for(let s=0;s<r.length;s+=1){const t=o[s].serialize();a.push(await(0,i.sendAndConfirmRawTransaction)(this.connection,t,e))}return a}async simulate(t,e,n=this.opts){var r,i,o;return void 0===e&&(e=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(r=n.preflightCommitment)&&void 0!==r?r:this.opts.preflightCommitment)).blockhash,await this.wallet.signTransaction(t),e.filter((t=>void 0!==t)).forEach((e=>{t.partialSign(e)})),await async function(t,e,n){e.recentBlockhash=await t._recentBlockhash(t._disableBlockhashCaching);const r=e.serializeMessage(),i=[e._serialize(r).toString("base64"),{encoding:"base64",commitment:n}],o=await t._rpcRequest("simulateTransaction",i);if(o.error)throw new Error("failed to simulate transaction: "+o.error.message);return o.result}(this.connection,t,null!==(o=null!==(i=n.commitment)&&void 0!==i?i:this.opts.commitment)&&void 0!==o?o:"processed")}}function _(t){S=t}function A(){return null===S?b.local():S}let S=null;class E extends Error{constructor(t){super(t),this.name="IdlError"}}class k extends Error{constructor(t,e,...n){super(...n),this.code=t,this.msg=e}static parse(t,e){const n=t.toString();let r,i;if(n.includes("custom program error:")){let t=n.split("custom program error: ");if(2!==t.length)return null;r=t[1]}else{const t=n.match(/"Custom":([0-9]+)}/g);if(!t||t.length>1)return null;r=t[0].match(/([0-9]+)/g)[0]}try{i=parseInt(r)}catch(t){return null}let o=e.get(i);return void 0!==o?new k(i,o,i+": "+o):(o=T.get(i),void 0!==o?new k(i,o,i+": "+o):null)}toString(){return this.msg}}const T=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has_one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exempt constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"A state constraint was violated"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[4e3,"The given state account does not have the correct address"],[4100,"The declared program id does not match the actual program id"],[5e3,"The API being used is deprecated and should no longer be used"]]);var I=function(){return(I=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},x=function(){return(x=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function P(t){return t.toLowerCase()}var M=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],B=/[^A-Z0-9]+/gi;function O(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce((function(t,e){return t.replace(e,n)}),t)}class L{static fieldLayout(t,e){const n=void 0!==t.name?l()(t.name):void 0;switch(t.type){case"bool":return f.bool(n);case"u8":return f.u8(n);case"i8":return f.i8(n);case"u16":return f.u16(n);case"i16":return f.i16(n);case"u32":return f.u32(n);case"i32":return f.i32(n);case"f32":return f.f32(n);case"u64":return f.u64(n);case"i64":return f.i64(n);case"f64":return f.f64(n);case"u128":return f.u128(n);case"i128":return f.i128(n);case"bytes":return f.vecU8(n);case"string":return f.str(n);case"publicKey":return f.publicKey(n);default:if("vec"in t.type)return f.vec(L.fieldLayout({name:void 0,type:t.type.vec},e),n);if("option"in t.type)return f.option(L.fieldLayout({name:void 0,type:t.type.option},e),n);if("defined"in t.type){const r=t.type.defined;if(void 0===e)throw new E("User defined types not provided");const i=e.filter((t=>t.name===r));if(1!==i.length)throw new E(`Type not found: ${JSON.stringify(t)}`);return L.typeDefLayout(i[0],e,n)}if("array"in t.type){let r=t.type.array[0],i=t.type.array[1],o=L.fieldLayout({name:void 0,type:r},e);return f.array(o,i,n)}throw new Error(`Not yet implemented: ${t}`)}}static typeDefLayout(t,e=[],n){if("struct"===t.type.kind){const r=t.type.fields.map((t=>L.fieldLayout(t,e)));return f.struct(r,n)}if("enum"===t.type.kind){let r=t.type.variants.map((t=>{const n=l()(t.name);if(void 0===t.fields)return f.struct([],n);const r=t.fields.map((t=>{if(!t.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return L.fieldLayout(t,e)}));return f.struct(r,n)}));return void 0!==n?f.rustEnum(r).replicate(n):f.rustEnum(r,n)}throw new Error(`Unknown type kint: ${t}`)}}class D{constructor(t){this.idl=t,this.ixLayout=D.parseIxLayout(t);const e=new Map;t.instructions.forEach((t=>{const n=R("global",t.name);e.set(u().encode(n),{layout:this.ixLayout.get(t.name),name:t.name})})),t.state&&t.state.methods.map((t=>{const n=R("state",t.name);e.set(u().encode(n),{layout:this.ixLayout.get(t.name),name:t.name})})),this.sighashLayouts=e}encode(t,e){return this._encode("global",t,e)}encodeState(t,e){return this._encode("state",t,e)}_encode(t,e,n){const i=r.Buffer.alloc(1e3),o=l()(e),a=this.ixLayout.get(o);if(!a)throw new Error(`Unknown method: ${o}`);const s=a.encode(n,i),u=i.slice(0,s);return r.Buffer.concat([R(t,e),u])}static parseIxLayout(t){const e=(t.state?t.state.methods:[]).map((e=>{let n=e.args.map((e=>{var n,r;return L.fieldLayout(e,Array.from([...null!==(n=t.accounts)&&void 0!==n?n:[],...null!==(r=t.types)&&void 0!==r?r:[]]))}));const r=l()(e.name);return[r,f.struct(n,r)]})).concat(t.instructions.map((e=>{let n=e.args.map((e=>{var n,r;return L.fieldLayout(e,Array.from([...null!==(n=t.accounts)&&void 0!==n?n:[],...null!==(r=t.types)&&void 0!==r?r:[]]))}));const r=l()(e.name);return[r,f.struct(n,r)]})));return new Map(e)}decode(t,e="hex"){"string"==typeof t&&(t="hex"===e?r.Buffer.from(t,"hex"):u().decode(t));let n=u().encode(t.slice(0,8)),i=t.slice(8);const o=this.sighashLayouts.get(n);return o?{data:o.layout.decode(i),name:o.name}:null}format(t,e){return C.format(t,e,this.idl)}}class C{static format(t,e,n){const r=n.instructions.filter((e=>t.name===e.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const i=r.args.map((e=>({name:e.name,type:C.formatIdlType(e.type),data:C.formatIdlData(e,t.data[e.name],n.types)}))),o=C.flattenIdlAccounts(r.accounts);return{args:i,accounts:e.map(((t,e)=>e<o.length?{name:o[e].name,...t}:{name:void 0,...t}))}}static formatIdlType(t){if("string"==typeof t)return t;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("defined"in t)return t.defined;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,n){if("string"==typeof t.type)return e.toString();if(t.type.hasOwnProperty("vec"))return"["+e.map((e=>this.formatIdlData({name:"",type:t.type.vec},e))).join(", ")+"]";if(t.type.hasOwnProperty("option"))return null===e?"null":this.formatIdlData({name:"",type:t.type.option},e);if(t.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((e=>e.name===t.type.defined));if(1!==r.length)throw new Error(`Type not found: ${t.type.defined}`);return C.formatIdlDataDefined(r[0],e,n)}return"unknown"}static formatIdlDataDefined(t,e,n){if("struct"===t.type.kind){const r=t.type;return"{ "+Object.keys(e).map((t=>{const i=r.fields.filter((e=>e.name===t))[0];if(void 0===i)throw new Error("Unable to find type");return t+": "+C.formatIdlData(i,e[t],n)})).join(", ")+" }"}if(0===t.type.variants.length)return"{}";if(t.type.variants[0].name){const r=t.type.variants,i=Object.keys(e)[0],o=e[i],a=Object.keys(o).map((t=>{var e;const a=o[t],s=null===(e=r[i])||void 0===e?void 0:e.filter((e=>e.name===t))[0];if(void 0===s)throw new Error("Unable to find variant");return t+": "+C.formatIdlData(s,a,n)})).join(", "),s=l()(i,{pascalCase:!0});return 0===a.length?s:`${s} { ${a} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(t,e){return t.map((t=>{const n=function(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}(t.name);if(t.hasOwnProperty("accounts")){const r=e?`${e} > ${n}`:n;return C.flattenIdlAccounts(t.accounts,r)}return{...t,name:e?`${e} > ${n}`:n}})).flat()}}function R(t,e){var n;let i=`${t}:${void 0===n&&(n={}),function(t,e){return void 0===e&&(e={}),function(t,e){void 0===e&&(e={});for(var n=e.splitRegexp,r=void 0===n?M:n,i=e.stripRegexp,o=void 0===i?B:i,a=e.transform,s=void 0===a?P:a,u=e.delimiter,c=void 0===u?" ":u,l=O(O(t,r,"$1\0$2"),o,"\0"),d=0,f=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(f-1);)f--;return l.slice(d,f).split("\0").map(s).join(c)}(t,x({delimiter:"."},e))}(e,I({delimiter:"_"},n))}`;return r.Buffer.from(d.sha256.digest(i)).slice(0,8)}function U(t,e){if("enum"===e.type.kind){let n=e.type.variants.map((e=>void 0===e.fields?0:e.fields.map((e=>{if("object"!=typeof e||!("name"in e))throw new Error("Tuple enum variants not yet implemented.");return N(t,e.type)})).reduce(((t,e)=>t+e))));return Math.max(...n)+1}return void 0===e.type.fields?0:e.type.fields.map((e=>N(t,e.type))).reduce(((t,e)=>t+e),0)}function N(t,e){var n,r;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+N(t,e.option);if("coption"in e)return 4+N(t,e.coption);if("defined"in e){const i=null!==(r=null===(n=t.types)||void 0===n?void 0:n.filter((t=>t.name===e.defined)))&&void 0!==r?r:[];if(1!==i.length)throw new E(`Type not found: ${JSON.stringify(e)}`);return U(t,i[0])}if("array"in e){let n=e.array[0],r=e.array[1];return N(t,n)*r}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}const z=8;class j{constructor(t){if(void 0===t.accounts)return void(this.accountLayouts=new Map);const e=t.accounts.map((e=>[e.name,L.typeDefLayout(e,t.types)]));this.accountLayouts=new Map(e),this.idl=t}async encode(t,e){const n=r.Buffer.alloc(1e3),i=this.accountLayouts.get(t);if(!i)throw new Error(`Unknown account: ${t}`);const o=i.encode(e,n);let a=n.slice(0,o),s=j.accountDiscriminator(t);return r.Buffer.concat([s,a])}decode(t,e){if(j.accountDiscriminator(t).compare(e.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){const n=e.slice(8),r=this.accountLayouts.get(t);if(!r)throw new Error(`Unknown account: ${t}`);return r.decode(n)}memcmp(t,e){const n=j.accountDiscriminator(t);return{offset:0,bytes:u().encode(e?r.Buffer.concat([n,e]):n)}}size(t){var e;return 8+(null!==(e=U(this.idl,t))&&void 0!==e?e:0)}static accountDiscriminator(t){return r.Buffer.from(d.sha256.digest(`account:${l()(t,{pascalCase:!0})}`)).slice(0,8)}}class F{constructor(t){if(void 0===t.events)return void(this.layouts=new Map);const e=t.events.map((e=>{let n={name:e.name,type:{kind:"struct",fields:e.fields.map((t=>({name:t.name,type:t.type})))}};return[e.name,L.typeDefLayout(n,t.types)]}));this.layouts=new Map(e),this.discriminators=new Map(void 0===t.events?[]:t.events.map((t=>[h.fromByteArray(q(t.name)),t.name])))}decode(t){let e;try{e=r.Buffer.from(h.toByteArray(t))}catch(a){return null}const n=h.fromByteArray(e.slice(0,8)),i=this.discriminators.get(n);if(void 0===i)return null;const o=this.layouts.get(i);if(!o)throw new Error(`Unknown event: ${i}`);return{data:o.decode(e.slice(8)),name:i}}}function q(t){return r.Buffer.from(d.sha256.digest(`event:${t}`)).slice(0,8)}const K=new Set(["anchor-deprecated-state","debug-logs"]),V=new Map;function $(t){return void 0!==V.get(t)}var G=Object.freeze({__proto__:null,set:function(t){if(!K.has(t))throw new Error("Invalid feature");V.set(t,!0)},isSet:$});class W{constructor(t){if(void 0===t.state)throw new Error("Idl state not defined.");this.layout=L.typeDefLayout(t.state.struct,t.types)}async encode(t,e){const n=r.Buffer.alloc(1e3),i=this.layout.encode(e,n),o=await H(t),a=n.slice(0,i);return r.Buffer.concat([o,a])}decode(t){const e=t.slice(8);return this.layout.decode(e)}}async function H(t){let e=$("anchor-deprecated-state")?"account":"state";return r.Buffer.from(d.sha256.digest(`${e}:${t}`)).slice(0,8)}class X{constructor(t){this.instruction=new D(t),this.accounts=new j(t),this.events=new F(t),t.state&&(this.state=new W(t))}}var Y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};class J{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var Z=J;class Q extends J{isCount(){throw new Error("ExternalLayout is abstract")}}class tt extends Q{constructor(t,e,n){if(!(t instanceof J))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof et||this.layout instanceof nt}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return void 0===n&&(n=0),this.layout.encode(t,e,n+this.offset)}}class et extends J{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class nt extends J{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}const rt=Math.pow(2,32);class it extends J{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return function(t,e){return t*rt+e}(t.readUInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=function(t){const e=Math.floor(t/rt);return{hi32:e,lo32:t-e*rt}}(t);return e.writeUInt32LE(r.lo32,n),e.writeUInt32LE(r.hi32,n+4),8}}class ot extends J{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof J),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const i of t)if(0>i.span&&void 0===i.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(t){throw new RangeError("indeterminate span")}return n}decode(t,e){void 0===e&&(e=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const a of this.fields){let r=a.span;if(o=0<r?r:0,void 0!==a.property){const i=t[a.property];void 0!==i&&(o=a.encode(i,e,n),0>r&&(r=a.getSpan(e,n)))}i=n,n+=r}return i+o-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class at{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class st extends at{constructor(t,e){if(!(t instanceof Q&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class ut extends J{constructor(t,e,n){const r=t instanceof et||t instanceof nt;if(r)t=new st(new tt(t));else if(t instanceof Q&&t.isCount())t=new st(t);else if(!(t instanceof at))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof J))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&r&&(i+=t.layout.span)),super(i,n),this.discriminator=t,this.usesPrefixDiscriminator=r,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return o(t)},this.configGetSourceVariant=function(t){o=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){let n;void 0===e&&(e=0);const r=this.discriminator,i=r.decode(t,e);let o=this.registry[i];if(void 0===o){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(t,e+a)}else n=o.decode(t,e);return n}encode(t,e,n){void 0===n&&(n=0);const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(t[r.property],e,n),o+i.encode(t[i.property],e,n+o)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new ct(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e){let n=t;return w.isBuffer(t)&&(void 0===e&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class ct extends J{constructor(t,e,n,r){if(!(t instanceof ut))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof J))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),i+=this.layout.getSpan(e,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class lt extends J{constructor(t,e){if(!(t instanceof Q&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof Q||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){void 0===e&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let r=this.length;if(this.length instanceof Q&&(r=t.length),!w.isBuffer(t)||r!==t.length)throw new TypeError((i="Blob.encode",(this.property?i+"["+this.property+"]":i)+" requires (length "+r+") Buffer as src"));var i;if(n+r>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,r,"hex"),this.length instanceof Q&&this.length.encode(r,e,n),r}}var dt=t=>new et(1,t),ft=t=>new it(t),ht=(t,e,n)=>new ot(t,e,n),pt=(t,e)=>new lt(t,e);class mt{constructor(t){}encode(t,e){switch(l()(t)){case"initializeMint":return function({decimals:t,mintAuthority:e,freezeAuthority:n}){return wt({initializeMint:{decimals:t,mintAuthority:e.toBuffer(),freezeAuthorityOption:!!n,freezeAuthority:(n||i.PublicKey.default).toBuffer()}})}(e);case"initializeAccount":return wt({initializeAccount:{}});case"initializeMultisig":return function({m:t}){return wt({initializeMultisig:{m:t}})}(e);case"transfer":return function({amount:t}){return wt({transfer:{amount:t}})}(e);case"approve":return function({amount:t}){return wt({approve:{amount:t}})}(e);case"revoke":return wt({revoke:{}});case"setAuthority":return function({authorityType:t,newAuthority:e}){return wt({setAuthority:{authorityType:t,newAuthority:e}})}(e);case"mintTo":return function({amount:t}){return wt({mintTo:{amount:t}})}(e);case"burn":return function({amount:t}){return wt({burn:{amount:t}})}(e);case"closeAccount":return wt({closeAccount:{}});case"freezeAccount":return wt({freezeAccount:{}});case"thawAccount":return wt({thawAccount:{}});case"transferChecked":return function({amount:t,decimals:e}){return wt({transferChecked:{amount:t,decimals:e}})}(e);case"approvedChecked":return function({amount:t,decimals:e}){return wt({approveChecked:{amount:t,decimals:e}})}(e);case"mintToChecked":return function({amount:t,decimals:e}){return wt({mintToChecked:{amount:t,decimals:e}})}(e);case"burnChecked":return function({amount:t,decimals:e}){return wt({burnChecked:{amount:t,decimals:e}})}(e);case"intializeAccount2":return function({authority:t}){return wt({initilaizeAccount2:{authority:t}})}(e);case"syncNative":return wt({syncNative:{}});case"initializeAccount3":return function({authority:t}){return wt({initializeAccount3:{authority:t}})}(e);case"initializeMultisig2":return function({m:t}){return wt({initializeMultisig2:{m:t}})}(e);case"initializeMint2":return function({decimals:t,mintAuthority:e,freezeAuthority:n}){return wt({encodeInitializeMint2:{decimals:t,mintAuthority:e,freezeAuthority:n}})}(e);default:throw new Error(`Invalid instruction: ${t}`)}}encodeState(t,e){throw new Error("SPL token does not have state")}}const yt=(gt=dt("instruction"),new ut(gt,undefined,undefined));var gt;function vt(t){return pt(32,t)}function wt(t){let e=w.alloc(bt),n=yt.encode(t,e);return e.slice(0,n)}yt.addVariant(0,ht([dt("decimals"),pt(32,"mintAuthority"),dt("freezeAuthorityOption"),vt("freezeAuthority")]),"initializeMint"),yt.addVariant(1,ht([]),"initializeAccount"),yt.addVariant(2,ht([dt("m")]),"initializeMultisig"),yt.addVariant(3,ht([ft("amount")]),"transfer"),yt.addVariant(4,ht([ft("amount")]),"approve"),yt.addVariant(5,ht([]),"revoke"),yt.addVariant(6,ht([dt("authorityType"),dt("newAuthorityOption"),vt("newAuthority")]),"setAuthority"),yt.addVariant(7,ht([ft("amount")]),"mintTo"),yt.addVariant(8,ht([ft("amount")]),"burn"),yt.addVariant(9,ht([]),"closeAccount"),yt.addVariant(10,ht([]),"freezeAccount"),yt.addVariant(11,ht([]),"thawAccount"),yt.addVariant(12,ht([ft("amount"),dt("decimals")]),"transferChecked"),yt.addVariant(13,ht([ft("amount"),dt("decimals")]),"approvedChecked"),yt.addVariant(14,ht([ft("amount"),dt("decimals")]),"mintToChecked"),yt.addVariant(15,ht([ft("amount"),dt("decimals")]),"burnedChecked"),yt.addVariant(16,ht([vt("authority")]),"InitializeAccount2"),yt.addVariant(17,ht([]),"syncNative"),yt.addVariant(18,ht([vt("authority")]),"initializeAccount3"),yt.addVariant(19,ht([dt("m")]),"initializeMultisig2"),yt.addVariant(20,ht([dt("decimals"),vt("mintAuthority"),dt("freezeAuthorityOption"),vt("freezeAuthority")]),"initializeMint2");const bt=Math.max(...Object.values(yt.registry).map((t=>t.span)));class _t{constructor(t){}encode(t,e){throw new Error("SPL token does not have state")}decode(t){throw new Error("SPL token does not have state")}}function At(t){return new kt(pt(8),(t=>Pt.fromBuffer(t)),(t=>t.toBuffer()),t)}function St(t){return new kt(pt(32),(t=>new i.PublicKey(t)),(t=>t.toBuffer()),t)}function Et(t,e){return new Tt(t,e)}class kt extends Z{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}class Tt extends Z{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=new et(4,void 0)}encode(t,e,n=0){return null==t?this.layout.span+this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+4)+4)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return null;if(1===n)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}function It(t){if(0===t)return!1;if(1===t)return!0;throw new Error("Invalid bool: "+t)}function xt(t){return t?1:0}class Pt extends(a()){toBuffer(){const t=super.toArray().reverse(),e=w.from(t);if(8===e.length)return e;if(e.length>=8)throw new Error("u64 too large");const n=w.alloc(8);return e.copy(n),n}static fromBuffer(t){if(8!==t.length)throw new Error(`Invalid buffer length: ${t.length}`);return new Pt([...t].reverse().map((t=>`00${t.toString(16)}`.slice(-2))).join(""),16)}}class Mt{constructor(t){this.idl=t}async encode(t,e){switch(t){case"Token":{const t=w.alloc(165),n=Ot.encode(e,t);return t.slice(0,n)}case"Mint":{const t=w.alloc(82),n=Bt.encode(e,t);return t.slice(0,n)}default:throw new Error(`Invalid account name: ${t}`)}}decode(t,e){return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){switch(t){case"Token":return function(t){return Ot.decode(t)}(e);case"Mint":return function(t){return Bt.decode(t)}(e);default:throw new Error(`Invalid account name: ${t}`)}}memcmp(t,e){switch(t){case"Token":return{dataSize:165};case"Mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${t}`)}}size(t){var e;return null!==(e=U(this.idl,t))&&void 0!==e?e:0}}const Bt=ht([Et(St(),"mintAuthority"),At("supply"),dt("decimals"),new kt(dt(),It,xt,"isInitialized"),Et(St(),"freezeAuthority")]),Ot=ht([St("mint"),St("authority"),At("amount"),Et(St(),"delegate"),dt("state"),Et(At(),"isNative"),At("delegatedAmount"),Et(St(),"closeAuthority")]);class Lt{constructor(t){}decode(t){throw new Error("SPL token program does not have events")}}class Dt{constructor(t){this.instruction=new mt(t),this.accounts=new Mt(t),this.events=new Lt(t),this.state=new _t(t)}}var Ct=Object.freeze({__proto__:null,hash:function(t){return(0,d.sha256)(t)}});function Rt(t){const e=new Map;return t.errors&&t.errors.forEach((t=>{var n;let r=null!==(n=t.msg)&&void 0!==n?n:t.name;e.set(t.code,r)})),e}function Ut(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const n={};let r=0;return t.args.forEach((t=>{n[t.name]=e[r],r+=1})),n}function Nt(t,e={}){t.forEach((t=>{if("accounts"in t)Nt(t.accounts,e[t.name]);else if(void 0===e[t.name])throw new Error(`Invalid arguments: ${t.name} not provided.`)}))}function zt(t){return t instanceof i.PublicKey?t:new i.PublicKey(t)}async function jt(t,e,n){if(e.length<=99)return await Ft(t,e,n);{const i=(r=e,99,Array.apply(0,new Array(Math.ceil(r.length/99))).map(((t,e)=>r.slice(99*e,99*(e+1)))));return(await Promise.all(i.map((e=>Ft(t,e,n))))).flat()}var r}async function Ft(t,e,n){const o=null!=n?n:t.commitment,a=[e.map((t=>t.toBase58()))];o&&a.push({commitment:o});const s=await t._rpcRequest("getMultipleAccounts",a);if(s.error)throw new Error("failed to get info about accounts "+e.map((t=>t.toBase58())).join(", ")+": "+s.error.message);m()(void 0!==s.result);const u=[];for(const c of s.result.value){let t=null;if(null!==c){if(s.result.value){const{executable:e,owner:n,lamports:o,data:a}=c;m()("base64"===a[1]),t={executable:e,owner:new i.PublicKey(n),lamports:o,data:r.Buffer.from(a[0],"base64")}}if(null===t)throw new Error("Invalid response");u.push(t)}else u.push(null)}return u.map(((t,n)=>null===t?null:{publicKey:e[n],account:t}))}var qt=Object.freeze({__proto__:null,invoke:async function(t,e,n,r){t=zt(t),r||(r=A());const o=new i.Transaction;return o.add(new i.TransactionInstruction({programId:t,keys:null!=e?e:[],data:n})),await r.send(o)},getMultipleAccounts:jt});function Kt(t,e,n){const o=r.Buffer.concat([t.toBuffer(),r.Buffer.from(e),n.toBuffer()]),a=d.sha256.digest(o);return new i.PublicKey(r.Buffer.from(a))}function Vt(t,e){let n=r.Buffer.alloc(0);t.forEach((function(t){if(t.length>32)throw new TypeError("Max seed length exceeded");n=r.Buffer.concat([n,Gt(t)])})),n=r.Buffer.concat([n,e.toBuffer(),r.Buffer.from("ProgramDerivedAddress")]);let o=(0,d.sha256)(new Uint8Array(n)),s=new(a())(o,16).toArray(void 0,32);if(i.PublicKey.isOnCurve(new Uint8Array(s)))throw new Error("Invalid seeds, address must fall off the curve");return new i.PublicKey(s)}function $t(t,e){let n,i=255;for(;0!=i;){try{n=Vt(t.concat(r.Buffer.from([i])),e)}catch(o){if(o instanceof TypeError)throw o;i--;continue}return[n,i]}throw new Error("Unable to find a viable program address nonce")}const Gt=t=>t instanceof r.Buffer?t:t instanceof Uint8Array?r.Buffer.from(t.buffer,t.byteOffset,t.byteLength):r.Buffer.from(t);async function Wt(t,...e){let n=[r.Buffer.from([97,110,99,104,111,114])];e.forEach((t=>{n.push(t instanceof r.Buffer?t:zt(t).toBuffer())}));const[o]=await i.PublicKey.findProgramAddress(n,zt(t));return o}var Ht=Object.freeze({__proto__:null,createWithSeedSync:Kt,createProgramAddressSync:Vt,findProgramAddressSync:$t,associated:Wt}),Xt=Object.freeze({__proto__:null,encode:function(t){return t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),"0x")},decode:function(t){0===t.indexOf("0x")&&(t=t.substr(2)),t.length%2==1&&(t="0"+t);let e=t.match(/.{2}/g);return null===e?r.Buffer.from([]):r.Buffer.from(e.map((t=>parseInt(t,16))))}});function Yt(t){return new TextDecoder("utf-8").decode(t)}function Jt(t){return(new TextEncoder).encode(t)}var Zt=Object.freeze({__proto__:null,decode:Yt,encode:Jt}),Qt=Object.freeze({__proto__:null,encode:function(t){return u().encode(t)},decode:function(t){return u().decode(t)}}),te=Object.freeze({__proto__:null,encode:function(t){return h.fromByteArray(t)},decode:function(t){return r.Buffer.from(h.toByteArray(t))}}),ee=Object.freeze({__proto__:null,hex:Xt,utf8:Zt,bs58:Qt,base64:te});const ne=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),re=new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var ie=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:ne,ASSOCIATED_PROGRAM_ID:re,associatedAddress:async function({mint:t,owner:e}){return(await i.PublicKey.findProgramAddress([e.toBuffer(),ne.toBuffer(),t.toBuffer()],re))[0]}}),oe={exports:{}};!function(t,e){var n="undefined"!=typeof self?self:Y,r=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,a="ArrayBuffer"in t;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function m(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():a&&i&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=p(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=c(t),e=l(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},f.prototype.delete=function(t){delete this.map[c(t)]},f.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},f.prototype.set=function(t,e){this.map[c(t)]=l(e)},f.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},f.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),d(t)},f.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),d(t)},f.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),d(t)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var n,r,i=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),v.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},g.call(w.prototype),g.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var A=[301,302,303,307,308];_.redirect=function(t,e){if(-1===A.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function S(t,n){return new Promise((function(r,o){var a=new w(t,n);if(a.signal&&a.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var t,e,n={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new f,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new _(i,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}S.polyfill=!0,t.fetch||(t.fetch=S,t.Headers=f,t.Request=w,t.Response=_),e.Headers=f,e.Request=w,e.Response=_,e.fetch=S,Object.defineProperty(e,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(oe,oe.exports);var ae=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(oe.exports);async function se(t,e){const n=await t.getAccountInfo(e);if(null===n)throw new Error("program account not found");const{program:r}=ce(n.data),i=await t.getAccountInfo(r.programdataAddress);if(null===i)throw new Error("program data account not found");const{programData:o}=ce(i.data);return o}const ue=f.rustEnum([f.struct([],"uninitialized"),f.struct([f.option(f.publicKey(),"authorityAddress")],"buffer"),f.struct([f.publicKey("programdataAddress")],"program"),f.struct([f.u64("slot"),f.option(f.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,f.u32());function ce(t){return ue.decode(t)}var le=Object.freeze({__proto__:null,verifiedBuild:async function(t,e,n=5){const r=`https://anchor.projectserum.com/api/v0/program/${e.toString()}/latest?limit=${n}`,[i,o]=await Promise.all([se(t,e),ae(r)]),a=(await o.json()).filter((t=>!t.aborted&&"Built"===t.state&&"Verified"===t.verified));if(0===a.length)return null;const s=a[0];return i.slot.toNumber()!==s.verified_slot?null:s},fetchData:se,decodeUpgradeableLoaderState:ce}),de=Object.freeze({__proto__:null,sha256:Ct,rpc:qt,publicKey:Ht,bytes:ee,token:ie,features:G,registry:le});const fe=f.struct([f.publicKey("authority"),f.vecU8("data")]);function he(t,e){var n,r;let i={};const o=t.args?t.args.length:0;if(e.length>o){if(e.length!==o+1)throw new Error(`provided too many arguments ${e} to instruction ${null==t?void 0:t.name} expecting: ${null!==(r=null===(n=t.args)||void 0===n?void 0:n.map((t=>t.name)))&&void 0!==r?r:[]}`);i=e.pop()}return[e,i]}class pe{static build(t,e,n){if("_inner"===t.name)throw new E("the _inner name is reserved");const r=(...o)=>{const[a,s]=he(t,[...o]);Nt(t.accounts,s.accounts);const u=r.accounts(s.accounts);return void 0!==s.remainingAccounts&&u.push(...s.remainingAccounts),$("debug-logs")&&console.log("Outgoing account metas:",u),new i.TransactionInstruction({keys:u,programId:n,data:e(t.name,Ut(t,...a))})};return r.accounts=e=>pe.accountsArray(e,t.accounts,t.name),r}static accountsArray(t,e,n){return t?e.map((e=>{if(void 0!==("accounts"in e?e.accounts:void 0)){const r=t[e.name];return pe.accountsArray(r,e.accounts,n).flat()}{const r=e;let i;try{i=zt(t[e.name])}catch(t){throw new Error(`Wrong input type for account "${e.name}" in the instruction accounts object${void 0!==n?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}return{pubkey:i,isWritable:r.isMut,isSigner:r.isSigner}}})).flat():[]}}class me{static build(t,e,n,r){return async(...i)=>{const o=e(...i),[,a]=he(t,[...i]);try{return await r.send(o,a.signers,a.options)}catch(t){$("debug-logs")&&console.log("Translating error:",t);let r=k.parse(t,n);if(null===r)throw t;throw r}}}}class ye{static build(t,e){return(...n)=>{var r,o,a;const[,s]=he(t,[...n]),u=new i.Transaction;if(s.preInstructions&&s.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(r=s.preInstructions)||void 0===r||r.forEach((t=>u.add(t))),null===(o=s.instructions)||void 0===o||o.forEach((t=>u.add(t))),u.add(e(...n)),null===(a=s.postInstructions)||void 0===a||a.forEach((t=>u.add(t))),u}}}class ge{constructor(t,e,n=A(),r=new X(t)){this.provider=n,this.coder=r,this._idl=t,this._programId=e,this._address=ve(e),this._sub=null;const[o,a,s]=(()=>{var o;let a={},s={},u={};return null===(o=t.state)||void 0===o||o.methods.forEach((o=>{const c=pe.build(o,((t,e)=>r.instruction.encodeState(t,e)),e);c.accounts=t=>function(t,e,n,r){if("new"===n.name){const[n]=$t([],t);return[{pubkey:e.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:ve(t),isWritable:!0,isSigner:!1},{pubkey:n,isWritable:!1,isSigner:!1},{pubkey:i.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t,isWritable:!1,isSigner:!1}]}return Nt(n.accounts,r),[{pubkey:ve(t),isWritable:!0,isSigner:!1}]}(e,n,o,t).concat(pe.accountsArray(t,o.accounts,o.name));const d=ye.build(o,c),f=me.build(o,d,Rt(t),n),h=l()(o.name);a[h]=c,s[h]=d,u[h]=f})),[a,s,u]})();this.instruction=o,this.transaction=a,this.rpc=s}get programId(){return this._programId}async fetch(){const t=this.address(),e=await this.provider.connection.getAccountInfo(t);if(null===e)throw new Error(`Account does not exist ${t.toString()}`);const n=this._idl.state;if(!n)throw new Error("State is not specified in IDL.");if((await H(n.struct.name)).compare(e.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(e.data)}address(){return this._address}subscribe(t){if(null!==this._sub)return this._sub.ee;const e=new(v()),n=this.provider.connection.onAccountChange(this.address(),(t=>{const n=this.coder.state.decode(t.data);e.emit("change",n)}),t);return this._sub={ee:e,listener:n},e}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function ve(t){let[e]=$t([],t);return Kt(e,"unversioned",t)}class we{constructor(t,e,n,r,i){this._idlAccount=e,this._programId=n,this._provider=null!=r?r:A(),this._coder=null!=i?i:new X(t),this._size=this._coder.accounts.size(e)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(t,e){const n=await this.getAccountInfo(t,e);return null===n?null:this._coder.accounts.decode(this._idlAccount.name,n.data)}async fetch(t,e){const n=await this.fetchNullable(t,e);if(null===n)throw new Error(`Account does not exist ${t.toString()}`);return n}async fetchMultiple(t,e){return(await jt(this._provider.connection,t.map((t=>zt(t))),e)).map((t=>null==t?null:this._coder.accounts.decode(this._idlAccount.name,null==t?void 0:t.account.data)))}async all(t){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,t instanceof w?t:void 0)},...Array.isArray(t)?t:[]]})).map((({pubkey:t,account:e})=>({publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,e.data)})))}subscribe(t,e){const n=be.get(t.toString());if(n)return n.ee;const r=new(v());t=zt(t);const i=this._provider.connection.onAccountChange(t,(t=>{const e=this._coder.accounts.decode(this._idlAccount.name,t.data);r.emit("change",e)}),e);return be.set(t.toString(),{ee:r,listener:i}),r}async unsubscribe(t){let e=be.get(t.toString());e?be&&await this._provider.connection.removeAccountChangeListener(e.listener).then((()=>{be.delete(t.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(t,e){const n=this.size;return i.SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:t.publicKey,space:null!=e?e:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=e?e:n),programId:this._programId})}async associated(...t){const e=await this.associatedAddress(...t);return await this.fetch(e)}async associatedAddress(...t){return await Wt(this._programId,...t)}async getAccountInfo(t,e){return await this._provider.connection.getAccountInfo(zt(t),e)}}const be=new Map,_e="Program log: ".length;class Ae{constructor(t,e,n){this._programId=t,this._provider=e,this._eventParser=new Se(t,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,e){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,t in this._eventCallbacks||this._eventListeners.set(t,[]),this._eventListeners.set(t,(null!==(n=this._eventListeners.get(t))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[t,e]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((t,e)=>{t.err||this._eventParser.parseLogs(t.logs,(t=>{const n=this._eventListeners.get(t.name);n&&n.forEach((n=>{const r=this._eventCallbacks.get(n);if(r){const[,n]=r;n(t.data,e.slot)}}))}))}))),r}async removeEventListener(t){const e=this._eventCallbacks.get(t);if(!e)throw new Error(`Event listener ${t} doesn't exist!`);const[n]=e;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);this._eventCallbacks.delete(t),r=r.filter((e=>e!==t)),0===r.length&&this._eventListeners.delete(n),0==this._eventCallbacks.size&&(p.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class Se{constructor(t,e){this.coder=e,this.programId=t}parseLogs(t,e){const n=new ke(t),r=new Ee(n.next());let i=n.next();for(;null!==i;){let[t,o,a]=this.handleLog(r,i);t&&e(t),o&&r.push(o),a&&r.pop(),i=n.next()}}handleLog(t,e){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(e):[null,...this.handleSystemLog(e)]}handleProgramLog(t){if(t.startsWith("Program log:")){const e=t.slice(_e);return[this.coder.events.decode(e),null,!1]}return[null,...this.handleSystemLog(t)]}handleSystemLog(t){const e=t.split(":")[0];return null!==e.match(/^Program (.*) success/g)?[null,!0]:e.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:e.includes("invoke")?["cpi",!1]:[null,!1]}}class Ee{constructor(t){var e;const n=null===(e=/^Program (.*) invoke.*$/g.exec(t))||void 0===e?void 0:e[1];if(!n)throw new Error("Could not find program invocation log line");this.stack=[n]}program(){return p.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){p.ok(this.stack.length>0),this.stack.pop()}}class ke{constructor(t){this.logs=t}next(){if(0===this.logs.length)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}}const Te=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function Ie(){return new Dt(xe)}const xe={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class Pe{constructor(t,e,n,r,i,o){this._args=t,this._accounts=e,this._provider=n,this._programId=r,this._idlIx=i,this._accountStore=new Me(n,o)}async resolve(){for(let t=0;t<this._idlIx.accounts.length;t+=1){const e=this._idlIx.accounts[t],n=l()(e.name);if(e.pda&&e.pda.seeds.length>0&&void 0===this._accounts[n])await this.autoPopulatePda(e);else if(e.isSigner&&void 0===this._accounts[n])this._accounts[n]=this._provider.wallet.publicKey;else switch(n){case"systemProgram":void 0===this._accounts[n]&&(this._accounts[n]=i.SystemProgram.programId);case"rent":void 0===this._accounts[n]&&(this._accounts[n]=i.SYSVAR_RENT_PUBKEY);case"tokenProgram":void 0===this._accounts[n]&&(this._accounts[n]=ne);case"associatedTokenProgram":void 0===this._accounts[n]&&(this._accounts[n]=re)}}}async autoPopulatePda(t){if(!t.pda||!t.pda.seeds)throw new Error("Must have seeds");const e=await Promise.all(t.pda.seeds.map((t=>this.toBuffer(t)))),n=await this.parseProgramId(t),[r]=await i.PublicKey.findProgramAddress(e,n);this._accounts[l()(t.name)]=r}async parseProgramId(t){var e;if(!(null===(e=t.pda)||void 0===e?void 0:e.programId))return this._programId;switch(t.pda.programId.kind){case"const":return new i.PublicKey(this.toBufferConst(t.pda.programId.value));case"arg":return this.argValue(t.pda.programId);case"account":return await this.accountValue(t.pda.programId);default:throw new Error(`Unexpected program seed kind: ${t.pda.programId.kind}`)}}async toBuffer(t){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t);default:throw new Error(`Unexpected seed kind: ${t.kind}`)}}toBufferConst(t){return this.toBufferValue(t.type,t.value)}async toBufferArg(t){const e=this.argValue(t);return this.toBufferValue(t.type,e)}argValue(t){const e=l()(t.path.split(".")[0]),n=this._idlIx.args.findIndex((t=>t.name===e));if(-1===n)throw new Error(`Unable to find argument for seed: ${e}`);return this._args[n]}async toBufferAccount(t){const e=await this.accountValue(t);return this.toBufferValue(t.type,e)}async accountValue(t){const e=t.path.split("."),n=e[0],r=this._accounts[l()(n)];if(1===e.length)return r;const i=await this._accountStore.fetchAccount(t.account,r);return this.parseAccountValue(i,e.slice(1))}parseAccountValue(t,e){let n;for(;e.length>0;)n=t[l()(e[0])],e=e.slice(1);return n}toBufferValue(t,e){switch(t){case"u8":return w.from([e]);case"u16":let n=w.alloc(2);return n.writeUInt16LE(e),n;case"u32":let r=w.alloc(4);return r.writeUInt32LE(e),r;case"u64":let i=w.alloc(8);return i.writeBigUInt64LE(BigInt(e)),i;case"string":return w.from(Jt(e));case"publicKey":return e.toBuffer();default:if(t.array)return w.from(e);throw new Error(`Unexpected seed type: ${t}`)}}}class Me{constructor(t,e){this._provider=t,this._accounts=e,this._cache=new Map}async fetchAccount(t,e){const n=e.toString();if(void 0===this._cache.get(n))if("TokenAccount"===t){const t=await this._provider.connection.getAccountInfo(e);if(null===t)throw new Error(`invalid account info for ${n}`);const r=Ie().accounts.decode("Token",t.data);this._cache.set(n,r)}else{const r=this._accounts[l()(t)].fetch(e);this._cache.set(n,r)}return this._cache.get(n)}}class Be{static build(t,e,n,r,i,o,a,s){return(...u)=>new Oe(u,r,i,o,a,t,e,n,s)}}class Oe{constructor(t,e,n,r,i,o,a,s,u){this._args=t,this._ixFn=e,this._txFn=n,this._rpcFn=r,this._simulateFn=i,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._accountsResolver=new Pe(t,this._accounts,o,a,s,u)}accounts(t){return Object.assign(this._accounts,t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t){return this._preInstructions=this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async rpc(t){return await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async simulate(t){return await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async instruction(){return await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class Le{constructor(t,e,n,r){e=zt(e),n||(n=A()),this._idl=t,this._provider=n,this._programId=e,this._coder=null!=r?r:new X(t),this._events=new Ae(this._programId,n,this._coder);const[i,o,a,s,u,c,d]=class{static build(t,e,n,r){const i={},o={},a={},s={},u={},c=Rt(t),d=t.accounts?class{static build(t,e,n,r){var i;const o={};return null===(i=t.accounts)||void 0===i||i.forEach((i=>{const a=l()(i.name);o[a]=new we(t,i,n,r,e)})),o}}.build(t,e,n,r):{},f=class{static build(t,e,n,r){if(void 0!==t.state)return new ge(t,n,r,e)}}.build(t,e,n,r);return t.instructions.forEach((f=>{const h=pe.build(f,((t,n)=>e.instruction.encode(t,n)),n),p=ye.build(f,h),m=me.build(f,p,c,r),y=class{static build(t,e,n,r,i,o,a){return async(...s)=>{const u=e(...s),[,c]=he(t,[...s]);let l;try{l=await r.simulate(u,c.signers,c.options)}catch(t){$("debug-logs")&&console.log("Translating error:",t);let r=k.parse(t,n);if(null===r)throw t;throw r}if(void 0===l)throw new Error("Unable to simulate transaction");if(l.value.err)throw new Error(`Simulate error: ${l.value.err.toString()}`);const d=l.value.logs;if(!d)throw new Error("Simulated logs not found");const f=[];return a.events&&new Se(o,i).parseLogs(d,(t=>{f.push(t)})),{events:f,raw:d}}}}.build(f,p,c,r,e,n,t),g=Be.build(r,n,f,h,p,m,y,d),v=l()(f.name);o[v]=h,a[v]=p,i[v]=m,s[v]=y,u[v]=g})),[i,o,a,d,s,u,f]}}.build(t,this._coder,e,n);this.rpc=i,this.instruction=o,this.transaction=a,this.account=s,this.simulate=u,this.methods=c,this.state=d}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(t,e){const n=zt(t),r=await Le.fetchIdl(n,e);if(!r)throw new Error(`IDL not found for program: ${t.toString()}`);return new Le(r,n,e)}static async fetchIdl(t,e){e=null!=e?e:A();const n=zt(t),r=await async function(t){const e=(await i.PublicKey.findProgramAddress([],t))[0];return await i.PublicKey.createWithSeed(e,"anchor:idl",t)}(n),o=await e.connection.getAccountInfo(r);if(!o)return null;let a=(s=o.data.slice(8),fe.decode(s));var s;const u=(0,y.rr)(a.data);return JSON.parse(Yt(u))}addEventListener(t,e){return this._events.addEventListener(t,e)}async removeEventListener(t){return await this._events.removeEventListener(t)}}class De{static token(){return new Le(xe,Te,undefined,Ie())}}},7603:function(t,e,n){"use strict";!function(t,e){const n=a,r=t();for(;;)try{if(816150===parseInt(n(186))/1*(parseInt(n(182))/2)+-parseInt(n(183))/3+-parseInt(n(178))/4*(parseInt(n(179))/5)+-parseInt(n(181))/6+parseInt(n(185))/7+parseInt(n(180))/8+parseInt(n(184))/9)break;r.push(r.shift())}catch(i){r.push(r.shift())}}(o);var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getCurveAmount=e.TradeDirection=void 0;const i=r(n(3776));function o(){const t=["3565364IucKDA","5wYaWiL","9909080IKfPAB","2525310OcUUqt","17256bAVBCP","4628202Gepesm","6754176hDXNwX","2895865kwUNXH","147hSjQgb"];return(o=function(){return t})()}function a(t,e){const n=o();return(a=function(t,e){return n[t-=178]})(t,e)}function s(t,e){let n=e,r=t.div(n);if(r.eq(0))return{q:new i.default(0),r:new i.default(0)};if(t.mod(e).gt(0)){r=r.plus(1),n=t.div(r),t.mod(r).gt(0)&&(n=n.plus(1))}return{q:r,r:n}}e.TradeDirection={AtoB:"AtoB",BtoA:"BtoA"},e.getCurveAmount=function(t,n,r,o,a,u,c,l,d,f){let h=new i.default(0),p=new i.default(0),m=t.times(o.tradeFeeNumerator).div(o.tradeFeeDenominator),y=t.times(o.ownerTradeFeeNumerator).div(o.ownerTradeFeeDenominator);!m.isZero()&&m.lt(1)&&(m=new i.default(1)),!y.isZero()&&y.lt(1)&&(y=new i.default(1));const g=m.plus(y),v=o.tradeFeeNumerator.div(o.tradeFeeDenominator).plus(o.ownerTradeFeeNumerator.div(o.ownerTradeFeeDenominator)),w=t.minus(g),b=new i.default(10),_=b.pow(r.baseDecimals);if(1===r.freezeTrade)throw new Error("ProgramIsFrozen");if(!l.status.eq(1))throw new Error("InvalidPythStatus");if(n-l.publishSlot.toNumber()>c.pythSlotLimit.toNumber())throw new Error("InvalidPythSlot");if(l.confidence.div(l.price).gt(c.pythConfidenceLimit.div(c.configDenominator)))throw new Error("InvalidPythConfidence");let A=l.price;if(d){if(!d.status.eq(1))throw new Error("InvalidPythPcStatus");if(n-d.publishSlot.toNumber()>c.pythSlotLimit.toNumber())throw new Error("InvalidPythPcSlot");if(d.confidence.div(d.price).gt(c.pythConfidenceLimit.div(c.configDenominator)))throw new Error("InvalidPythPcConfidence");A=A.times(b.pow(Math.abs(d.exponent))).div(d.price)}let S=new i.default(0);var E;if(S=(E=A.div(c.lastPrice).minus(1),E.toNumber()<0?E.times(-1):E).gt(c.adjustRatio.div(c.configDenominator))?A:c.lastPrice,c.oracleStatus.eq(1)&&f===e.TradeDirection.AtoB)throw new Error("OracleConfidence");if(c.oracleStatus.eq(2)&&f===e.TradeDirection.BtoA)throw new Error("OracleConfidence");const k=c.lastBalancedPrice,T=c.coefficientUp,I=c.coefficientDown;if(0===r.curveType){const{destinationAmountSwapped:t,poolPriceImpact:n}=function(t,n,r,o,a,u,c,l,d,f){let h=new i.default(0),p=new i.default(0),m=c.times(d.concentrationRatio),y=l.times(d.concentrationRatio),g=m.times(n).div(o).floor();switch(f){case e.TradeDirection.AtoB:{if(n.gt(r)&&g.gt(y)){let t=y.div(g).pow(u);m=m.times(t).floor(),y=y.times(t).floor()}else if(r.gt(n)&&y.gt(g)){let t=y.div(g).pow(a);m=m.times(t).floor(),y=y.times(t).floor()}else if(g.gt(y)){let t=y.div(g).pow(u);m=m.times(t).floor(),y=y.times(t).floor()}let e=new i.default(Math.sqrt(m.toNumber())),c=new i.default(Math.sqrt(y.toNumber())),l=new i.default(Math.sqrt(n.toNumber())).div(new i.default(Math.sqrt(o.toNumber()))),d=e.times(c);m=d.div(l).floor(),y=d.times(l).floor();let f=m.times(y),v=m.plus(t),{q:w,r:b}=s(f,v),_=w.floor();v=b.floor(),h=y.minus(_).floor();const A=y.div(m).floor(),S=y.minus(h).div(m.plus(t)).floor();p=A.minus(S).div(S);break}case e.TradeDirection.BtoA:{if(n.gt(r)&&g.gt(y)){let t=g.div(y).pow(a);m=m.times(t).floor(),y=y.times(t).floor()}else if(r.gt(n)&&y.gt(g)){let t=g.div(y).pow(u);m=m.times(t).floor(),y=y.times(t).floor()}else if(g.gt(y));else{let t=g.div(y).pow(u);m=m.times(t).floor(),y=y.times(t).floor()}let e=new i.default(Math.sqrt(m.toNumber())),c=new i.default(Math.sqrt(y.toNumber())),l=new i.default(Math.sqrt(n.toNumber())).div(new i.default(Math.sqrt(o.toNumber()))),d=e.times(c);m=d.div(l).floor(),y=d.times(l).floor();let f=m.times(y),v=y.plus(t),{q:w,r:b}=s(f,v),_=w.floor();v=b.floor(),h=m.minus(_).floor();const A=y.div(m).floor();p=y.plus(t).div(m.minus(h)).floor().minus(A).div(A);break}}return{destinationAmountSwapped:h,poolPriceImpact:p}}(w,S,k,_,T,I,a,u,c,f);h=t,p=n}else if(1===r.curveType){const{destinationAmountSwapped:t,poolPriceImpact:n}=function(t,n,r,o,a,u,c,l,d,f){let h=new i.default(0),p=new i.default(0),m=c,y=l,g=m.times(n).div(o);switch(f){case e.TradeDirection.AtoB:{if(n.gt(r)&&g.gt(y)){let t=y.div(g).pow(u);m=m.times(t),y=y.times(t)}else if(r.gt(n)&&y.gt(g)){let t=y.div(g).pow(a);m=m.times(t),y=y.times(t)}else if(g.gt(y)){let t=y.div(g).pow(u);m=m.times(t),y=y.times(t)}m=m.times(d.concentrationRatio),y=y.times(d.concentrationRatio);let e=new i.default(Math.sqrt(m.toNumber())),c=new i.default(Math.sqrt(y.toNumber())),l=new i.default(Math.sqrt(n.toNumber())).div(new i.default(Math.sqrt(o.toNumber()))),f=e.times(c);m=f.div(l),y=f.times(l);let v=m.times(y),w=m.plus(t),{q:b,r:_}=s(v,w),A=b;w=_,h=y.minus(A);const S=y.div(m),E=y.minus(h).div(m.plus(t));p=S.minus(E).div(E);break}case e.TradeDirection.BtoA:{if(n.gt(r)&&g.gt(y)){let t=g.div(y).pow(a);m=m.times(t),y=y.times(t)}else if(r.gt(n)&&y.gt(g)){let t=g.div(y).pow(u);m=m.times(t),y=y.times(t)}else if(g.gt(y));else{let t=g.div(y).pow(u);m=m.times(t),y=y.times(t)}m=m.times(d.concentrationRatio),y=y.times(d.concentrationRatio);let e=new i.default(Math.sqrt(m.toNumber())),c=new i.default(Math.sqrt(y.toNumber())),l=new i.default(Math.sqrt(n.toNumber())).div(new i.default(Math.sqrt(o.toNumber()))),f=e.times(c);m=f.div(l),y=f.times(l);let v=m.times(y),w=y.plus(t),{q:b,r:_}=s(v,w),A=b;w=_,h=m.minus(A);const S=y.div(m);p=y.plus(t).div(m.minus(h)).minus(S).div(S);break}}return h=new i.default(Math.floor(h.toNumber())),{destinationAmountSwapped:h,poolPriceImpact:p}}(w,S,k,_,T,I,a,u,c,f);h=t,p=n}if(h.lt(1))throw new Error("ZeroAmountOut");if(f===e.TradeDirection.AtoB&&h.gte(u))throw new Error("ExceedPoolBalance");if(f===e.TradeDirection.BtoA&&h.gte(a))throw new Error("ExceedPoolBalance");return{amountSwapped:h,priceImpact:p,fee:g,feePercent:v}}},2800:function(t,e){"use strict";function n(){var t=["22486728tgVSNs","960816dQFQsW","1085VSJfPb","792DRWykD","7119Axtkdb","11860qucRvr","7026QcKZDg","54rbCgET","1831500YKlKep","1244OpwLTR","15466650gymvPC"];return(n=function(){return t})()}function r(t,e){var i=n();return(r=function(t,e){return i[t-=351]})(t,e)}!function(t,e){for(var n=r,i=t();;)try{if(809974===parseInt(n(353))/1*(parseInt(n(354))/2)+parseInt(n(359))/3+parseInt(n(360))/4*(parseInt(n(356))/5)+parseInt(n(357))/6*(-parseInt(n(355))/7)+parseInt(n(352))/8*(parseInt(n(358))/9)+parseInt(n(361))/10+-parseInt(n(351))/11)break;i.push(i.shift())}catch(o){i.push(i.shift())}}(n),Object.defineProperty(e,"__esModule",{value:!0}),e.IDL=void 0,e.IDL={version:"0.1.0",name:"lifinity_amm",instructions:[{name:"swap",accounts:[{name:"authority",isMut:!1,isSigner:!1},{name:"amm",isMut:!1,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"sourceInfo",isMut:!0,isSigner:!1},{name:"destinationInfo",isMut:!0,isSigner:!1},{name:"swapSource",isMut:!0,isSigner:!1},{name:"swapDestination",isMut:!0,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"feeAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"pythAccount",isMut:!1,isSigner:!1},{name:"pythPcAccount",isMut:!1,isSigner:!1},{name:"configAccount",isMut:!0,isSigner:!1}],args:[{name:"amountIn",type:"u64"},{name:"minimumAmountOut",type:"u64"}]}],accounts:[{name:"amm",type:{kind:"struct",fields:[{name:"initializerKey",type:"publicKey"},{name:"initializerDepositTokenAccount",type:"publicKey"},{name:"initializerReceiveTokenAccount",type:"publicKey"},{name:"initializerAmount",type:"u64"},{name:"takerAmount",type:"u64"},{name:"isInitialized",type:"bool"},{name:"bumpSeed",type:"u8"},{name:"freezeTrade",type:"u8"},{name:"freezeDeposit",type:"u8"},{name:"freezeWithdraw",type:"u8"},{name:"baseDecimals",type:"u8"},{name:"tokenProgramId",type:"publicKey"},{name:"tokenAAccount",type:"publicKey"},{name:"tokenBAccount",type:"publicKey"},{name:"poolMint",type:"publicKey"},{name:"tokenAMint",type:"publicKey"},{name:"tokenBMint",type:"publicKey"},{name:"poolFeeAccount",type:"publicKey"},{name:"pythAccount",type:"publicKey"},{name:"pythPcAccount",type:"publicKey"},{name:"configAccount",type:"publicKey"},{name:"ammTemp1",type:"publicKey"},{name:"ammTemp2",type:"publicKey"},{name:"ammTemp3",type:"publicKey"},{name:"fees",type:{defined:"FeesInput"}},{name:"curve",type:{defined:"CurveInput"}}]}},{name:"config",type:{kind:"struct",fields:[{name:"concentrationRatio",type:"u64"},{name:"lastPrice",type:"u64"},{name:"adjustRatio",type:"u64"},{name:"balanceRatio",type:"u64"},{name:"lastBalancedPrice",type:"u64"},{name:"configDenominator",type:"u64"},{name:"pythConfidenceLimit",type:"u64"},{name:"pythSlotLimit",type:"u64"},{name:"volumeX",type:"u64"},{name:"volumeY",type:"u64"},{name:"volumeXInY",type:"u64"},{name:"coefficientUp",type:"u64"},{name:"coefficientDown",type:"u64"},{name:"oracleStatus",type:"u64"},{name:"configTemp1",type:"u64"},{name:"configTemp2",type:"u64"}]}}],types:[{name:"FeesInput",type:{kind:"struct",fields:[{name:"tradeFeeNumerator",type:"u64"},{name:"tradeFeeDenominator",type:"u64"},{name:"ownerTradeFeeNumerator",type:"u64"},{name:"ownerTradeFeeDenominator",type:"u64"},{name:"ownerWithdrawFeeNumerator",type:"u64"},{name:"ownerWithdrawFeeDenominator",type:"u64"},{name:"hostFeeNumerator",type:"u64"},{name:"hostFeeDenominator",type:"u64"}]}},{name:"CurveInput",type:{kind:"struct",fields:[{name:"curveType",type:"u8"},{name:"curveParameters",type:"u64"}]}},{name:"ConfigInput",type:{kind:"struct",fields:[{name:"concentrationRatio",type:"u64"},{name:"lastPrice",type:"u64"},{name:"adjustRatio",type:"u64"},{name:"balanceRatio",type:"u64"},{name:"lastBalancedPrice",type:"u64"},{name:"configDenominator",type:"u64"},{name:"pythConfidenceLimit",type:"u64"},{name:"pythSlotLimit",type:"u64"},{name:"volumeX",type:"u64"},{name:"volumeY",type:"u64"},{name:"volumeXInY",type:"u64"},{name:"coefficientUp",type:"u64"},{name:"coefficientDown",type:"u64"},{name:"oracleStatus",type:"u64"},{name:"configTemp1",type:"u64"},{name:"configTemp2",type:"u64"}]}},{name:"CurveFees",type:{kind:"struct",fields:[{name:"tradeFeeNumerator",type:"u64"},{name:"tradeFeeDenominator",type:"u64"},{name:"ownerTradeFeeNumerator",type:"u64"},{name:"ownerTradeFeeDenominator",type:"u64"},{name:"ownerWithdrawFeeNumerator",type:"u64"},{name:"ownerWithdrawFeeDenominator",type:"u64"},{name:"hostFeeNumerator",type:"u64"},{name:"hostFeeDenominator",type:"u64"}]}},{name:"CurveType",type:{kind:"enum",variants:[{name:"ConstantProduct"},{name:"Stable"}]}},{name:"TradeDirection",type:{kind:"enum",variants:[{name:"AtoB"},{name:"BtoA"}]}},{name:"RoundDirection",type:{kind:"enum",variants:[{name:"Floor"},{name:"Ceiling"}]}}],errors:[{code:6e3,name:"AlreadyInUse",msg:"Swap account already in use"},{code:6001,name:"InvalidProgramAddress",msg:"Invalid program address generated from bump seed and key"},{code:6002,name:"InvalidOwner",msg:"Input account owner is not the program address"},{code:6003,name:"InvalidOutputOwner",msg:"Output pool account owner cannot be the program address"},{code:6004,name:"ExpectedMint",msg:"Deserialized account is not an SPL Token mint"},{code:6005,name:"ExpectedAccount",msg:"Deserialized account is not an SPL Token account"},{code:6006,name:"EmptySupply",msg:"Input token account empty"},{code:6007,name:"InvalidSupply",msg:"Pool token mint has a non-zero supply"},{code:6008,name:"InvalidDelegate",msg:"Token account has a delegate"},{code:6009,name:"InvalidInput",msg:"InvalidInput"},{code:6010,name:"IncorrectSwapAccount",msg:"Address of the provided swap token account is incorrect"},{code:6011,name:"IncorrectPoolMint",msg:"Address of the provided pool token mint is incorrect"},{code:6012,name:"InvalidOutput",msg:"InvalidOutput"},{code:6013,name:"CalculationFailure",msg:"General calculation failure due to overflow or underflow"},{code:6014,name:"InvalidInstruction",msg:"Invalid instruction"},{code:6015,name:"RepeatedMint",msg:"Swap input token accounts have the same mint"},{code:6016,name:"ExceededSlippage",msg:"Swap instruction exceeds desired slippage limit"},{code:6017,name:"InvalidCloseAuthority",msg:"Token account has a close authority"},{code:6018,name:"InvalidFreezeAuthority",msg:"Pool token mint has a freeze authority"},{code:6019,name:"IncorrectFeeAccount",msg:"Pool fee token account incorrect"},{code:6020,name:"ZeroTradingTokens",msg:"Given pool token amount results in zero trading tokens"},{code:6021,name:"FeeCalculationFailure",msg:"Fee calculation failed due to overflow, underflow, or unexpected 0"},{code:6022,name:"ConversionFailure",msg:"Conversion to u64 failed with an overflow or underflow"},{code:6023,name:"InvalidFee",msg:"The provided fee does not match the program owner's constraints"},{code:6024,name:"IncorrectTokenProgramId",msg:"The provided token program does not match the token program expected by the swap"},{code:6025,name:"IncorrectOracleAccount",msg:"Address of the provided oracle account is incorrect"},{code:6026,name:"IncorrectConfigAccount",msg:"Address of the provided config account is incorrect"},{code:6027,name:"UnsupportedCurveType",msg:"The provided curve type is not supported by the program owner"},{code:6028,name:"InvalidCurve",msg:"The provided curve parameters are invalid"},{code:6029,name:"UnsupportedCurveOperation",msg:"The operation cannot be performed on the given curve"},{code:6030,name:"InvalidPythStatus",msg:"Pyth oracle status is not 'trading'"},{code:6031,name:"InvalidPythPrice",msg:"Could not retrieve updated price feed from the Pyth oracle"},{code:6032,name:"IncorrectSigner",msg:"Address of the provided signer account is incorrect"},{code:6033,name:"ProgramIsFrozen",msg:"Program is frozen"},{code:6034,name:"OracleConfidence",msg:"Oracle confidence is too low"}]}},4780:function(t,e,n){"use strict";e.Yk=e.gx=e._l=e.vS=void 0;const r=n(6154);const i=n(7584);const o=n(703);const a=n(3117);Object.defineProperty(e,"_l",{enumerable:!0,get:function(){return a.getParsedData}});const s=n(7603);Object.defineProperty(e,"gx",{enumerable:!0,get:function(){return s.getCurveAmount}}),Object.defineProperty(e,"vS",{enumerable:!0,get:function(){return s.TradeDirection}});const u=n(4143);Object.defineProperty(e,"Yk",{enumerable:!0,get:function(){return u.LIFINITY_AMM_LAYOUT}})},4143:function(t,e,n){"use strict";function r(){const t=["230139DbYNPp","2HPOcey","1353736welccx","2130457xAwOIw","1235370vXpWEu","4296oLubML","1840GwSmNV","59448cNSqAP","9OCfpuZ","242082WXSDbe"];return(r=function(){return t})()}!function(t,e){const n=a,r=t();for(;;)try{if(244098===-parseInt(n(112))/1+parseInt(n(113))/2*(parseInt(n(111))/3)+-parseInt(n(117))/4*(-parseInt(n(118))/5)+parseInt(n(119))/6+-parseInt(n(115))/7+parseInt(n(114))/8*(parseInt(n(110))/9)+parseInt(n(116))/10)break;r.push(r.shift())}catch(i){r.push(r.shift())}}(r),Object.defineProperty(e,"__esModule",{value:!0}),e.CONFIG_LAYOUT=e.LIFINITY_AMM_LAYOUT=void 0;const i=n(9593),o=n(698);function a(t,e){const n=r();return(a=function(t,e){return n[t-=110]})(t,e)}e.LIFINITY_AMM_LAYOUT=(0,o.struct)([(0,i.u64)("index"),(0,i.publicKey)("initializerKey"),(0,i.publicKey)("initializerDepositTokenAccount"),(0,i.publicKey)("initializerReceiveTokenAccount"),(0,i.u64)("initializerAmount"),(0,i.u64)("takerAmount"),(0,i.u8)("initialized"),(0,i.u8)("bumpSeed"),(0,i.u8)("freezeTrade"),(0,i.u8)("freezeDeposit"),(0,i.u8)("freezeWithdraw"),(0,i.u8)("baseDecimals"),(0,i.publicKey)("tokenProgramId"),(0,i.publicKey)("tokenAAccount"),(0,i.publicKey)("tokenBAccount"),(0,i.publicKey)("poolMint"),(0,i.publicKey)("tokenAMint"),(0,i.publicKey)("tokenBMint"),(0,i.publicKey)("poolFeeAccount"),(0,i.publicKey)("pythAccount"),(0,i.publicKey)("pythPcAccount"),(0,i.publicKey)("configAccount"),(0,i.publicKey)("ammTemp1"),(0,i.publicKey)("ammTemp2"),(0,i.publicKey)("ammTemp3"),(0,i.u64)("tradeFeeNumerator"),(0,i.u64)("tradeFeeDenominator"),(0,i.u64)("ownerTradeFeeNumerator"),(0,i.u64)("ownerTradeFeeDenominator"),(0,i.u64)("ownerWithdrawFeeNumerator"),(0,i.u64)("ownerWithdrawFeeDenominator"),(0,i.u64)("hostFeeNumerator"),(0,i.u64)("hostFeeDenominator"),(0,i.u8)("curveType"),(0,i.u64)("curveParameters")]),e.CONFIG_LAYOUT=(0,o.struct)([(0,i.u64)("index"),(0,i.u64)("concentrationRatio"),(0,i.u64)("lastPrice"),(0,i.u64)("adjustRatio"),(0,i.u64)("balanceRatio"),(0,i.u64)("lastBalancedPrice"),(0,i.u64)("configDenominator"),(0,i.u64)("pythConfidenceLimit"),(0,i.u64)("pythSlotLimit"),(0,i.u64)("volumeX"),(0,i.u64)("volumeY"),(0,i.u64)("volumeXinY"),(0,i.u64)("coefficientUp"),(0,i.u64)("coefficientDown"),(0,i.u64)("oracleStatus"),(0,i.u64)("configTemp1"),(0,i.u64)("configTemp2")])},6154:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getSwapTransactionWithAuthority=e.getSwapInstruction=e.getAmountOut=e.Lifinity=void 0;const o=n(5172),a=n(7723),s=i(n(3776)),u=n(2800),c=n(7584),l=n(703),d=n(7591),f=n(3117),h=n(7603);class p{constructor(t,e){this.stateAddress=a.PublicKey.default,this.programAuthority=a.PublicKey.default,this.connection=t,this.wallet=e;const n=new a.PublicKey((0,c.getProgramAddress)()),r=new o.Provider(t,e,o.Provider.defaultOptions());this.program=new o.Program(u.IDL,n,r)}static build(t,e){return r(this,void 0,void 0,(function*(){return new p(t,e)}))}swap(t,e,n,i){return r(this,void 0,void 0,(function*(){const r=(0,l.getPool)(n.toString(),i.toString());try{return yield(0,d.sendSwap)(this.program,r,n,i,t,e)}catch(o){return console.error(o),""}}))}}e.Lifinity=p,e.getAmountOut=function(t,e,n,i,o){return r(this,void 0,void 0,(function*(){const r=(0,l.getPool)(n.toString(),i.toString());if(r){let i,c,l,d=new s.default(e);r.poolCoinMint===n.toString()?(d=d.times(new s.default(10).pow(r.poolCoinDecimal)),c=r.poolCoinDecimal,l=r.poolPcDecimal,i=h.TradeDirection.AtoB):(d=d.times(new s.default(10).pow(r.poolPcDecimal)),c=r.poolPcDecimal,l=r.poolCoinDecimal,i=h.TradeDirection.BtoA);const p=[new a.PublicKey(r.amm),new a.PublicKey(r.poolCoinTokenAccount),new a.PublicKey(r.poolPcTokenAccount),new a.PublicKey(r.configAccount),new a.PublicKey(r.pythAccount)];r.pythAccount!==r.pythPcAccount&&p.push(new a.PublicKey(r.pythPcAccount));try{const n=yield(0,f.getMultipleAccounts)(t,p),{amm:a,fees:u,coinBalance:m,pcBalance:y,config:g,pyth:v,pythPc:w}=(0,f.getParsedData)(n,r),b=yield t.getSlot(),{amountSwapped:_,priceImpact:A,fee:S,feePercent:E}=(0,h.getCurveAmount)(d,b,a,u,m,y,g,v,w,i),k=new s.default(o).div(100),T=new s.default(Math.floor(_.times(new s.default(1).minus(k)).toNumber())).div(new s.default(10).pow(l)).toNumber(),I=_.div(new s.default(10).pow(l)).toNumber(),x=S.div(new s.default(10).pow(c)).toNumber();return{amountIn:e,amountOut:I,amountOutWithSlippage:T,priceImpact:A.toNumber(),fee:x,feePercent:E.toNumber()}}catch(u){return console.error(u),{amountIn:0,amountOut:0,amountOutWithSlippage:0,priceImpact:0,fee:0,feePercent:0}}}}))},e.getSwapInstruction=function(t,e,n,i,f,h,p,m,y=!0){return r(this,void 0,void 0,(function*(){try{const r=(0,l.getPool)(f.toString(),h.toString());let g,v,w=new s.default(n),b=new s.default(i);f.toString()===r.poolCoinMint?(w=w.times(new s.default(10).pow(r.poolCoinDecimal)),b=b.times(new s.default(10).pow(r.poolPcDecimal)),g=new a.PublicKey(r.poolCoinTokenAccount),v=new a.PublicKey(r.poolPcTokenAccount)):(w=w.times(new s.default(10).pow(r.poolPcDecimal)),b=b.times(new s.default(10).pow(r.poolCoinDecimal)),g=new a.PublicKey(r.poolPcTokenAccount),v=new a.PublicKey(r.poolCoinTokenAccount));let _=a.Keypair.generate();const A=new a.PublicKey((0,c.getProgramAddress)()),S=new o.Provider(t,_,o.Provider.defaultOptions()),E=new o.Program(u.IDL,A,S),{approveInstruction:k,swapInstruction:T,signers:I}=yield(0,d.getInstruction)(E,r,w,b,e,p,m,g,v,y);return{approveInstruction:k,swapInstruction:T,signers:I}}catch(r){console.warn(r);return{approveInstruction:null,swapInstruction:null,signers:[]}}}))},e.getSwapTransactionWithAuthority=function(t,e,n,r,i,s,f,h,p){const m=(0,l.getPool)(i.toString(),s.toString());let y=a.Keypair.generate();const g=new a.PublicKey((0,c.getProgramAddress)()),v=new o.Provider(t,y,o.Provider.defaultOptions()),w=new o.Program(u.IDL,g,v);return(0,d.makeSwapTransactionWithAuthority)(w,n,r,e,f,h,i,m,p)}},7584:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getProgramAddress=void 0;e.getProgramAddress=()=>"EewxydAPCCVuNEyrVN68PuSYdQ7wKn27V9Gjeoi8dy3S"},703:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PoolList=e.getPool=e.getPoolList=void 0,e.getPoolList=function(){return e.PoolList},e.getPool=function(t,n){const r=Object.values(e.PoolList).filter((e=>e.poolCoinMint===t&&e.poolPcMint===n||e.poolCoinMint===n&&e.poolPcMint===t));return 1===r.length?r[0]:null},e.PoolList={"SOL-USDC":{amm:"amgK1WE8Cvae4mVdj4AhXSsknWsjaGgo1coYicasBnM",poolMint:"3WzrkFYq4SayCrhBw8BgsPiTVKTDjyV6wRqP7HL9Eyyw",feeAccount:"AD5DFr1AXMB9h6fw5KFtkEfwf7kYSAiaSueeu4NGrLKY",configAccount:"2iT9h99mhDqetoZGNj7KKrqBnoDmFvAytGrnFYuR7MwN",pythAccount:"H6ARHf6YXhGYeQfUzQNGk6rDNnLBQKrenN712K4AQJEG",pythPcAccount:"H6ARHf6YXhGYeQfUzQNGk6rDNnLBQKrenN712K4AQJEG",poolCoinTokenAccount:"2uySTNgvGT2kwqpfgLiSgeBLR3wQyye1i1A2iQWoPiFr",poolCoinMint:"So11111111111111111111111111111111111111112",poolPcTokenAccount:"32SjGNjesiCZgmZb4YxAGgjnym6jAvTWbqihR4CvvXkZ",poolPcMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",poolCoinDecimal:9,poolPcDecimal:6,poolMintDecimal:9,pythBaseDecimal:11},"SOL-USDT":{amm:"2x8Bmv9wj2a4LxADBWKiLyGRgAosr8yJXuZyvS8adirK",poolMint:"BRchiwrv9yCr4jAi6xF4epQdtNtmJH93rrerpHpMhK1Z",feeAccount:"GFj8cNTP4mzWG7ywyJ35Ls2V8CbqDk3p4xNT1pAawoCh",configAccount:"Hor7j9oYfNH6EJgmnXQRiQSahduR5p4bfKyCZaQUqNKd",pythAccount:"H6ARHf6YXhGYeQfUzQNGk6rDNnLBQKrenN712K4AQJEG",pythPcAccount:"3vxLXJqLqF3JG5TCbYycbKWRBbCJQLxQmBGCkyqEEefL",poolCoinTokenAccount:"5pH2DBMZg7y5bN4J3oLKRETGXyVYPJpeaCH6AkdAcxqp",poolCoinMint:"So11111111111111111111111111111111111111112",poolPcTokenAccount:"7Cct2MJUwruQef5vQrP2bxYCNyVajJ3SiC1GYUmwmjUm",poolPcMint:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",poolCoinDecimal:9,poolPcDecimal:6,poolMintDecimal:9,pythBaseDecimal:11},"SOL-UST":{amm:"65E23qmpbcq3EynyxzSAk5PmAXv4NYmRb2jJiYDDRCaB",poolMint:"4aUVFHRR3c3Zyzi4yeT4U38x1hsPWE8VstKWAXkpgE7g",feeAccount:"Dyr7rzzrZbyHwHmx5YC4xcfzRJpuxDPmWu8BmwNzkAL4",configAccount:"5CmmN7dYxsmP88dE1eATYJc1SjKQXhZFs1FeDSdq5s2C",pythAccount:"H6ARHf6YXhGYeQfUzQNGk6rDNnLBQKrenN712K4AQJEG",pythPcAccount:"H8DvrfSaRfUyP1Ytse1exGf7VSinLWtmKNNaBhA4as9P",poolCoinTokenAccount:"AgiA6x7T6vR2J8ZPeBGizWruwhP6HBbpoW3Hg5jh2f2b",poolCoinMint:"So11111111111111111111111111111111111111112",poolPcTokenAccount:"3eM8HhW5XQeEmshqSvNSmrPmYuBKZpPXVVfzvqgYvJAv",poolPcMint:"9vMJfxuKxXBoEa7rM12mYLMwTacLMLDJqHozw96WQL8i",poolCoinDecimal:9,poolPcDecimal:6,poolMintDecimal:9,pythBaseDecimal:11},"BTC-USDC":{amm:"HeH3s7B3a6nynim1rBGS6TRaYECgSNjt7Kp65mhW9P4k",poolMint:"BzuTSoWFHrnRQvn4sr5ErPQyMaRB9g2rsbKCruGtcvMa",feeAccount:"5HpNeHBBpg6x7fzTgbvP9UukQmDmvxbggwqo951BYkba",configAccount:"HuLmRVTfYjNYYGBpPtJEk7JKkosbbPF4zzBHnf3TfyCn",pythAccount:"GVXRSBjFk6e6J3NbVPXohDJetcTjaeeuykUpbQF8UoMU",pythPcAccount:"GVXRSBjFk6e6J3NbVPXohDJetcTjaeeuykUpbQF8UoMU",poolCoinTokenAccount:"FAFShq3gZYXWtk5EkeKPKcwSkz2rjfMDuD1i7KiYwjVM",poolCoinMint:"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E",poolPcTokenAccount:"3ReY1xscSAEV9Qg1NshkU4KRWQs33nu5JMg8AnoU7duG",poolPcMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",poolCoinDecimal:6,poolPcDecimal:6,poolMintDecimal:9,pythBaseDecimal:8},"ETH-USDC":{amm:"E32Z6DYwJELMTrVJVchN8PWbyhSoC3bRorMb7Cw2R9Xz",poolMint:"8FxRyaE8X6ENLmNbaBvgS6vMsN1GJ8J7CmKy8K8uN6wM",feeAccount:"5yXQ399ti5rKMcRMAZvFUqAgKHUP55bvhoYWd9bVrnu9",configAccount:"5JXrQpWAPNrvVN1R6Mz9MhA1EYUB948kceZjCxRzQzf5",pythAccount:"JBu1AL4obBcCMqKBBxhpWCNUt136ijcuMZLFvTP7iWdB",pythPcAccount:"JBu1AL4obBcCMqKBBxhpWCNUt136ijcuMZLFvTP7iWdB",poolCoinTokenAccount:"BRFwAToCofwzP29jVGzb6VZ4AGpw867AE5VsXfMsmEGk",poolCoinMint:"7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs",poolPcTokenAccount:"FDCjDSbFCVRVBsWkJWfgZ9x3Dizm1MJjtzYw3R2fxXRv",poolPcMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",poolCoinDecimal:8,poolPcDecimal:6,poolMintDecimal:9,pythBaseDecimal:10},"RAY-USDC":{amm:"FcxHANr1dguexPZ2PoPGBajgiednXFMYHGGx4YMgedkM",poolMint:"HUpvKUafPCMwhua6QtHXk1V8D6LZYyQmUKYPFZgRiiiX",feeAccount:"DyR91PiiRopbdcizbjdXejodjxEeVSs4uCkyhL7wCvxw",configAccount:"2EXv6K3cYDMXXKFfzGjqnjkbngUymnVwBoC4kwrCKwFy",pythAccount:"AnLf8tVYCM816gmBjiy8n53eXKKEDydT5piYjjQDPgTB",pythPcAccount:"AnLf8tVYCM816gmBjiy8n53eXKKEDydT5piYjjQDPgTB",poolCoinTokenAccount:"BhG9r4CkTBRtpLtxA8Hd72vCkikqyVhiq8pFunZNERV8",poolCoinMint:"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R",poolPcTokenAccount:"8HAVXU7bdS2SEkkrqFBdWPFxFTrWxtu4GTjP46BDzdTc",poolPcMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",poolCoinDecimal:6,poolPcDecimal:6,poolMintDecimal:6,pythBaseDecimal:8},"SRM-USDC":{amm:"7RM8pzbWmGEYJLFuyS5uDyrkd4phcazHppn1C7Qim5nT",poolMint:"DKxkNu5PYoBEWiEZzD9hPsbga145AUZFfRCsieJQbGCP",feeAccount:"7xGiGPPFTiroce8ivKeLgH74WvMbinLqHUTMWwdsSXpp",configAccount:"CuPQhoTH29d5tP9TE2KQMrXqhrMD9ygNhaWDke1fuU7d",pythAccount:"3NBReDRTLKMQEKiLD5tGcx4kXbTf88b7f2xLS9UuGjym",pythPcAccount:"3NBReDRTLKMQEKiLD5tGcx4kXbTf88b7f2xLS9UuGjym",poolCoinTokenAccount:"2qAG2xw2sroQZfRUu5RhvneFm35p9NEtcpJizoFYMn2w",poolCoinMint:"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt",poolPcTokenAccount:"DTmnsxurn7cFSqPMERogJDMKR5NbFjhrJTtFPJbgkW7e",poolPcMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",poolCoinDecimal:6,poolPcDecimal:6,poolMintDecimal:6,pythBaseDecimal:8},"UXD-USDC":{amm:"5BJUhcBnysAmCpaU6pABof7FUqxx7ZnCZXbctpP48o3C",poolMint:"DM2Grhnear76DwNiRUSfeiFMt6jSj2op9GWinQDc7Yqh",feeAccount:"9pKxj6GTTdJ2biQ6uTyv7CTmVmnjz6cXGCz7rXg7Nm2N",configAccount:"86MM38X9P5mxzRHFVX8ahtB9dCFKSk8AFhb33f5Zz8VW",pythAccount:"3vxLXJqLqF3JG5TCbYycbKWRBbCJQLxQmBGCkyqEEefL",pythPcAccount:"3vxLXJqLqF3JG5TCbYycbKWRBbCJQLxQmBGCkyqEEefL",poolCoinTokenAccount:"5BUkh9e3JF9yUvSw6P3HHqkdMuujRG942hYNSkAEghFs",poolCoinMint:"7kbnvuGBxxj8AG9qp8Scn56muWGaRaFqxg1FsRp3PaFT",poolPcTokenAccount:"BbwCGgAHEUfu7PUEz8hR877aK2snseqorfLbvtcVbjhj",poolPcMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",poolCoinDecimal:6,poolPcDecimal:6,poolMintDecimal:6,pythBaseDecimal:8},"LFNTY-USDC":{amm:"5m1fnYcDdF1TMRVEBdGuSPXt5Sw8ueb9LTopuNL8SJYc",poolMint:"AGytAQTdMJ1jYyDFwgqRUJfzuVUfFm4Kjh4ZnraPbTRv",feeAccount:"7Pa7ssUY264ircqLGXARFvVzENLxGwuXL7ptGJkNinzo",configAccount:"BhKTRa1uhYuSAMsY2SwAGuj5BnxpLPaPpJwArKxZvjYK",pythAccount:"GVXRSBjFk6e6J3NbVPXohDJetcTjaeeuykUpbQF8UoMU",pythPcAccount:"GVXRSBjFk6e6J3NbVPXohDJetcTjaeeuykUpbQF8UoMU",poolCoinTokenAccount:"3T9zHCguVtKfgzaUvdBne4V8LReeiAMAzmRbWwt69gwJ",poolCoinMint:"LFNTYraetVioAPnGJht4yNg2aUZFXR776cMeN9VMjXp",poolPcTokenAccount:"F3fuSs91bGysoZFgNDbGrPonEtCBaGRDMpHGMwfgxzsP",poolPcMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",poolCoinDecimal:6,poolPcDecimal:6,poolMintDecimal:6,pythBaseDecimal:8}}},7372:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WSOL=void 0,e.WSOL={symbol:"WSOL",mintAddress:"So11111111111111111111111111111111111111112",decimals:9}},7591:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.makeSwapInstructionWithAuthority=e.makeSwapTransactionWithAuthority=e.getInstruction=e.sendSwap=void 0;const i=n(5172),o=n(7723),a=n(3029),s=n(3029),u=n(3682),c=n(7372),l=n(3117);function d(t,e,n,i){return r(this,void 0,void 0,(function*(){return a.Token.createApproveInstruction(s.TOKEN_PROGRAM_ID,e,n,t,[],i.toNumber())}))}function f(t,e,n,i,a,u,c,d,f){return r(this,void 0,void 0,(function*(){let{programAuthority:r}=yield(0,l.getProgramAuthority)(t.programId,new o.PublicKey(f.amm));return t.instruction.swap(c,d,{accounts:{authority:r,amm:new o.PublicKey(f.amm),userTransferAuthority:e,sourceInfo:n,destinationInfo:i,swapSource:a,swapDestination:u,poolMint:new o.PublicKey(f.poolMint),feeAccount:new o.PublicKey(f.feeAccount),tokenProgram:s.TOKEN_PROGRAM_ID,pythPcAccount:new o.PublicKey(f.pythPcAccount),pythAccount:new o.PublicKey(f.pythAccount),configAccount:new o.PublicKey(f.configAccount)}})}))}function h(t,e,n,r,i,a,u,c,l,d){return t.instruction.swap(u,c,{accounts:{authority:d,amm:new o.PublicKey(l.amm),userTransferAuthority:e,sourceInfo:n,destinationInfo:r,swapSource:i,swapDestination:a,poolMint:new o.PublicKey(l.poolMint),feeAccount:new o.PublicKey(l.feeAccount),tokenProgram:s.TOKEN_PROGRAM_ID,pythPcAccount:new o.PublicKey(l.pythPcAccount),pythAccount:new o.PublicKey(l.pythAccount),configAccount:new o.PublicKey(l.configAccount)}})}e.sendSwap=function(t,e,n,a,s,h){return r(this,void 0,void 0,(function*(){const{transaction:p,signers:m}=yield function(t,e,n,a,s,h){return r(this,void 0,void 0,(function*(){let p,m,y,g,v=new o.Transaction,w=[],b=10,_=Math.pow(b,a.poolCoinDecimal),A=Math.pow(b,a.poolPcDecimal);e.toString()===a.poolCoinMint?(p=new i.BN(s*_),m=new i.BN(h*A),y=new o.PublicKey(a.poolCoinTokenAccount),g=new o.PublicKey(a.poolPcTokenAccount)):(p=new i.BN(s*A),m=new i.BN(h*_),y=new o.PublicKey(a.poolPcTokenAccount),g=new o.PublicKey(a.poolCoinTokenAccount));let S=null,E=null;return S=e.toString()===c.WSOL.mintAddress?yield(0,l.createWSOLAccountIfNotExist)(t,S,p.toNumber(),v,w):yield(0,l.findAssociatedTokenAddress)(t.provider.wallet.publicKey,e),E=n.toString()===c.WSOL.mintAddress?yield(0,l.createWSOLAccountIfNotExist)(t,E,0,v,w):yield(0,l.createAssociatedTokenAccountIfNotExist)(t,n,v),yield function(t,e,n,i,a,s,u,c,l,h,p=!0){return r(this,void 0,void 0,(function*(){let r;p?(r=o.Keypair.generate(),e.add(yield d(t.provider.wallet.publicKey,i,r.publicKey,c)),n.push(r)):r=t.provider.wallet,e.add(yield f(t,r.publicKey,i,a,s,u,c,l,h))}))}(t,v,w,S,E,y,g,p,m,a,!0),n.toString()===c.WSOL.mintAddress&&v.add((0,u.closeAccount)({source:E,destination:t.provider.wallet.publicKey,owner:t.provider.wallet.publicKey})),{transaction:v,signers:w}}))}(t,n,a,e,s,h);return yield t.provider.send(p,m)}))},e.getInstruction=function(t,e,n,a,s,u,c,l,h,p=!0){return r(this,void 0,void 0,(function*(){let r=null,m=[],y=new i.BN(n.toNumber()),g=new i.BN(a.toNumber()),v=null;return p&&(v=o.Keypair.generate(),r=yield d(s,u,v.publicKey,y),m.push(v)),{approveInstruction:r,swapInstruction:yield f(t,v?v.publicKey:s,u,c,l,h,y,g,e),signers:m}}))},e.makeSwapTransactionWithAuthority=function(t,e,n,r,a,s,u,c,l){let d,f,p,m,y=Math.pow(10,c.poolCoinDecimal),g=Math.pow(10,c.poolPcDecimal);return u.toString()===c.poolCoinMint?(d=new i.BN(e*y),f=new i.BN(n*g),p=new o.PublicKey(c.poolCoinTokenAccount),m=new o.PublicKey(c.poolPcTokenAccount)):(d=new i.BN(e*g),f=new i.BN(n*y),p=new o.PublicKey(c.poolPcTokenAccount),m=new o.PublicKey(c.poolCoinTokenAccount)),h(t,r,a,s,p,m,d,f,c,l)},e.makeSwapInstructionWithAuthority=h},3117:function(t,e,n){"use strict";var r=n(8764).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getTokenAccountBalance=e.getParsedData=e.getMultipleAccounts=e.sleep=e.getProgramAuthority=e.findProgramAddress=e.findAssociatedTokenAddress=e.createAssociatedTokenAccountIfNotExist=e.createWSOLAccountIfNotExist=void 0;const a=n(7723),s=n(3029),u=n(3682),c=n(3029),l=n(5956),d=o(n(3776)),f=n(7372),h=n(4143),p=new a.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function m(t,e){return i(this,void 0,void 0,(function*(){const{publicKey:n}=yield y([t.toBuffer(),c.TOKEN_PROGRAM_ID.toBuffer(),e.toBuffer()],p);return n}))}function y(t,e){return i(this,void 0,void 0,(function*(){const[n,r]=yield a.PublicKey.findProgramAddress(t,e);return{publicKey:n,nonce:r}}))}e.createWSOLAccountIfNotExist=function(t,e,n,r,o){return i(this,void 0,void 0,(function*(){let i;if(e)i=e;else{const e=t.provider.wallet.publicKey,s=a.Keypair.generate();i=s.publicKey;let l=n+(yield t.provider.connection.getMinimumBalanceForRentExemption(c.AccountLayout.span));r.add(a.SystemProgram.createAccount({fromPubkey:e,newAccountPubkey:i,lamports:l,space:c.AccountLayout.span,programId:c.TOKEN_PROGRAM_ID})),r.add((0,u.initializeAccount)({account:i,mint:new a.PublicKey(f.WSOL.mintAddress),owner:e})),o.push(s)}return i}))},e.createAssociatedTokenAccountIfNotExist=function(t,e,n){return i(this,void 0,void 0,(function*(){let r=yield m(t.provider.wallet.publicKey,e);return yield t.provider.connection.getAccountInfo(r).then((o=>i(this,void 0,void 0,(function*(){o||(r=yield s.Token.getAssociatedTokenAddress(p,c.TOKEN_PROGRAM_ID,e,t.provider.wallet.publicKey),n.add(s.Token.createAssociatedTokenAccountInstruction(p,c.TOKEN_PROGRAM_ID,e,r,t.provider.wallet.publicKey,t.provider.wallet.publicKey)))})))),r}))},e.findAssociatedTokenAddress=m,e.findProgramAddress=y,e.getProgramAuthority=function(t,e){return i(this,void 0,void 0,(function*(){const[n,r]=yield a.PublicKey.findProgramAddress([e.toBuffer()],t);return{programAuthority:n,nonce:r}}))};function g(t,e){for(const[n,r]of Object.entries(t))if(r===e)return{key:n};return{}}e.sleep=t=>i(void 0,void 0,void 0,(function*(){return yield new Promise((e=>setTimeout(e,t)))})),e.getMultipleAccounts=function(t,e,n){return i(this,void 0,void 0,(function*(){const r=[];let o=[];e.forEach((t=>{o.length>=100&&(r.push(o),o=[]),o.push(t)})),o.length>0&&r.push(o);const a=[],s={};return yield Promise.all(r.map(((e,r)=>i(this,void 0,void 0,(function*(){const i=yield t.getMultipleAccountsInfo(e,n);s[r]=i}))))),Object.keys(s).sort(((t,e)=>parseInt(t)-parseInt(e))).forEach((t=>{const e=s[parseInt(t)];for(const n of e)a.push(n)})),a.map(((t,n)=>null===t?null:{publicKey:e[n],account:t}))}))},e.getParsedData=function(t,e){let n,i,o,a,s,u,f;for(let p=0;p<t.length;p++){const m=t[p];if(m){const t=m.publicKey.toBase58(),p=r.from(m.account.data),{key:y}=g(e,t);switch(y){case"amm":{const t=h.LIFINITY_AMM_LAYOUT.decode(p),{freezeTrade:e,freezeDeposit:r,freezeWithdraw:o,baseDecimals:a,curveType:s}=t;n={freezeTrade:e,freezeDeposit:r,freezeWithdraw:o,baseDecimals:a,curveType:s};const{tradeFeeNumerator:u,tradeFeeDenominator:c,ownerTradeFeeNumerator:l,ownerTradeFeeDenominator:f}=t;i={tradeFeeNumerator:new d.default(Number(u)),tradeFeeDenominator:new d.default(Number(c)),ownerTradeFeeNumerator:new d.default(Number(l)),ownerTradeFeeDenominator:new d.default(Number(f))};break}case"poolCoinTokenAccount":{const t=c.AccountLayout.decode(p),e=c.u64.fromBuffer(t.amount).toNumber();o=new d.default(e);break}case"poolPcTokenAccount":{const t=c.AccountLayout.decode(p),e=c.u64.fromBuffer(t.amount).toNumber();a=new d.default(e);break}case"configAccount":{const t=h.CONFIG_LAYOUT.decode(p),{concentrationRatio:e,lastPrice:n,adjustRatio:r,balanceRatio:i,lastBalancedPrice:o,configDenominator:a,pythConfidenceLimit:u,pythSlotLimit:c,volumeX:l,volumeY:f,volumeXinY:m,coefficientUp:y,coefficientDown:g,oracleStatus:v,configTemp1:w,configTemp2:b}=t;s={concentrationRatio:new d.default(Number(e)),lastPrice:new d.default(Number(n)),adjustRatio:new d.default(Number(r)),balanceRatio:new d.default(Number(i)),lastBalancedPrice:new d.default(Number(o)),configDenominator:new d.default(Number(a)),pythConfidenceLimit:new d.default(Number(u)),pythSlotLimit:new d.default(Number(c)),volumeX:new d.default(Number(l)),volumeY:new d.default(Number(f)),volumeXinY:new d.default(Number(m)),coefficientUp:new d.default(Number(y)),coefficientDown:new d.default(Number(g)),oracleStatus:new d.default(Number(v)),configTemp1:new d.default(Number(w)),configTemp2:new d.default(Number(b))};break}case"pythAccount":{const{aggregate:t,exponent:e}=(0,l.parsePriceData)(p);u={price:new d.default(Number(t.priceComponent)),confidence:new d.default(Number(t.confidenceComponent)),status:new d.default(Number(t.status)),publishSlot:new d.default(Number(t.publishSlot)),exponent:e};break}case"pythPcAccount":{const{aggregate:t,exponent:e}=(0,l.parsePriceData)(p);f={price:new d.default(Number(t.priceComponent)),confidence:new d.default(Number(t.confidenceComponent)),status:new d.default(Number(t.status)),publishSlot:new d.default(Number(t.publishSlot)),exponent:e};break}}}}return{amm:n,fees:i,coinBalance:o,pcBalance:a,config:s,pyth:u,pythPc:f}},e.getTokenAccountBalance=function(t,e){return i(this,void 0,void 0,(function*(){const n=yield t._rpcRequest("getTokenAccountBalance",[e.toBase58()]);if(n.error)throw new Error(n.error.message);return n.result}))}},5172:function(t,e,n){"use strict";n.r(e),n.d(e,{BN:function(){return i.a},web3:function(){return o},AccountClient:function(){return Et},AccountsCoder:function(){return N},Coder:function(){return G},EventCoder:function(){return z},EventManager:function(){return It},EventParser:function(){return xt},IdlError:function(){return S},InstructionCoder:function(){return R},Program:function(){return Bt},ProgramError:function(){return E},Provider:function(){return w},StateClient:function(){return At},StateCoder:function(){return V},getProvider:function(){return _},parseIdlErrors:function(){return H},setProvider:function(){return b},splitArgsAndCtx:function(){return vt},toInstruction:function(){return X},translateAddress:function(){return J},utils:function(){return yt},validateAccounts:function(){return Y}});var r=n(3550),i=n.n(r),o=n(7723),a=n(8764),s=n(3204),u=n.n(s),c=n(9593),l=n(7191),d=n.n(l),f=n(2023),h=n(9742),p=n(9282),m=n.n(p),y=n(7885),g=n(6729),v=n.n(g);class w{constructor(t,e,n){this.connection=t,this.wallet=e,this.opts=n}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async send(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=this.opts),t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,await this.wallet.signTransaction(t),e.filter((t=>void 0!==t)).forEach((e=>{t.partialSign(e)}));const r=t.serialize();return await(0,o.sendAndConfirmRawTransaction)(this.connection,r,n)}async sendAll(t,e){void 0===e&&(e=this.opts);const n=await this.connection.getRecentBlockhash(e.preflightCommitment);let r=t.map((t=>{let e=t.tx,r=t.signers;return void 0===r&&(r=[]),e.feePayer=this.wallet.publicKey,e.recentBlockhash=n.blockhash,r.filter((t=>void 0!==t)).forEach((t=>{e.partialSign(t)})),e}));const i=await this.wallet.signAllTransactions(r),a=[];for(let s=0;s<r.length;s+=1){const t=i[s].serialize();a.push(await(0,o.sendAndConfirmRawTransaction)(this.connection,t,e))}return a}async simulate(t,e,n=this.opts){var r,i,o;return void 0===e&&(e=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(r=n.preflightCommitment)&&void 0!==r?r:this.opts.preflightCommitment)).blockhash,await this.wallet.signTransaction(t),e.filter((t=>void 0!==t)).forEach((e=>{t.partialSign(e)})),await async function(t,e,n){e.recentBlockhash=await t._recentBlockhash(t._disableBlockhashCaching);const r=e.serializeMessage(),i=[e._serialize(r).toString("base64"),{encoding:"base64",commitment:n}],o=await t._rpcRequest("simulateTransaction",i);if(o.error)throw new Error("failed to simulate transaction: "+o.error.message);return o.result}(this.connection,t,null!==(o=null!==(i=n.commitment)&&void 0!==i?i:this.opts.commitment)&&void 0!==o?o:"processed")}}function b(t){A=t}function _(){return null===A?w.local():A}let A=null;class S extends Error{constructor(t){super(t),this.name="IdlError"}}class E extends Error{constructor(t,e,...n){super(...n),this.code=t,this.msg=e}static parse(t,e){let n,r=t.toString().split("custom program error: ");if(2!==r.length)return null;try{n=parseInt(r[1])}catch(t){return null}let i=e.get(n);return void 0!==i?new E(n,i,n+": "+i):(i=k.get(n),void 0!==i?new E(n,i,n+": "+i):null)}toString(){return this.msg}}const k=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has_one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exempt constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"A state constraint was violated"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[4e3,"The given state account does not have the correct address"],[5e3,"The API being used is deprecated and should no longer be used"]]);class T{static fieldLayout(t,e){const n=void 0!==t.name?u()(t.name):void 0;switch(t.type){case"bool":return c.bool(n);case"u8":return c.u8(n);case"i8":return c.i8(n);case"u16":return c.u16(n);case"i16":return c.i16(n);case"u32":return c.u32(n);case"i32":return c.i32(n);case"u64":return c.u64(n);case"i64":return c.i64(n);case"u128":return c.u128(n);case"i128":return c.i128(n);case"bytes":return c.vecU8(n);case"string":return c.str(n);case"publicKey":return c.publicKey(n);default:if("vec"in t.type)return c.vec(T.fieldLayout({name:void 0,type:t.type.vec},e),n);if("option"in t.type)return c.option(T.fieldLayout({name:void 0,type:t.type.option},e),n);if("defined"in t.type){const r=t.type.defined;if(void 0===e)throw new S("User defined types not provided");const i=e.filter((t=>t.name===r));if(1!==i.length)throw new S(`Type not found: ${JSON.stringify(t)}`);return T.typeDefLayout(i[0],e,n)}if("array"in t.type){let r=t.type.array[0],i=t.type.array[1],o=T.fieldLayout({name:void 0,type:r},e);return c.array(o,i,n)}throw new Error(`Not yet implemented: ${t}`)}}static typeDefLayout(t,e=[],n){if("struct"===t.type.kind){const r=t.type.fields.map((t=>T.fieldLayout(t,e)));return c.struct(r,n)}if("enum"===t.type.kind){let r=t.type.variants.map((t=>{const n=u()(t.name);if(void 0===t.fields)return c.struct([],n);const r=t.fields.map((t=>{if(!t.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return T.fieldLayout(t,e)}));return c.struct(r,n)}));return void 0!==n?c.rustEnum(r).replicate(n):c.rustEnum(r,n)}throw new Error(`Unknown type kint: ${t}`)}}var I=function(){return(I=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},x=function(){return(x=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function P(t){return t.toLowerCase()}var M=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],B=/[^A-Z0-9]+/gi;function O(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce((function(t,e){return t.replace(e,n)}),t)}function L(t,e){if("enum"===e.type.kind){let n=e.type.variants.map((e=>void 0===e.fields?0:e.fields.map((e=>{if("object"!=typeof e||!("name"in e))throw new Error("Tuple enum variants not yet implemented.");return D(t,e.type)})).reduce(((t,e)=>t+e))));return Math.max(...n)+1}return void 0===e.type.fields?0:e.type.fields.map((e=>D(t,e.type))).reduce(((t,e)=>t+e),0)}function D(t,e){var n,r;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":return 4;case"u64":case"i64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+D(t,e.option);if("defined"in e){const i=null!==(r=null===(n=t.types)||void 0===n?void 0:n.filter((t=>t.name===e.defined)))&&void 0!==r?r:[];if(1!==i.length)throw new S(`Type not found: ${JSON.stringify(e)}`);return L(t,i[0])}if("array"in e){let n=e.array[0],r=e.array[1];return D(t,n)*r}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}function C(t,e){var n;let r=`${t}:${void 0===n&&(n={}),function(t,e){return void 0===e&&(e={}),function(t,e){void 0===e&&(e={});for(var n=e.splitRegexp,r=void 0===n?M:n,i=e.stripRegexp,o=void 0===i?B:i,a=e.transform,s=void 0===a?P:a,u=e.delimiter,c=void 0===u?" ":u,l=O(O(t,r,"$1\0$2"),o,"\0"),d=0,f=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(f-1);)f--;return l.slice(d,f).split("\0").map(s).join(c)}(t,x({delimiter:"."},e))}(e,I({delimiter:"_"},n))}`;return a.Buffer.from(f.sha256.digest(r)).slice(0,8)}class R{constructor(t){this.idl=t,this.ixLayout=R.parseIxLayout(t);const e=new Map;t.instructions.forEach((t=>{const n=C("global",t.name);e.set(d().encode(n),{layout:this.ixLayout.get(t.name),name:t.name})})),t.state&&t.state.methods.map((t=>{const n=C("state",t.name);e.set(d().encode(n),{layout:this.ixLayout.get(t.name),name:t.name})})),this.sighashLayouts=e}encode(t,e){return this._encode("global",t,e)}encodeState(t,e){return this._encode("state",t,e)}_encode(t,e,n){const r=a.Buffer.alloc(1e3),i=u()(e),o=this.ixLayout.get(i);if(!o)throw new Error(`Unknown method: ${i}`);const s=o.encode(n,r),c=r.slice(0,s);return a.Buffer.concat([C(t,e),c])}static parseIxLayout(t){const e=(t.state?t.state.methods:[]).map((e=>{let n=e.args.map((e=>{var n,r;return T.fieldLayout(e,Array.from([...null!==(n=t.accounts)&&void 0!==n?n:[],...null!==(r=t.types)&&void 0!==r?r:[]]))}));const r=u()(e.name);return[r,c.struct(n,r)]})).concat(t.instructions.map((e=>{let n=e.args.map((e=>{var n,r;return T.fieldLayout(e,Array.from([...null!==(n=t.accounts)&&void 0!==n?n:[],...null!==(r=t.types)&&void 0!==r?r:[]]))}));const r=u()(e.name);return[r,c.struct(n,r)]})));return new Map(e)}decode(t,e="hex"){"string"==typeof t&&(t="hex"===e?a.Buffer.from(t,"hex"):d().decode(t));let n=d().encode(t.slice(0,8)),r=t.slice(8);const i=this.sighashLayouts.get(n);return i?{data:i.layout.decode(r),name:i.name}:null}format(t,e){return U.format(t,e,this.idl)}}class U{static format(t,e,n){const r=n.instructions.filter((e=>t.name===e.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const i=r.args.map((e=>({name:e.name,type:U.formatIdlType(e.type),data:U.formatIdlData(e,t.data[e.name],n.types)}))),o=U.flattenIdlAccounts(r.accounts);return{args:i,accounts:e.map(((t,e)=>e<o.length?{name:o[e].name,...t}:{name:void 0,...t}))}}static formatIdlType(t){if("string"==typeof t)return t;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("defined"in t)return t.defined;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,n){if("string"==typeof t.type)return e.toString();if(t.type.hasOwnProperty("vec"))return"["+e.map((e=>this.formatIdlData({name:"",type:t.type.vec},e))).join(", ")+"]";if(t.type.hasOwnProperty("option"))return null===e?"null":this.formatIdlData({name:"",type:t.type.option},e);if(t.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((e=>e.name===t.type.defined));if(1!==r.length)throw new Error(`Type not found: ${t.type.defined}`);return U.formatIdlDataDefined(r[0],e,n)}return"unknown"}static formatIdlDataDefined(t,e,n){if("struct"===t.type.kind){const r=t.type;return"{ "+Object.keys(e).map((t=>{const i=r.fields.filter((e=>e.name===t))[0];if(void 0===i)throw new Error("Unable to find type");return t+": "+U.formatIdlData(i,e[t],n)})).join(", ")+" }"}if(0===t.type.variants.length)return"{}";if(t.type.variants[0].name){const r=t.type.variants,i=Object.keys(e)[0],o=e[i],a=Object.keys(o).map((t=>{var e;const a=o[t],s=null===(e=r[i])||void 0===e?void 0:e.filter((e=>e.name===t))[0];if(void 0===s)throw new Error("Unable to find variant");return t+": "+U.formatIdlData(s,a,n)})).join(", "),s=u()(i,{pascalCase:!0});return 0===a.length?s:`${s} { ${a} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(t,e){return t.map((t=>{const n=function(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}(t.name);if(t.hasOwnProperty("accounts")){const r=e?`${e} > ${n}`:n;return U.flattenIdlAccounts(t.accounts,r)}return{...t,name:e?`${e} > ${n}`:n}})).flat()}}class N{constructor(t){if(void 0===t.accounts)return void(this.accountLayouts=new Map);const e=t.accounts.map((e=>[e.name,T.typeDefLayout(e,t.types)]));this.accountLayouts=new Map(e)}async encode(t,e){const n=a.Buffer.alloc(1e3),r=this.accountLayouts.get(t);if(!r)throw new Error(`Unknown account: ${t}`);const i=r.encode(e,n);let o=n.slice(0,i),s=N.accountDiscriminator(t);return a.Buffer.concat([s,o])}decode(t,e){const n=e.slice(8),r=this.accountLayouts.get(t);if(!r)throw new Error(`Unknown account: ${t}`);return r.decode(n)}static accountDiscriminator(t){return a.Buffer.from(f.sha256.digest(`account:${u()(t,{pascalCase:!0})}`)).slice(0,8)}}class z{constructor(t){if(void 0===t.events)return void(this.layouts=new Map);const e=t.events.map((e=>{let n={name:e.name,type:{kind:"struct",fields:e.fields.map((t=>({name:t.name,type:t.type})))}};return[e.name,T.typeDefLayout(n,t.types)]}));this.layouts=new Map(e),this.discriminators=new Map(void 0===t.events?[]:t.events.map((t=>{return[h.fromByteArray((e=t.name,a.Buffer.from(f.sha256.digest(`event:${e}`)).slice(0,8))),t.name];var e})))}decode(t){let e;try{e=a.Buffer.from(h.toByteArray(t))}catch(t){return null}const n=h.fromByteArray(e.slice(0,8)),r=this.discriminators.get(n);if(void 0===r)return null;const i=this.layouts.get(r);if(!i)throw new Error(`Unknown event: ${r}`);return{data:i.decode(e.slice(8)),name:r}}}const j=new Set(["anchor-deprecated-state"]),F=new Map;function q(t){return void 0!==F.get(t)}var K=Object.freeze({__proto__:null,set:function(t){if(!j.has(t))throw new Error("Invalid feature");F.set(t,!0)},isSet:q});class V{constructor(t){if(void 0===t.state)throw new Error("Idl state not defined.");this.layout=T.typeDefLayout(t.state.struct,t.types)}async encode(t,e){const n=a.Buffer.alloc(1e3),r=this.layout.encode(e,n),i=await $(t),o=n.slice(0,r);return a.Buffer.concat([i,o])}decode(t){const e=t.slice(8);return this.layout.decode(e)}}async function $(t){let e=q("anchor-deprecated-state")?"account":"state";return a.Buffer.from(f.sha256.digest(`${e}:${t}`)).slice(0,8)}class G{constructor(t){this.instruction=new R(t),this.accounts=new N(t),this.events=new z(t),t.state&&(this.state=new V(t))}sighash(t,e){return C(t,e)}}var W=Object.freeze({__proto__:null,hash:function(t){return(0,f.sha256)(t)}});function H(t){const e=new Map;return t.errors&&t.errors.forEach((t=>{var n;let r=null!==(n=t.msg)&&void 0!==n?n:t.name;e.set(t.code,r)})),e}function X(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const n={};let r=0;return t.args.forEach((t=>{n[t.name]=e[r],r+=1})),n}function Y(t,e={}){t.forEach((t=>{if("accounts"in t)Y(t.accounts,e[t.name]);else if(void 0===e[t.name])throw new Error(`Invalid arguments: ${t.name} not provided.`)}))}function J(t){return t instanceof o.PublicKey?t:new o.PublicKey(t)}async function Z(t,e,n){if(e.length<=99)return await Q(t,e,n);{const i=(r=e,99,Array.apply(0,new Array(Math.ceil(r.length/99))).map(((t,e)=>r.slice(99*e,99*(e+1)))));return(await Promise.all(i.map((e=>Q(t,e,n))))).flat()}var r}async function Q(t,e,n){const r=null!=n?n:t.commitment,i=[e.map((t=>t.toBase58()))];r&&i.push({commitment:r});const s=await t._rpcRequest("getMultipleAccounts",i);if(s.error)throw new Error("failed to get info about accounts "+e.map((t=>t.toBase58())).join(", ")+": "+s.error.message);m()(void 0!==s.result);const u=[];for(const c of s.result.value){let t=null;if(null!==c){if(s.result.value){const{executable:e,owner:n,lamports:r,data:i}=c;m()("base64"===i[1]),t={executable:e,owner:new o.PublicKey(n),lamports:r,data:a.Buffer.from(i[0],"base64")}}if(null===t)throw new Error("Invalid response");u.push(t)}else u.push(null)}return u.map(((t,n)=>null===t?null:{publicKey:e[n],account:t}))}var tt=Object.freeze({__proto__:null,invoke:async function(t,e,n,r){t=J(t),r||(r=_());const i=new o.Transaction;return i.add(new o.TransactionInstruction({programId:t,keys:null!=e?e:[],data:n})),await r.send(i)},getMultipleAccounts:Z});function et(t,e,n){const r=a.Buffer.concat([t.toBuffer(),a.Buffer.from(e),n.toBuffer()]),i=f.sha256.digest(r);return new o.PublicKey(a.Buffer.from(i))}function nt(t,e){let n=a.Buffer.alloc(0);t.forEach((function(t){if(t.length>32)throw new TypeError("Max seed length exceeded");n=a.Buffer.concat([n,it(t)])})),n=a.Buffer.concat([n,e.toBuffer(),a.Buffer.from("ProgramDerivedAddress")]);let r=(0,f.sha256)(new Uint8Array(n)),s=new(i())(r,16).toArray(void 0,32);if(o.PublicKey.isOnCurve(new Uint8Array(s)))throw new Error("Invalid seeds, address must fall off the curve");return new o.PublicKey(s)}function rt(t,e){let n,r=255;for(;0!=r;){try{n=nt(t.concat(a.Buffer.from([r])),e)}catch(t){if(t instanceof TypeError)throw t;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}const it=t=>t instanceof a.Buffer?t:t instanceof Uint8Array?a.Buffer.from(t.buffer,t.byteOffset,t.byteLength):a.Buffer.from(t);async function ot(t,...e){let n=[a.Buffer.from([97,110,99,104,111,114])];e.forEach((t=>{n.push(t instanceof a.Buffer?t:J(t).toBuffer())}));const[r]=await o.PublicKey.findProgramAddress(n,J(t));return r}var at=Object.freeze({__proto__:null,createWithSeedSync:et,createProgramAddressSync:nt,findProgramAddressSync:rt,associated:ot}),st=Object.freeze({__proto__:null,encode:function(t){return t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),"0x")},decode:function(t){0===t.indexOf("0x")&&(t=t.substr(2)),t.length%2==1&&(t="0"+t);let e=t.match(/.{2}/g);return null===e?a.Buffer.from([]):a.Buffer.from(e.map((t=>parseInt(t,16))))}});function ut(t){return new TextDecoder("utf-8").decode(t)}var ct=Object.freeze({__proto__:null,decode:ut,encode:function(t){return(new TextEncoder).encode(t)}}),lt=Object.freeze({__proto__:null,encode:function(t){return d().encode(t)},decode:function(t){return d().decode(t)}}),dt=Object.freeze({__proto__:null,encode:function(t){return h.fromByteArray(t)},decode:function(t){return a.Buffer.from(h.toByteArray(t))}}),ft=Object.freeze({__proto__:null,hex:st,utf8:ct,bs58:lt,base64:dt});const ht=new o.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),pt=new o.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var mt=Object.freeze({__proto__:null,associatedAddress:async function({mint:t,owner:e}){return(await o.PublicKey.findProgramAddress([e.toBuffer(),ht.toBuffer(),t.toBuffer()],pt))[0]}}),yt=Object.freeze({__proto__:null,sha256:W,rpc:tt,publicKey:at,bytes:ft,token:mt,features:K});const gt=c.struct([c.publicKey("authority"),c.vecU8("data")]);function vt(t,e){var n,r;let i={};const o=t.args?t.args.length:0;if(e.length>o){if(e.length!==o+1)throw new Error(`provided too many arguments ${e} to instruction ${null==t?void 0:t.name} expecting: ${null!==(r=null===(n=t.args)||void 0===n?void 0:n.map((t=>t.name)))&&void 0!==r?r:[]}`);i=e.pop()}return[e,i]}class wt{static build(t,e,n){if("_inner"===t.name)throw new S("the _inner name is reserved");const r=(...i)=>{const[a,s]=vt(t,[...i]);Y(t.accounts,s.accounts);const u=r.accounts(s.accounts);return void 0!==s.remainingAccounts&&u.push(...s.remainingAccounts),q("debug-logs")&&console.log("Outgoing account metas:",u),new o.TransactionInstruction({keys:u,programId:n,data:e(t.name,X(t,...a))})};return r.accounts=e=>wt.accountsArray(e,t.accounts,t.name),r}static accountsArray(t,e,n){return t?e.map((e=>{if(void 0!==("accounts"in e?e.accounts:void 0)){const r=t[e.name];return wt.accountsArray(r,e.accounts,n).flat()}{const r=e;let i;try{i=J(t[e.name])}catch(t){throw new Error(`Wrong input type for account "${e.name}" in the instruction accounts object${void 0!==n?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}return{pubkey:i,isWritable:r.isMut,isSigner:r.isSigner}}})).flat():[]}}class bt{static build(t,e,n,r){return async(...i)=>{const o=e(...i),[,a]=vt(t,[...i]);try{return await r.send(o,a.signers,a.options)}catch(t){q("debug-logs")&&console.log("Translating error:",t);let r=E.parse(t,n);if(null===r)throw t;throw r}}}}class _t{static build(t,e){return(...n)=>{var r,i,a;const[,s]=vt(t,[...n]),u=new o.Transaction;if(s.preInstructions&&s.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(r=s.preInstructions)||void 0===r||r.forEach((t=>u.add(t))),null===(i=s.instructions)||void 0===i||i.forEach((t=>u.add(t))),u.add(e(...n)),null===(a=s.postInstructions)||void 0===a||a.forEach((t=>u.add(t))),u}}}class At{constructor(t,e,n=_(),r=new G(t)){this.provider=n,this.coder=r,this._idl=t,this._programId=e,this._address=St(e),this._sub=null;const[i,a,s]=(()=>{var i;let a={},s={},c={};return null===(i=t.state)||void 0===i||i.methods.forEach((i=>{const l=wt.build(i,((t,e)=>r.instruction.encodeState(t,e)),e);l.accounts=t=>function(t,e,n,r){if("new"===n.name){const[n]=rt([],t);return[{pubkey:e.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:St(t),isWritable:!0,isSigner:!1},{pubkey:n,isWritable:!1,isSigner:!1},{pubkey:o.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t,isWritable:!1,isSigner:!1}]}return Y(n.accounts,r),[{pubkey:St(t),isWritable:!0,isSigner:!1}]}(e,n,i,t).concat(wt.accountsArray(t,i.accounts,i.name));const d=_t.build(i,l),f=bt.build(i,d,H(t),n),h=u()(i.name);a[h]=l,s[h]=d,c[h]=f})),[a,s,c]})();this.instruction=i,this.transaction=a,this.rpc=s}get programId(){return this._programId}async fetch(){const t=this.address(),e=await this.provider.connection.getAccountInfo(t);if(null===e)throw new Error(`Account does not exist ${t.toString()}`);const n=this._idl.state;if(!n)throw new Error("State is not specified in IDL.");if((await $(n.struct.name)).compare(e.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(e.data)}address(){return this._address}subscribe(t){if(null!==this._sub)return this._sub.ee;const e=new(v()),n=this.provider.connection.onAccountChange(this.address(),(t=>{const n=this.coder.state.decode(t.data);e.emit("change",n)}),t);return this._sub={ee:e,listener:n},e}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function St(t){let[e]=rt([],t);return et(e,"unversioned",t)}class Et{constructor(t,e,n,r,i){var o;this._idlAccount=e,this._programId=n,this._provider=null!=r?r:_(),this._coder=null!=i?i:new G(t),this._size=8+(null!==(o=L(t,e))&&void 0!==o?o:0)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(t,e){const n=await this.getAccountInfo(t,e);if(null===n)return null;if(N.accountDiscriminator(this._idlAccount.name).compare(n.data.slice(0,8)))throw new Error("Invalid account discriminator");return this._coder.accounts.decode(this._idlAccount.name,n.data)}async fetch(t,e){const n=await this.fetchNullable(t,e);if(null===n)throw new Error(`Account does not exist ${t.toString()}`);return n}async fetchMultiple(t,e){const n=await Z(this._provider.connection,t.map((t=>J(t))),e),r=N.accountDiscriminator(this._idlAccount.name);return n.map((t=>null==t||r.compare(null==t?void 0:t.account.data.slice(0,8))?null:this._coder.accounts.decode(this._idlAccount.name,null==t?void 0:t.account.data)))}async all(t){const e=N.accountDiscriminator(this._idlAccount.name);return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:{offset:0,bytes:d().encode(t instanceof a.Buffer?a.Buffer.concat([e,t]):e)}},...Array.isArray(t)?t:[]]})).map((({pubkey:t,account:e})=>({publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,e.data)})))}subscribe(t,e){const n=kt.get(t.toString());if(n)return n.ee;const r=new(v());t=J(t);const i=this._provider.connection.onAccountChange(t,(t=>{const e=this._coder.accounts.decode(this._idlAccount.name,t.data);r.emit("change",e)}),e);return kt.set(t.toString(),{ee:r,listener:i}),r}async unsubscribe(t){let e=kt.get(t.toString());e?kt&&await this._provider.connection.removeAccountChangeListener(e.listener).then((()=>{kt.delete(t.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(t,e){const n=this.size;return o.SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:t.publicKey,space:null!=e?e:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=e?e:n),programId:this._programId})}async associated(...t){const e=await this.associatedAddress(...t);return await this.fetch(e)}async associatedAddress(...t){return await ot(this._programId,...t)}async getAccountInfo(t,e){return await this._provider.connection.getAccountInfo(J(t),e)}}const kt=new Map,Tt="Program log: ".length;class It{constructor(t,e,n){this._programId=t,this._provider=e,this._eventParser=new xt(t,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,e){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,t in this._eventCallbacks||this._eventListeners.set(t,[]),this._eventListeners.set(t,(null!==(n=this._eventListeners.get(t))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[t,e]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((t,e)=>{t.err?console.error(t):this._eventParser.parseLogs(t.logs,(t=>{const n=this._eventListeners.get(t.name);n&&n.forEach((n=>{const r=this._eventCallbacks.get(n);if(r){const[,n]=r;n(t.data,e.slot)}}))}))}))),r}async removeEventListener(t){const e=this._eventCallbacks.get(t);if(!e)throw new Error(`Event listener ${t} doesn't exist!`);const[n]=e;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);this._eventCallbacks.delete(t),r=r.filter((e=>e!==t)),0===r.length&&this._eventListeners.delete(n),0==this._eventCallbacks.size&&(p.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class xt{constructor(t,e){this.coder=e,this.programId=t}parseLogs(t,e){const n=new Mt(t),r=new Pt(n.next());let i=n.next();for(;null!==i;){let[t,o,a]=this.handleLog(r,i);t&&e(t),o&&r.push(o),a&&r.pop(),i=n.next()}}handleLog(t,e){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(e):[null,...this.handleSystemLog(e)]}handleProgramLog(t){if(t.startsWith("Program log:")){const e=t.slice(Tt);return[this.coder.events.decode(e),null,!1]}return[null,...this.handleSystemLog(t)]}handleSystemLog(t){const e=t.split(":")[0];return null!==e.match(/^Program (.*) success/g)?[null,!0]:e.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:e.includes("invoke")?["cpi",!1]:[null,!1]}}class Pt{constructor(t){var e;const n=null===(e=/^Program (.*) invoke.*$/g.exec(t))||void 0===e?void 0:e[1];if(!n)throw new Error("Could not find program invocation log line");this.stack=[n]}program(){return p.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){p.ok(this.stack.length>0),this.stack.pop()}}class Mt{constructor(t){this.logs=t}next(){if(0===this.logs.length)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}}class Bt{constructor(t,e,n){e=J(e),n||(n=_()),this._idl=t,this._provider=n,this._programId=e,this._coder=new G(t),this._events=new It(this._programId,n,this._coder);const[r,i,o,a,s,c]=class{static build(t,e,n,r){const i={},o={},a={},s={},c=H(t),l=class{static build(t,e,n,r){if(void 0!==t.state)return new At(t,n,r,e)}}.build(t,e,n,r);t.instructions.forEach((l=>{const d=wt.build(l,((t,n)=>e.instruction.encode(t,n)),n),f=_t.build(l,d),h=bt.build(l,f,c,r),p=class{static build(t,e,n,r,i,o,a){return async(...s)=>{const u=e(...s),[,c]=vt(t,[...s]);let l;try{l=await r.simulate(u,c.signers,c.options)}catch(t){q("debug-logs")&&console.log("Translating error:",t);let r=E.parse(t,n);if(null===r)throw t;throw r}if(void 0===l)throw new Error("Unable to simulate transaction");if(l.value.err)throw new Error(`Simulate error: ${l.value.err.toString()}`);const d=l.value.logs;if(!d)throw new Error("Simulated logs not found");const f=[];return a.events&&new xt(o,i).parseLogs(d,(t=>{f.push(t)})),{events:f,raw:d}}}}.build(l,f,c,r,e,n,t),m=u()(l.name);o[m]=d,a[m]=f,i[m]=h,s[m]=p}));const d=t.accounts?class{static build(t,e,n,r){var i;const o={};return null===(i=t.accounts)||void 0===i||i.forEach((i=>{const a=u()(i.name);o[a]=new Et(t,i,n,r,e)})),o}}.build(t,e,n,r):{};return[i,o,a,d,s,l]}}.build(t,this._coder,e,n);this.rpc=r,this.instruction=i,this.transaction=o,this.account=a,this.simulate=s,this.state=c}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(t,e){const n=J(t),r=await Bt.fetchIdl(n,e);if(!r)throw new Error(`IDL not found for program: ${t.toString()}`);return new Bt(r,n,e)}static async fetchIdl(t,e){e=null!=e?e:_();const n=J(t),r=await async function(t){const e=(await o.PublicKey.findProgramAddress([],t))[0];return await o.PublicKey.createWithSeed(e,"anchor:idl",t)}(n),i=await e.connection.getAccountInfo(r);if(!i)return null;let a=(s=i.data.slice(8),gt.decode(s));var s;const u=(0,y.rr)(a.data);return JSON.parse(ut(u))}addEventListener(t,e){return this._events.addEventListener(t,e)}async removeEventListener(t){return await this._events.removeEventListener(t)}}},4104:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.__esModule=!0,e.s16=e.s8=e.nu64be=e.u48be=e.u40be=e.u32be=e.u24be=e.u16be=e.nu64=e.u48=e.u40=e.u32=e.u24=e.u16=e.u8=e.offset=e.greedy=e.Constant=e.UTF8=e.CString=e.Blob=e.Boolean=e.BitField=e.BitStructure=e.VariantLayout=e.Union=e.UnionLayoutDiscriminator=e.UnionDiscriminator=e.Structure=e.Sequence=e.DoubleBE=e.Double=e.FloatBE=e.Float=e.NearInt64BE=e.NearInt64=e.NearUInt64BE=e.NearUInt64=e.IntBE=e.Int=e.UIntBE=e.UInt=e.OffsetLayout=e.GreedyCount=e.ExternalLayout=e.bindConstructorLayout=e.nameWithProperty=e.Layout=e.uint8ArrayToBuffer=e.checkUint8Array=void 0,e.constant=e.utf8=e.cstr=e.blob=e.unionLayoutDiscriminator=e.union=e.seq=e.bits=e.struct=e.f64be=e.f64=e.f32be=e.f32=e.ns64be=e.s48be=e.s40be=e.s32be=e.s24be=e.s16be=e.ns64=e.s48=e.s40=e.s32=e.s24=void 0;var i=n(8764);function o(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function a(t){return o(t),i.Buffer.from(t.buffer,t.byteOffset,t.length)}e.checkUint8Array=o,e.uint8ArrayToBuffer=a;var s=function(){function t(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}return t.prototype.makeDestinationObject=function(){return{}},t.prototype.decode=function(t,e){throw new Error("Layout is abstract")},t.prototype.encode=function(t,e,n){throw new Error("Layout is abstract")},t.prototype.getSpan=function(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span},t.prototype.replicate=function(t){var e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e},t.prototype.fromArray=function(t){},t}();function u(t,e){return e.property?t+"["+e.property+"]":t}e.Layout=s,e.nameWithProperty=u,e.bindConstructorLayout=function(t,e){if("function"!==typeof t)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof s))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=function(){return new t},Object.defineProperty(t.prototype,"encode",{value:function(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(t,"decode",{value:function(t,n){return e.decode(t,n)},writable:!0})};var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isCount=function(){throw new Error("ExternalLayout is abstract")},e}(s);e.ExternalLayout=c;var l=function(t){function e(e,n){var r=this;if(void 0===e&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");return(r=t.call(this,-1,n)||this).elementSpan=e,r}return r(e,t),e.prototype.isCount=function(){return!0},e.prototype.decode=function(t,e){o(t),void 0===e&&(e=0);var n=t.length-e;return Math.floor(n/this.elementSpan)},e.prototype.encode=function(t,e,n){return 0},e}(c);e.GreedyCount=l;var d=function(t){function e(e,n,r){var i=this;if(!(e instanceof s))throw new TypeError("layout must be a Layout");if(void 0===n)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");return(i=t.call(this,e.span,r||e.property)||this).layout=e,i.offset=n,i}return r(e,t),e.prototype.isCount=function(){return this.layout instanceof f||this.layout instanceof h},e.prototype.decode=function(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)},e.prototype.encode=function(t,e,n){return void 0===n&&(n=0),this.layout.encode(t,e,n+this.offset)},e}(c);e.OffsetLayout=d;var f=function(t){function e(e,n){var r=t.call(this,e,n)||this;if(6<r.span)throw new RangeError("span must not exceed 6 bytes");return r}return r(e,t),e.prototype.decode=function(t,e){return void 0===e&&(e=0),a(t).readUIntLE(e,this.span)},e.prototype.encode=function(t,e,n){return void 0===n&&(n=0),a(e).writeUIntLE(t,n,this.span),this.span},e}(s);e.UInt=f;var h=function(t){function e(e,n){var r=t.call(this,e,n)||this;if(6<r.span)throw new RangeError("span must not exceed 6 bytes");return r}return r(e,t),e.prototype.decode=function(t,e){return void 0===e&&(e=0),a(t).readUIntBE(e,this.span)},e.prototype.encode=function(t,e,n){return void 0===n&&(n=0),a(e).writeUIntBE(t,n,this.span),this.span},e}(s);e.UIntBE=h;var p=function(t){function e(e,n){var r=t.call(this,e,n)||this;if(6<r.span)throw new RangeError("span must not exceed 6 bytes");return r}return r(e,t),e.prototype.decode=function(t,e){return void 0===e&&(e=0),a(t).readIntLE(e,this.span)},e.prototype.encode=function(t,e,n){return void 0===n&&(n=0),a(e).writeIntLE(t,n,this.span),this.span},e}(s);e.Int=p;var m=function(t){function e(e,n){var r=t.call(this,e,n)||this;if(6<r.span)throw new RangeError("span must not exceed 6 bytes");return r}return r(e,t),e.prototype.decode=function(t,e){return void 0===e&&(e=0),a(t).readIntBE(e,this.span)},e.prototype.encode=function(t,e,n){return void 0===n&&(n=0),a(e).writeIntBE(t,n,this.span),this.span},e}(s);e.IntBE=m;var y=Math.pow(2,32);function g(t){var e=Math.floor(t/y);return{hi32:e,lo32:t-e*y}}function v(t,e){return t*y+e}var w=function(t){function e(e){return t.call(this,8,e)||this}return r(e,t),e.prototype.decode=function(t,e){void 0===e&&(e=0);var n=a(t),r=n.readUInt32LE(e);return v(n.readUInt32LE(e+4),r)},e.prototype.encode=function(t,e,n){void 0===n&&(n=0);var r=g(t),i=a(e);return i.writeUInt32LE(r.lo32,n),i.writeUInt32LE(r.hi32,n+4),8},e}(s);e.NearUInt64=w;var b=function(t){function e(e){return t.call(this,8,e)||this}return r(e,t),e.prototype.decode=function(t,e){void 0===e&&(e=0);var n=a(t);return v(n.readUInt32BE(e),n.readUInt32BE(e+4))},e.prototype.encode=function(t,e,n){void 0===n&&(n=0);var r=g(t),i=a(e);return i.writeUInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8},e}(s);e.NearUInt64BE=b;var _=function(t){function e(e){return t.call(this,8,e)||this}return r(e,t),e.prototype.decode=function(t,e){void 0===e&&(e=0);var n=a(t),r=n.readUInt32LE(e);return v(n.readInt32LE(e+4),r)},e.prototype.encode=function(t,e,n){void 0===n&&(n=0);var r=g(t),i=a(e);return i.writeUInt32LE(r.lo32,n),i.writeInt32LE(r.hi32,n+4),8},e}(s);e.NearInt64=_;var A=function(t){function e(e){return t.call(this,8,e)||this}return r(e,t),e.prototype.decode=function(t,e){void 0===e&&(e=0);var n=a(t);return v(n.readInt32BE(e),n.readUInt32BE(e+4))},e.prototype.encode=function(t,e,n){void 0===n&&(n=0);var r=g(t),i=a(e);return i.writeInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8},e}(s);e.NearInt64BE=A;var S=function(t){function e(e){return t.call(this,4,e)||this}return r(e,t),e.prototype.decode=function(t,e){return void 0===e&&(e=0),a(t).readFloatLE(e)},e.prototype.encode=function(t,e,n){return void 0===n&&(n=0),a(e).writeFloatLE(t,n),4},e}(s);e.Float=S;var E=function(t){function e(e){return t.call(this,4,e)||this}return r(e,t),e.prototype.decode=function(t,e){return void 0===e&&(e=0),a(t).readFloatBE(e)},e.prototype.encode=function(t,e,n){return void 0===n&&(n=0),a(e).writeFloatBE(t,n),4},e}(s);e.FloatBE=E;var k=function(t){function e(e){return t.call(this,8,e)||this}return r(e,t),e.prototype.decode=function(t,e){return void 0===e&&(e=0),a(t).readDoubleLE(e)},e.prototype.encode=function(t,e,n){return void 0===n&&(n=0),a(e).writeDoubleLE(t,n),8},e}(s);e.Double=k;var T=function(t){function e(e){return t.call(this,8,e)||this}return r(e,t),e.prototype.decode=function(t,e){return void 0===e&&(e=0),a(t).readDoubleBE(e)},e.prototype.encode=function(t,e,n){return void 0===n&&(n=0),a(e).writeDoubleBE(t,n),8},e}(s);e.DoubleBE=T;var I=function(t){function e(e,n,r){var i=this;if(!(e instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof c&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");var o=-1;return!(n instanceof c)&&0<e.span&&(o=n*e.span),(i=t.call(this,o,r)||this).elementLayout=e,i.count=n,i}return r(e,t),e.prototype.getSpan=function(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);var n=0,r=this.count;if(r instanceof c&&(r=r.decode(t,e)),0<this.elementLayout.span)n=r*this.elementLayout.span;else for(var i=0;i<r;)n+=this.elementLayout.getSpan(t,e+n),++i;return n},e.prototype.decode=function(t,e){void 0===e&&(e=0);var n=[],r=0,i=this.count;for(i instanceof c&&(i=i.decode(t,e));r<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),r+=1;return n},e.prototype.encode=function(t,e,n){void 0===n&&(n=0);var r=this.elementLayout,i=t.reduce((function(t,i){return t+r.encode(i,e,n+t)}),0);return this.count instanceof c&&this.count.encode(t.length,e,n),i},e}(s);e.Sequence=I;var x=function(t){function e(e,n,r){var i=this;if(!Array.isArray(e)||!e.reduce((function(t,e){return t&&e instanceof s}),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof n&&void 0===r&&(r=n,n=void 0);for(var o=0,a=e;o<a.length;o++){var u=a[o];if(0>u.span&&void 0===u.property)throw new Error("fields cannot contain unnamed variable-length layout")}var c=-1;try{c=e.reduce((function(t,e){return t+e.getSpan()}),0)}catch(l){}return(i=t.call(this,c,n)||this).fields=e,i.decodePrefixes=!!r,i}return r(e,t),e.prototype.getSpan=function(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);var n=0;try{n=this.fields.reduce((function(n,r){var i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(r){throw new RangeError("indeterminate span")}return n},e.prototype.decode=function(t,e){o(t),void 0===e&&(e=0);for(var n=this.makeDestinationObject(),r=0,i=this.fields;r<i.length;r++){var a=i[r];if(void 0!==a.property&&(n[a.property]=a.decode(t,e)),e+=a.getSpan(t,e),this.decodePrefixes&&t.length===e)break}return n},e.prototype.encode=function(t,e,n){void 0===n&&(n=0);for(var r=n,i=0,o=0,a=0,s=this.fields;a<s.length;a++){var u=s[a],c=u.span;if(o=0<c?c:0,void 0!==u.property){var l=t[u.property];void 0!==l&&(o=u.encode(l,e,n),0>c&&(c=u.getSpan(e,n)))}i=n,n+=c}return i+o-r},e.prototype.fromArray=function(t){for(var e=this.makeDestinationObject(),n=0,r=this.fields;n<r.length;n++){var i=r[n];void 0!==i.property&&0<t.length&&(e[i.property]=t.shift())}return e},e.prototype.layoutFor=function(t){if("string"!==typeof t)throw new TypeError("property must be string");for(var e=0,n=this.fields;e<n.length;e++){var r=n[e];if(r.property===t)return r}},e.prototype.offsetOf=function(t){if("string"!==typeof t)throw new TypeError("property must be string");for(var e=0,n=0,r=this.fields;n<r.length;n++){var i=r[n];if(i.property===t)return e;0>i.span?e=-1:0<=e&&(e+=i.span)}},e}(s);e.Structure=x;var P=function(){function t(t){this.property=t}return t.prototype.decode=function(t,e){throw new Error("UnionDiscriminator is abstract")},t.prototype.encode=function(t,e,n){throw new Error("UnionDiscriminator is abstract")},t}();e.UnionDiscriminator=P;var M=function(t){function e(e,n){var r=this;if(!(e instanceof c&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");return(r=t.call(this,n||e.property||"variant")||this).layout=e,r}return r(e,t),e.prototype.decode=function(t,e){return this.layout.decode(t,e)},e.prototype.encode=function(t,e,n){return this.layout.encode(t,e,n)},e}(P);e.UnionLayoutDiscriminator=M;var B=function(t){function e(e,n,r){var i,o=this,a=e instanceof f||e instanceof h;if(a)i=new M(new d(e));else if(e instanceof c&&e.isCount())i=new M(e);else{if(!(e instanceof P))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");i=e}if(void 0===n&&(n=null),!(null===n||n instanceof s))throw new TypeError("defaultLayout must be null or a Layout");if(null!==n){if(0>n.span)throw new Error("defaultLayout must have constant span");void 0===n.property&&(n=n.replicate("content"))}var u=-1;n&&0<=(u=n.span)&&a&&(u+=i.layout.span),(o=t.call(this,u,r)||this).discriminator=i,o.usesPrefixDiscriminator=a,o.defaultLayout=n,o.registry={};var l=o.defaultGetSourceVariant.bind(o);return o.getSourceVariant=function(t){return l(t)},o.configGetSourceVariant=function(t){l=t.bind(this)},o}return r(e,t),e.prototype.getSpan=function(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);var n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)},e.prototype.defaultGetSourceVariant=function(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;if((n=this.registry[t[this.discriminator.property]])&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(t,n.property)))return n}else for(var e in this.registry){var n;if((n=this.registry[e]).property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")},e.prototype.decode=function(t,e){var n;void 0===e&&(e=0);var r=this.discriminator,i=r.decode(t,e),o=this.registry[i];if(void 0===o){var a=this.defaultLayout,s=0;this.usesPrefixDiscriminator&&(s=r.layout.span),(n=this.makeDestinationObject())[r.property]=i,n[a.property]=a.decode(t,e+s)}else n=o.decode(t,e);return n},e.prototype.encode=function(t,e,n){void 0===n&&(n=0);var r=this.getSourceVariant(t);if(void 0===r){var i=this.discriminator,o=this.defaultLayout,a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(t[i.property],e,n),a+o.encode(t[o.property],e,n+a)}return r.encode(t,e,n)},e.prototype.addVariant=function(t,e,n){var r=new O(this,t,e,n);return this.registry[t]=r,r},e.prototype.getVariant=function(t,e){var n;return t instanceof Uint8Array?(void 0===e&&(e=0),n=this.discriminator.decode(t,e)):n=t,this.registry[n]},e}(s);e.Union=B;var O=function(t){function e(e,n,r,i){var o=this;if(!(e instanceof B))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof r&&void 0===i&&(i=r,r=null),r){if(!(r instanceof s))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof i)throw new TypeError("variant must have a String property")}var a=e.span;return 0>e.span&&0<=(a=r?r.span:0)&&e.usesPrefixDiscriminator&&(a+=e.discriminator.layout.span),(o=t.call(this,a,i)||this).union=e,o.variant=n,o.layout=r||null,o}return r(e,t),e.prototype.getSpan=function(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);var n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);var r=0;return this.layout&&(r=this.layout.getSpan(t,e+n)),n+r},e.prototype.decode=function(t,e){var n=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");var r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);var i=this.property;return this.layout?n[i]=this.layout.decode(t,e+r):i?n[i]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n},e.prototype.encode=function(t,e,n){void 0===n&&(n=0);var r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);var i=this.property;if(this.layout&&!Object.prototype.hasOwnProperty.call(t,i))throw new TypeError("variant lacks property "+i);this.union.discriminator.encode(this.variant,e,n);var o=r;if(this.layout&&(this.layout.encode(t[i],e,n+r),o+=this.layout.getSpan(e,n+r),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o},e.prototype.fromArray=function(t){if(this.layout)return this.layout.fromArray(t)},e}(s);function L(t){return 0>t&&(t+=4294967296),t}e.VariantLayout=O;var D=function(t){function e(e,n,r){var i=this;if(!(e instanceof f||e instanceof h))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof n&&void 0===r&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");(i=t.call(this,e.span,r)||this).word=e,i.msb=!!n,i.fields=[];var o=0;return i._packedSetValue=function(t){return o=L(t),this},i._packedGetValue=function(){return o},i}return r(e,t),e.prototype.decode=function(t,e){var n=this.makeDestinationObject();void 0===e&&(e=0);var r=this.word.decode(t,e);this._packedSetValue(r);for(var i=0,o=this.fields;i<o.length;i++){var a=o[i];void 0!==a.property&&(n[a.property]=a.decode(r))}return n},e.prototype.encode=function(t,e,n){void 0===n&&(n=0);var r=this.word.decode(e,n);this._packedSetValue(r);for(var i=0,o=this.fields;i<o.length;i++){var a=o[i];if(void 0!==a.property){var s=t[a.property];void 0!==s&&a.encode(s)}}return this.word.encode(this._packedGetValue(),e,n)},e.prototype.addField=function(t,e){var n=new C(this,t,e);return this.fields.push(n),n},e.prototype.addBoolean=function(t){var e=new R(this,t);return this.fields.push(e),e},e.prototype.fieldFor=function(t){if("string"!==typeof t)throw new TypeError("property must be string");for(var e=0,n=this.fields;e<n.length;e++){var r=n[e];if(r.property===t)return r}},e}(s);e.BitStructure=D;var C=function(){function t(t,e,n){if(!(t instanceof D))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");var r=8*t.span,i=t.fields.reduce((function(t,e){return t+e.bits}),0);if(e+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-e),this.wordMask=L(this.valueMask<<this.start),this.property=n}return t.prototype.decode=function(t,e){return L(this.container._packedGetValue()&this.wordMask)>>>this.start},t.prototype.encode=function(t){if(!Number.isInteger(t)||t!==L(t&this.valueMask))throw new TypeError(u("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);var e=this.container._packedGetValue(),n=L(t<<this.start);this.container._packedSetValue(L(e&~this.wordMask)|n)},t}();e.BitField=C;var R=function(t){function e(e,n){return t.call(this,e,1,n)||this}return r(e,t),e.prototype.decode=function(t,e){return!!C.prototype.decode.call(this,t,e)},e.prototype.encode=function(t){return"boolean"===typeof t&&(t=+t),C.prototype.encode.call(this,t)},e}(C);e.Boolean=R;var U=function(t){function e(e,n){var r=this;if(!(e instanceof c&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");var i=-1;return e instanceof c||(i=e),(r=t.call(this,i,n)||this).length=e,r}return r(e,t),e.prototype.getSpan=function(t,e){var n=this.span;return 0>n&&(n=this.length.decode(t,e)),n},e.prototype.decode=function(t,e){void 0===e&&(e=0);var n=this.span;return 0>n&&(n=this.length.decode(t,e)),a(t).slice(e,e+n)},e.prototype.encode=function(t,e,n){var r=this.length;if(this.length instanceof c&&(r=t.length),!(t instanceof Uint8Array&&r===t.length))throw new TypeError(u("Blob.encode",this)+" requires (length "+r+") Uint8Array as src");if(n+r>e.length)throw new RangeError("encoding overruns Uint8Array");var i=a(t);return a(e).write(i.toString("hex"),n,r,"hex"),this.length instanceof c&&this.length.encode(r,e,n),r},e}(s);e.Blob=U;var N=function(t){function e(e){return t.call(this,-1,e)||this}return r(e,t),e.prototype.getSpan=function(t,e){o(t),void 0===e&&(e=0);for(var n=e;n<t.length&&0!==t[n];)n+=1;return 1+n-e},e.prototype.decode=function(t,e){void 0===e&&(e=0);var n=this.getSpan(t,e);return a(t).slice(e,e+n-1).toString("utf-8")},e.prototype.encode=function(t,e,n){void 0===n&&(n=0),"string"!==typeof t&&(t=t.toString());var r=i.Buffer.from(t,"utf8"),o=r.length;if(n+o>e.length)throw new RangeError("encoding overruns Buffer");var s=a(e);return r.copy(s,n),s[n+o]=0,o+1},e}(s);e.CString=N;var z=function(t){function e(e,n){var r=this;if("string"===typeof e&&void 0===n&&(n=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");return(r=t.call(this,-1,n)||this).maxSpan=e,r}return r(e,t),e.prototype.getSpan=function(t,e){return o(t),void 0===e&&(e=0),t.length-e},e.prototype.decode=function(t,e){void 0===e&&(e=0);var n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return a(t).slice(e,e+n).toString("utf-8")},e.prototype.encode=function(t,e,n){void 0===n&&(n=0),"string"!==typeof t&&(t=t.toString());var r=i.Buffer.from(t,"utf8"),o=r.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>e.length)throw new RangeError("encoding overruns Buffer");return r.copy(a(e),n),o},e}(s);e.UTF8=z;var j=function(t){function e(e,n){var r=t.call(this,0,n)||this;return r.value=e,r}return r(e,t),e.prototype.decode=function(t,e){return this.value},e.prototype.encode=function(t,e,n){return 0},e}(s);e.Constant=j,e.greedy=function(t,e){return new l(t,e)},e.offset=function(t,e,n){return new d(t,e,n)},e.u8=function(t){return new f(1,t)},e.u16=function(t){return new f(2,t)},e.u24=function(t){return new f(3,t)},e.u32=function(t){return new f(4,t)},e.u40=function(t){return new f(5,t)},e.u48=function(t){return new f(6,t)},e.nu64=function(t){return new w(t)},e.u16be=function(t){return new h(2,t)},e.u24be=function(t){return new h(3,t)},e.u32be=function(t){return new h(4,t)},e.u40be=function(t){return new h(5,t)},e.u48be=function(t){return new h(6,t)},e.nu64be=function(t){return new b(t)},e.s8=function(t){return new p(1,t)},e.s16=function(t){return new p(2,t)},e.s24=function(t){return new p(3,t)},e.s32=function(t){return new p(4,t)},e.s40=function(t){return new p(5,t)},e.s48=function(t){return new p(6,t)},e.ns64=function(t){return new _(t)},e.s16be=function(t){return new m(2,t)},e.s24be=function(t){return new m(3,t)},e.s32be=function(t){return new m(4,t)},e.s40be=function(t){return new m(5,t)},e.s48be=function(t){return new m(6,t)},e.ns64be=function(t){return new A(t)},e.f32=function(t){return new S(t)},e.f32be=function(t){return new E(t)},e.f64=function(t){return new k(t)},e.f64be=function(t){return new T(t)},e.struct=function(t,e,n){return new x(t,e,n)},e.bits=function(t,e,n){return new D(t,e,n)},e.seq=function(t,e,n){return new I(t,e,n)},e.union=function(t,e,n){return new B(t,e,n)},e.unionLayoutDiscriminator=function(t,e){return new M(t,e)},e.blob=function(t,e){return new U(t,e)},e.cstr=function(t){return new N(t)},e.utf8=function(t,e){return new z(t,e)},e.constant=function(t,e){return new j(t,e)}},756:function(t,e,n){"use strict";const r=n(9742),i=n(645),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.lW=u,e.h2=50;const a=2147483647;function s(t){if(t>a)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,n){if("number"===typeof t){if("string"===typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return d(t)}return c(t,e,n)}function c(t,e,n){if("string"===typeof t)return function(t,e){"string"===typeof e&&""!==e||(e="utf8");if(!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|m(t,e);let r=s(n);const i=r.write(t,e);i!==n&&(r=r.slice(0,i));return r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(X(t,Uint8Array)){const e=new Uint8Array(t);return h(e.buffer,e.byteOffset,e.byteLength)}return f(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(X(t,ArrayBuffer)||t&&X(t.buffer,ArrayBuffer))return h(t,e,n);if("undefined"!==typeof SharedArrayBuffer&&(X(t,SharedArrayBuffer)||t&&X(t.buffer,SharedArrayBuffer)))return h(t,e,n);if("number"===typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return u.from(r,e,n);const i=function(t){if(u.isBuffer(t)){const e=0|p(t.length),n=s(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!==typeof t.length||Y(t.length)?s(0):f(t);if("Buffer"===t.type&&Array.isArray(t.data))return f(t.data)}(t);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!==typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function d(t){return l(t),s(t<0?0:0|p(t))}function f(t){const e=t.length<0?0:0|p(t.length),n=s(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function h(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,u.prototype),r}function p(t){if(t>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|t}function m(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||X(t,ArrayBuffer))return t.byteLength;if("string"!==typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return G(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(t).length;default:if(i)return r?-1:G(t).length;e=(""+e).toLowerCase(),i=!0}}function y(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return x(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Y(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:w(t,e,n,r,i);if("number"===typeof e)return e&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):w(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,n,r,i){let o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){let r=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===u)return r*a}else-1!==r&&(o-=o-r),r=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){let n=!0;for(let r=0;r<u;r++)if(c(t,o+r)!==c(e,r)){n=!1;break}if(n)return o}return-1}function b(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=e.length;let a;for(r>o/2&&(r=o/2),a=0;a<r;++a){const r=parseInt(e.substr(2*a,2),16);if(Y(r))return a;t[n+a]=r}return a}function _(t,e,n,r){return H(G(e,t.length-n),t,n,r)}function A(t,e,n,r){return H(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function S(t,e,n,r){return H(W(e),t,n,r)}function E(t,e,n,r){return H(function(t,e){let n,r,i;const o=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function k(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let o=null,a=e>239?4:e>223?3:e>191?2:1;if(i+a<=n){let n,r,s,u;switch(a){case 1:e<128&&(o=e);break;case 2:n=t[i+1],128===(192&n)&&(u=(31&e)<<6|63&n,u>127&&(o=u));break;case 3:n=t[i+1],r=t[i+2],128===(192&n)&&128===(192&r)&&(u=(15&e)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:n=t[i+1],r=t[i+2],s=t[i+3],128===(192&n)&&128===(192&r)&&128===(192&s)&&(u=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&s,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=a}return function(t){const e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=I));return n}(r)}u.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,n){return c(t,e,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,n){return function(t,e,n){return l(t),t<=0?s(t):void 0!==e?"string"===typeof n?s(t).fill(e,n):s(t).fill(e):s(t)}(t,e,n)},u.allocUnsafe=function(t){return d(t)},u.allocUnsafeSlow=function(t){return d(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(X(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=u.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(X(e,Uint8Array))i+e.length>r.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?T(this,0,t):y.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const n=e.h2;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(t,e,n,r,i){if(X(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0);const s=Math.min(o,a),c=this.slice(r,i),l=t.slice(e,n);for(let u=0;u<s;++u)if(c[u]!==l[u]){o=c[u],a=l[u];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":case"latin1":case"binary":return A(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function x(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function P(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function M(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let o=e;o<n;++o)i+=J[t[o]];return i}function B(t,e,n){const r=t.slice(e,n);let i="";for(let o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function O(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r,i){q(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,n}function C(t,e,n,r,i){q(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=a,a>>=8,t[n+2]=a,a>>=8,t[n+1]=a,a>>=8,t[n]=a,n+8}function R(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,o){return e=+e,n>>>=0,o||R(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function N(t,e,n,r,o){return e=+e,n>>>=0,o||R(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=Z((function(t){K(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||V(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Z((function(t){K(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||V(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||O(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||O(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){t>>>=0,e||O(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=Z((function(t){K(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||V(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=Z((function(t){K(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||V(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||O(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||O(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||O(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||O(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){L(this,t,e,n,Math.pow(2,8*n)-1,0)}let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){L(this,t,e,n,Math.pow(2,8*n)-1,0)}let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=Z((function(t,e=0){return D(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Z((function(t,e=0){return C(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,t,e,n,r-1,-r)}let i=0,o=1,a=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/o>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,t,e,n,r-1,-r)}let i=n-1,o=1,a=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/o>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=Z((function(t,e=0){return D(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Z((function(t,e=0){return C(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},u.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"===typeof t?t&=255:"boolean"===typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(i=e;i<n;++i)this[i]=t;else{const o=u.isBuffer(t)?t:u.from(t,r),a=o.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%a]}return this};const z={};function j(t,e,n){z[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function F(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function q(t,e,n,r,i,o){if(t>n||t<e){const r="bigint"===typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new z.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){K(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||V(e,t.length-(n+1))}(r,i,o)}function K(t,e){if("number"!==typeof t)throw new z.ERR_INVALID_ARG_TYPE(e,"number",t)}function V(t,e,n){if(Math.floor(t)!==t)throw K(t,n),new z.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new z.ERR_BUFFER_OUT_OF_BOUNDS;throw new z.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}j("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),j("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),j("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=F(String(n)):"bigint"===typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const $=/[^+/0-9A-Za-z-_]/g;function G(t,e){let n;e=e||1/0;const r=t.length;let i=null;const o=[];for(let a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace($,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function H(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function X(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Y(t){return t!==t}const J=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function Z(t){return"undefined"===typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},551:function(t,e,n){"use strict";var r=n(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeUnchecked=e.deserialize=e.serialize=e.BinaryReader=e.BinaryWriter=e.BorshError=e.baseDecode=e.baseEncode=void 0;const c=u(n(3550)),l=u(n(7191)),d=s(n(1127)),f=new("function"!==typeof n.g.TextDecoder?d.TextDecoder:n.g.TextDecoder)("utf-8",{fatal:!0});e.baseEncode=function(t){return"string"===typeof t&&(t=r.from(t,"utf8")),l.default.encode(r.from(t))},e.baseDecode=function(t){return r.from(l.default.decode(t))};const h=1024;class p extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}e.BorshError=p;class m{constructor(){this.buf=r.alloc(h),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=r.concat([this.buf,r.alloc(h)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(r.from(new c.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(r.from(new c.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(r.from(new c.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(r.from(new c.default(t).toArray("le",64)))}writeBuffer(t){this.buf=r.concat([r.from(this.buf.subarray(0,this.length)),t,r.alloc(h)]),this.length+=t.length}writeString(t){this.maybeResize();const e=r.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(r.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}}function y(t,e,n){const r=n.value;n.value=function(...t){try{return r.apply(this,t)}catch(e){if(e instanceof RangeError){const t=e.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(t)>=0)throw new p("Reached the end of buffer when deserializing")}throw e}}}e.BinaryWriter=m;class g{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new c.default(t,"le")}readU128(){const t=this.readBuffer(16);return new c.default(t,"le")}readU256(){const t=this.readBuffer(32);return new c.default(t,"le")}readU512(){const t=this.readBuffer(64);return new c.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new p(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return f.decode(e)}catch(n){throw new p(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),n=Array();for(let r=0;r<e;++r)n.push(t());return n}}function v(t){return t.charAt(0).toUpperCase()+t.slice(1)}function w(t,e,n,r,i){try{if("string"===typeof r)i[`write${v(r)}`](n);else if(r instanceof Array)if("number"===typeof r[0]){if(n.length!==r[0])throw new p(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else i.writeArray(n,(n=>{w(t,e,n,r[0],i)}));else if(void 0!==r.kind)switch(r.kind){case"option":null===n||void 0===n?i.writeU8(0):(i.writeU8(1),w(t,e,n,r.type,i));break;default:throw new p(`FieldType ${r} unrecognized`)}else b(t,n,i)}catch(o){throw o instanceof p&&o.addToFieldPath(e),o}}function b(t,e,n){const r=t.get(e.constructor);if(!r)throw new p(`Class ${e.constructor.name} is missing in schema`);if("struct"===r.kind)r.fields.map((([r,i])=>{w(t,r,e[r],i,n)}));else{if("enum"!==r.kind)throw new p(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`);{const i=e[r.field];for(let o=0;o<r.values.length;++o){const[a,s]=r.values[o];if(a===i){n.writeU8(o),w(t,a,e[a],s,n);break}}}}}function _(t,e,n,r){try{if("string"===typeof n)return r[`read${v(n)}`]();if(n instanceof Array)return"number"===typeof n[0]?r.readFixedArray(n[0]):r.readArray((()=>_(t,e,n[0],r)));if("option"===n.kind){return r.readU8()?_(t,e,n.type,r):void 0}return A(t,n,r)}catch(i){throw i instanceof p&&i.addToFieldPath(e),i}}function A(t,e,n){const r=t.get(e);if(!r)throw new p(`Class ${e.name} is missing in schema`);if("struct"===r.kind){const r={};for(const[i,o]of t.get(e).fields)r[i]=_(t,i,o,n);return new e(r)}if("enum"===r.kind){const i=n.readU8();if(i>=r.values.length)throw new p(`Enum index: ${i} is out of range`);const[o,a]=r.values[i];return new e({[o]:_(t,o,a,n)})}throw new p(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}a([y],g.prototype,"readU8",null),a([y],g.prototype,"readU16",null),a([y],g.prototype,"readU32",null),a([y],g.prototype,"readU64",null),a([y],g.prototype,"readU128",null),a([y],g.prototype,"readU256",null),a([y],g.prototype,"readU512",null),a([y],g.prototype,"readString",null),a([y],g.prototype,"readFixedArray",null),a([y],g.prototype,"readArray",null),e.BinaryReader=g,e.serialize=function(t,e){const n=new m;return b(t,e,n),n.toArray()},e.deserialize=function(t,e,n){const r=new g(n),i=A(t,e,r);if(r.offset<n.length)throw new p(`Unexpected ${n.length-r.offset} bytes after deserialized data`);return i},e.deserializeUnchecked=function(t,e,n){return A(t,e,new g(n))}},9210:function(t,e,n){"use strict";n.d(e,{iA:function(){return b},ry:function(){return l},IB:function(){return y},gE:function(){return d},lF:function(){return w},_J:function(){return v},xE:function(){return c},jg:function(){return _},YM:function(){return p}});var r=n(9499),i=n.n(r),o=n(3776),a=n.n(o);function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c=i().BigInt(0),l=i().BigInt(1),d=i().BigInt(2);function f(t){return i().GE(t,c)?t:i().unaryMinus(t)}function h(t){return t.reduce((function(t,e){return i().add(t,e)}),c)}function p(t,e){return void 0===e&&(e=0),new(a())(t.toString()).div(new(a())(10).pow(e))}var m=function(){function t(t,e,n){this.numberOfCurrencies=void 0,this.amplificationFactor=void 0,this.targetPrices=void 0,this.numberOfCurrencies=t,this.amplificationFactor=e,this.targetPrices=n}var e=t.prototype;return e.exchange=function(t,e,n,r,o){if(void 0===o&&(o=!0),t.length!==i().toNumber(this.numberOfCurrencies))throw new Error("Number of currencies does not match");var a=this.xp(t),s=i().multiply(r,this.targetPrices[e]),u=i().add(a[e],s),c=this.computeY(t,e,n,u),d=i().subtract(a[n],c);return o&&(d=i().subtract(d,l)),i().divide(d,this.targetPrices[n])},e.computeBaseY=function(t,e,n,r){var o=this.computeD(t),s=this.xp(t),u=i().exponentiate(this.numberOfCurrencies,this.numberOfCurrencies),c=h(s),d=s.reduce((function(t,e){return i().multiply(t,e)}),l),f=i().subtract(i().add(i().multiply(i().multiply(this.amplificationFactor,u),c),o),i().multiply(i().multiply(this.amplificationFactor,o),u)),p=i().multiply(i().multiply(i().multiply(this.amplificationFactor,u),u),d),m=i().multiply(i().multiply(u,d),f),y=i().add(p,i().divide(m,s[e])),g=i().add(p,i().divide(m,s[n])),v=Math.log10(i().toNumber(this.targetPrices[e])),w=Math.log10(i().toNumber(this.targetPrices[n])),b=Math.abs(w-v);return v>=w?i().BigInt(new(a())(y.toString()).mul(new(a())(r.toString())).div(new(a())(g.toString())).mul(Math.pow(10,b)).floor().toString()):i().BigInt(new(a())(y.toString()).mul(new(a())(r.toString())).div(new(a())(g.toString())).div(Math.pow(10,b)).floor().toString())},e.computeY=function(t,e,n,r){var o=this.computeD(t),a=this.xp(t);a[e]=r,a.splice(n,1);for(var s,p=i().multiply(this.amplificationFactor,this.numberOfCurrencies),m=o,y=u(a);!(s=y()).done;){var g=s.value;m=i().divide(i().multiply(m,o),i().multiply(g,this.numberOfCurrencies))}m=i().divide(i().multiply(m,o),i().multiply(this.numberOfCurrencies,p));for(var v=i().subtract(i().add(h(a),i().divide(o,p)),o),w=c,b=o;i().greaterThan(f(i().subtract(b,w)),l);)w=b,b=i().divide(i().add(i().exponentiate(b,d),m),i().add(i().multiply(d,b),v));return b},e.computeD=function(t){for(var e=c,n=this.xp(t),r=h(n),o=r,a=i().multiply(this.amplificationFactor,this.numberOfCurrencies);i().greaterThan(f(i().subtract(o,e)),l);){for(var s,d=o,p=u(n);!(s=p()).done;){var m=s.value;d=i().divide(i().multiply(d,o),i().multiply(this.numberOfCurrencies,m))}e=o;var y=i().multiply(i().add(i().multiply(a,r),i().multiply(d,this.numberOfCurrencies)),o),g=i().add(i().multiply(i().subtract(a,l),o),i().multiply(i().add(this.numberOfCurrencies,l),d));o=i().divide(y,g)}return o},e.xp=function(t){var e=this;return t.map((function(t,n){return i().multiply(t,e.targetPrices[n])}))},e.setAmplificationFactor=function(t){this.amplificationFactor=t},t}(),y=function(){function t(t,e,n,r){this.targetPrices=void 0,this.traderFee=void 0,this.curve=void 0,this.targetPrices=n,this.traderFee=r,this.curve=new m(t,e,this.targetPrices)}var e=t.prototype;return e.exchange=function(t,e,n,r){var o=this.getOutputAmount(t,e,n,r),a=this.getFees(o),s=i().subtract(o,a);return{priceImpact:this.getPriceImpact(t,e,s,n,r),fees:a,expectedOutputAmount:s}},e.getPriceImpact=function(t,e,n,r,o){if(i().equal(e,c)||i().equal(t[r],c)||i().equal(t[o],c))return new(a())(0);var s=p(this.getOutputAmountWithNoSlippage(t,e,r,o)),u=p(n);return s.sub(u).div(s)},e.getFees=function(t){return i().equal(this.traderFee.numerator,c)?c:i().divide(i().multiply(t,this.traderFee.numerator),this.traderFee.denominator)},e.getOutputAmount=function(t,e,n,r){return this.curve.exchange(t,n,r,e)},e.getOutputAmountWithNoSlippage=function(t,e,n,r){return this.curve.computeBaseY(t,n,r,e)},e.setAmp=function(t){this.curve.setAmplificationFactor(t)},t}();function g(t,e){if(i().equal(e.numerator,c)||i().equal(t,c))return c;var n=i().divide(i().multiply(t,e.numerator),e.denominator);return i().equal(n,c)?l:n}var v=function(){function t(t,e,n){this.traderFee=void 0,this.ownerFee=void 0,this.curve=void 0,this.traderFee=e,this.ownerFee=n,this.curve=new m(d,t,[l,l])}var e=t.prototype;return e.exchange=function(t,e,n){var r=0===n?1:0,i=this.getExpectedOutputAmount(t,e,r,n);return{priceImpact:this.getPriceImpact(t,e,i,r,n),fees:this.getFees(e),expectedOutputAmount:i}},e.getPriceImpact=function(t,e,n,r,o){if(i().equal(e,c)||i().equal(t[r],c)||i().equal(t[o],c))return new(a())(0);var s=p(this.getExpectedOutputAmountWithNoSlippage(t,e,r,o)),u=p(n);return s.sub(u).div(s)},e.getFees=function(t){var e=g(t,this.traderFee),n=g(t,this.ownerFee);return i().add(e,n)},e.getExpectedOutputAmount=function(t,e,n,r){var i=this.getInputAmountLessFees(e);return this.getOutputAmount(t,i,n,r)},e.getExpectedOutputAmountWithNoSlippage=function(t,e,n,r){var i=this.getInputAmountLessFees(e);return this.getOutputAmountWithNoSlippage(t,i,n,r)},e.getInputAmountLessFees=function(t){return i().subtract(t,this.getFees(t))},e.getOutputAmount=function(t,e,n,r){return this.curve.exchange(t,n,r,e,!1)},e.getOutputAmountWithNoSlippage=function(t,e,n,r){return this.curve.computeBaseY(t,n,r,e)},t}(),w=function(){function t(t,e,n){void 0===n&&(n=!0),this.traderFee=void 0,this.ownerFee=void 0,this.feesOnInput=void 0,this.traderFee=t,this.ownerFee=e,this.feesOnInput=n}var e=t.prototype;return e.exchange=function(t,e,n){var r=0===n?1:0,i=this.feesOnInput?this.getAmountLessFees(e):e,o=this.getExpectedOutputAmount(t,i,r,n),a=this.getFees(this.feesOnInput?e:o);return this.feesOnInput||(o=this.getAmountLessFees(o)),{priceImpact:this.getPriceImpact(t,i,o,r,n),fees:a,expectedOutputAmount:o}},e.getPriceImpact=function(t,e,n,r,o){if(i().equal(e,c)||i().equal(t[r],c)||i().equal(t[o],c))return new(a())(0);var s=p(this.getExpectedOutputAmountWithNoSlippage(t,e,r,o)),u=p(n);return s.sub(u).div(s)},e.getFees=function(t){var e=g(t,this.traderFee),n=g(t,this.ownerFee);return i().add(e,n)},e.getExpectedOutputAmount=function(t,e,n,r){return this.getOutputAmount(t,e,n,r)},e.getExpectedOutputAmountWithNoSlippage=function(t,e,n,r){if(i().equal(t[n],c))return t[r];var o=i().divide(i().multiply(e,t[r]),t[n]);return this.feesOnInput?o:this.getAmountLessFees(o)},e.getAmountLessFees=function(t){return i().subtract(t,this.getFees(t))},e.getOutputAmount=function(t,e,n,r){var o=[t[n],t[r]],a=o[0],s=o[1],u=function(t,e){var n=i().divide(t,e);if(i().equal(n,c))return[c,c];var r=i().remainder(t,e);return i().greaterThan(r,c)&&(n=i().add(n,l),e=i().divide(t,n),r=i().remainder(t,n),i().greaterThan(r,c)&&(e=i().add(e,l))),[n,e]}(this.getInvariant(t),i().add(a,e))[0];return i().subtract(s,u)},e.getInvariant=function(t){return i().multiply(t[0],t[1])},t}(),b=function(t,e){this.numerator=void 0,this.denominator=void 0,this.numerator=t,this.denominator=e},_=new b(i().BigInt(0),i().BigInt(1))},5591:function(t,e,n){"use strict";n.d(e,{d2:function(){return u},OO:function(){return c}});var r=n(7294),i=n(4288);const o="INITIALIZE_ERROR",a="ROUTES_ERROR";const s=(0,r.createContext)(null),u=({connection:t,cluster:e,userPublicKey:n,children:a,platformFeeAndAccounts:u,quoteMintToReferrer:c,routeCacheDuration:l,marketUrl:d,restrictIntermediateTokens:f,onlyDirectRoutes:h})=>{const[p,m]=(0,r.useState)(),[y,g]=(0,r.useState)(),v=((0,r.useEffect)((()=>{(async()=>{try{var r=await i.KB.load({connection:t,cluster:e,user:n,platformFeeAndAccounts:u,routeCacheDuration:l,quoteMintToReferrer:c,marketUrl:d,restrictIntermediateTokens:f});m(r)}catch(r){throw console.error(r),g(o),r}})()}),[t,e,f]),(0,r.useEffect)((()=>{p&&n&&p.setUserPublicKey(n)}),[p,n]),(0,r.useMemo)((()=>{let t=new Map;return p?p.getRouteMap(h):t}),[p,h]));var w=(0,r.useMemo)((()=>Array.from(v.keys())),[v]);return r.createElement(s.Provider,{value:{jupiter:p,allTokenMints:w,connection:t,cluster:e,routeMap:v,error:y,setError:g,routeCacheDuration:l,onlyDirectRoutes:h}},a)},c=({amount:t,inputMint:e,outputMint:n,slippage:i,debounceTime:u=250})=>{var c=(0,r.useContext)(s);const[l,d]=(0,r.useState)(!1),[f,h]=(0,r.useState)(),[p,m]=(0,r.useState)(0),y=(0,r.useRef)(p),[g,v,w]=function(t,e){const[n,i]=(0,r.useState)(t);return(0,r.useEffect)((()=>{const n=setTimeout((()=>{i(t)}),e);return()=>{clearTimeout(n)}}),[t,e]),n}(r.useMemo((()=>[t,e,n]),[t,null==e?void 0:e.toBase58(),null==n?void 0:n.toBase58()]),u),b=(0,r.useRef)(0),_=(0,r.useRef)(0);if(!c)throw new Error("JupiterProvider is required");const{routeMap:A,allTokenMints:S,jupiter:E,error:k,setError:T,routeCacheDuration:I=0,onlyDirectRoutes:x}=c;return(0,r.useEffect)((()=>{y.current=-1}),[[null===v||void 0===v?void 0:v.toString(),null===w||void 0===w?void 0:w.toString()].sort().join("-"),i]),(0,r.useEffect)((()=>{b.current&&(new Date).getTime()-b.current>=I&&(y.current=-1),g&&p!==y.current&&d(!0)}),[p,g,i,v,w,x]),(0,r.useEffect)((()=>{if(E)if(g&&k!==o){if(g&&v&&w&&A){let t=(new Date).getTime();_.current=t,E.computeRoutes({inputMint:v,outputMint:w,inputAmount:g,slippage:i,forceFetch:p!==y.current,onlyDirectRoutes:x}).then((({routesInfos:e,cached:n})=>{_.current===t&&(h(e),T(void 0),n||(b.current=(new Date).getTime()))})).catch((e=>{console.error(e),_.current===t&&(h(void 0),T(a))})).finally((()=>{_.current===t&&(y.current=p,d(!1))}))}}else h(void 0)}),[E,g,v,w,i,p,x]),u=(0,r.useCallback)((async({wallet:t,routeInfo:e,onTransaction:n})=>{if(k)throw new Error(k);if(!E)throw new Error("Jupiter not initialized");if(null==t||!t.publicKey)throw new Error("Wallet not connected");if(!e)throw new Error("Invalid state, impossible to build transaction");const r=(await E.exchange({routeInfo:e})).execute;return await r({wallet:t,onTransaction:n})}),[E]),{allTokenMints:S,routeMap:A,exchange:u,refresh:()=>{!l&&b.current&&m((t=>t+1))},lastRefreshTimestamp:b.current,loading:l,routes:f,error:k}}},2303:function(t,e,n){n(545)},7392:function(t,e,n){"use strict";var r=n(7138),i=n(6544),o=n(9877),a=n(854),s=n(7348),u=n(6313),c=n(2377),l=n(3119),d=n(2217),f=n(2801);t.exports=function(t){return new Promise((function(e,n){var h,p=t.data,m=t.headers,y=t.responseType;function g(){t.cancelToken&&t.cancelToken.unsubscribe(h),t.signal&&t.signal.removeEventListener("abort",h)}r.isFormData(p)&&delete m["Content-Type"];var v=new XMLHttpRequest;if(t.auth){var w=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";m.Authorization="Basic "+btoa(w+":"+b)}var _=s(t.baseURL,t.url);function A(){if(v){var r="getAllResponseHeaders"in v?u(v.getAllResponseHeaders()):null,o={data:y&&"text"!==y&&"json"!==y?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:r,config:t,request:v};i((function(t){e(t),g()}),(function(t){n(t),g()}),o),v=null}}if(v.open(t.method.toUpperCase(),a(_,t.params,t.paramsSerializer),!0),v.timeout=t.timeout,"onloadend"in v?v.onloadend=A:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(A)},v.onabort=function(){v&&(n(l("Request aborted",t,"ECONNABORTED",v)),v=null)},v.onerror=function(){n(l("Network Error",t,null,v)),v=null},v.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",r=t.transitional||d.transitional;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(l(e,t,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",v)),v=null},r.isStandardBrowserEnv()){var S=(t.withCredentials||c(_))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;S&&(m[t.xsrfHeaderName]=S)}"setRequestHeader"in v&&r.forEach(m,(function(t,e){"undefined"===typeof p&&"content-type"===e.toLowerCase()?delete m[e]:v.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(v.withCredentials=!!t.withCredentials),y&&"json"!==y&&(v.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&v.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(h=function(t){v&&(n(!t||t&&t.type?new f("canceled"):t),v.abort(),v=null)},t.cancelToken&&t.cancelToken.subscribe(h),t.signal&&(t.signal.aborted?h():t.signal.addEventListener("abort",h))),p||(p=null),v.send(p)}))}},545:function(t,e,n){"use strict";var r=n(7138),i=n(9956),o=n(1898),a=n(9195);var s=function t(e){var n=new o(e),s=i(o.prototype.request,n);return r.extend(s,o.prototype,n),r.extend(s,n),s.create=function(n){return t(a(e,n))},s}(n(2217));s.Axios=o,s.Cancel=n(2801),s.CancelToken=n(4507),s.isCancel=n(9089),s.VERSION=n(3313).version,s.all=function(t){return Promise.all(t)},s.spread=n(4940),s.isAxiosError=n(2788),t.exports=s,t.exports.default=s},2801:function(t){"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},4507:function(t,e,n){"use strict";var r=n(2801);function i(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;this.promise.then((function(t){if(n._listeners){var e,r=n._listeners.length;for(e=0;e<r;e++)n._listeners[e](t);n._listeners=null}})),this.promise.then=function(t){var e,r=new Promise((function(t){n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},i.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},9089:function(t){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},1898:function(t,e,n){"use strict";var r=n(7138),i=n(854),o=n(9469),a=n(428),s=n(9195),u=n(1762),c=u.validators;function l(t){this.defaults=t,this.interceptors={request:new o,response:new o}}l.prototype.request=function(t,e){if("string"===typeof t?(e=e||{}).url=t:e=t||{},!e.url)throw new Error("Provided config url is not valid");(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var o,l=[];if(this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)})),!i){var d=[a,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(l),o=Promise.resolve(e);d.length;)o=o.then(d.shift(),d.shift());return o}for(var f=e;r.length;){var h=r.shift(),p=r.shift();try{f=h(f)}catch(m){p(m);break}}try{o=a(f)}catch(m){return Promise.reject(m)}for(;l.length;)o=o.then(l.shift(),l.shift());return o},l.prototype.getUri=function(t){if(!t.url)throw new Error("Provided config url is not valid");return t=s(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){l.prototype[t]=function(e,n){return this.request(s(n||{},{method:t,url:e,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){l.prototype[t]=function(e,n,r){return this.request(s(r||{},{method:t,url:e,data:n}))}})),t.exports=l},9469:function(t,e,n){"use strict";var r=n(7138);function i(){this.handlers=[]}i.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},7348:function(t,e,n){"use strict";var r=n(7997),i=n(7230);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},3119:function(t,e,n){"use strict";var r=n(7916);t.exports=function(t,e,n,i,o){var a=new Error(t);return r(a,e,n,i,o)}},428:function(t,e,n){"use strict";var r=n(7138),i=n(7615),o=n(9089),a=n(2217),s=n(2801);function u(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new s("canceled")}t.exports=function(t){return u(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return u(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(u(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},7916:function(t){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}},9195:function(t,e,n){"use strict";var r=n(7138);t.exports=function(t,e){e=e||{};var n={};function i(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function o(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(t[n],e[n])}function a(t){if(!r.isUndefined(e[t]))return i(void 0,e[t])}function s(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(void 0,e[n])}function u(n){return n in e?i(t[n],e[n]):n in t?i(void 0,t[n]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=c[t]||o,i=e(t);r.isUndefined(i)&&e!==u||(n[t]=i)})),n}},6544:function(t,e,n){"use strict";var r=n(3119);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},7615:function(t,e,n){"use strict";var r=n(7138),i=n(2217);t.exports=function(t,e,n){var o=this||i;return r.forEach(n,(function(n){t=n.call(o,t,e)})),t}},2217:function(t,e,n){"use strict";var r=n(4155),i=n(7138),o=n(8477),a=n(7916),s={"Content-Type":"application/x-www-form-urlencoded"};function u(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof r&&"[object process]"===Object.prototype.toString.call(r))&&(t=n(7392)),t}(),transformRequest:[function(t,e){return o(e,"Accept"),o(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(u(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)||e&&"application/json"===e["Content-Type"]?(u(e,"application/json"),function(t,e,n){if(i.isString(t))try{return(e||JSON.parse)(t),i.trim(t)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||c.transitional,n=e&&e.silentJSONParsing,r=e&&e.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||r&&i.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(o){if("SyntaxError"===s.name)throw a(s,this,"E_JSON_PARSE");throw s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),i.forEach(["post","put","patch"],(function(t){c.headers[t]=i.merge(s)})),t.exports=c},3313:function(t){t.exports={version:"0.25.0"}},9956:function(t){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},854:function(t,e,n){"use strict";var r=n(7138);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))})))})),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},7230:function(t){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},9877:function(t,e,n){"use strict";var r=n(7138);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},7997:function(t){"use strict";t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},2788:function(t,e,n){"use strict";var r=n(7138);t.exports=function(t){return r.isObject(t)&&!0===t.isAxiosError}},2377:function(t,e,n){"use strict";var r=n(7138);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},8477:function(t,e,n){"use strict";var r=n(7138);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},6313:function(t,e,n){"use strict";var r=n(7138),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},4940:function(t){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},1762:function(t,e,n){"use strict";var r=n(3313).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){i[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var o={};i.transitional=function(t,e,n){function i(t,e){return"[Axios v"+r+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,r,a){if(!1===t)throw new Error(i(r," has been removed"+(e?" in "+e:"")));return e&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,a)}},t.exports={assertOptions:function(t,e,n){if("object"!==typeof t)throw new TypeError("options must be an object");for(var r=Object.keys(t),i=r.length;i-- >0;){var o=r[i],a=e[o];if(a){var s=t[o],u=void 0===s||a(s,o,t);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},7138:function(t,e,n){"use strict";var r=n(9956),i=Object.prototype.toString;function o(t){return Array.isArray(t)}function a(t){return"undefined"===typeof t}function s(t){return"[object ArrayBuffer]"===i.call(t)}function u(t){return null!==t&&"object"===typeof t}function c(t){if("[object Object]"!==i.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function l(t){return"[object Function]"===i.call(t)}function d(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:s,isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"[object FormData]"===i.call(t)},isArrayBufferView:function(t){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&s(t.buffer)},isString:function(t){return"string"===typeof t},isNumber:function(t){return"number"===typeof t},isObject:u,isPlainObject:c,isUndefined:a,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:l,isStream:function(t){return u(t)&&l(t.pipe)},isURLSearchParams:function(t){return"[object URLSearchParams]"===i.call(t)},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:d,merge:function t(){var e={};function n(n,r){c(e[r])&&c(n)?e[r]=t(e[r],n):c(n)?e[r]=t({},n):o(n)?e[r]=n.slice():e[r]=n}for(var r=0,i=arguments.length;r<i;r++)d(arguments[r],n);return e},extend:function(t,e,n){return d(e,(function(e,i){t[i]=n&&"function"===typeof e?r(e,n):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},7907:function(t,e,n){"use strict";n.d(e,{qw:function(){return o},nt:function(){return c},nR:function(){return s}});var r=n(4020),i=n(3029);class o extends Error{constructor(t,e,n){super(t),this.txid=void 0,this.code=void 0,this.txid=e,this.code=n,Object.setPrototypeOf(this,Error.prototype)}}const a="Unknown error, visit the explorer";async function s(t){var e;const n=[];if(null!==t&&void 0!==t&&t.meta&&t.meta.logMessages&&t.meta.logMessages.forEach((t=>{const e=/Error: (.*)/gm;let r;for(;null!==(r=e.exec(t));)r.index===e.lastIndex&&e.lastIndex++,r.length>1&&n.push(r[1])})),n.length>0)return{message:n.join(",")};const i=null===t||void 0===t||null===(e=t.meta)||void 0===e?void 0:e.err,o=JSON.stringify(i);let s;if(i&&"string"!==typeof i){var c;const e=i.InstructionError,[n,{Custom:a}]=e;s=a;const d=null===t||void 0===t||null===(c=t.meta)||void 0===c?void 0:c.innerInstructions;var l;if(!d||n>=d.length)return null!==t&&void 0!==t&&t.meta&&t.meta.logMessages&&async function(t){return t.forEach((t=>{if(t.includes("Program 11111111111111111111111111111111 invoke"))return!0})),!1}(null===(l=t.meta)||void 0===l?void 0:l.logMessages)?u(e):{message:o,code:s};const f=d.find((t=>t.index===n));if(!f)return{message:o,code:s};const h=f.instructions[f.instructions.length-1].programIdIndex;if(t.transaction.message.accountKeys[h].equals(r.SystemProgram.programId))return u(e)}return{message:"string"===typeof i?i:a,code:s}}async function u(t){const e=t[1].Custom;let n="";switch(e){case 0:n="An account with the same address already exists";case 1:n="The account does not have enough SOL to perform the operation";default:n=a}return{code:e,message:n}}const c=t=>{if(void 0==t||0==t.length)return;const e=i.AccountLayout.decode(t);return e.mint=new r.PublicKey(e.mint),e.owner=new r.PublicKey(e.owner),e.amount=i.u64.fromBuffer(e.amount),0===e.delegateOption?(e.delegate=null,e.delegatedAmount=new i.u64(0)):(e.delegate=new r.PublicKey(e.delegate),e.delegatedAmount=i.u64.fromBuffer(e.delegatedAmount)),e.isInitialized=0!==e.state,e.isFrozen=2===e.state,1===e.isNativeOption?(e.rentExemptReserve=i.u64.fromBuffer(e.isNative),e.isNative=!0):(e.rentExemptReserve=null,e.isNative=!1),0===e.closeAuthorityOption?e.closeAuthority=null:e.closeAuthority=new r.PublicKey(e.closeAuthority),e}},9910:function(t,e,n){var r=n(4155);const i="object"===typeof performance&&performance&&"function"===typeof performance.now?performance:Date,o="function"===typeof AbortController,a=o?AbortController:class{constructor(){this.signal=new s}abort(){this.signal.dispatchEvent("abort")}},s=o?AbortSignal:class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(t){if("abort"===t){this.aborted=!0;const e={type:t,target:this};this.onabort(e),this._listeners.forEach((t=>t(e)),this)}}onabort(){}addEventListener(t,e){"abort"===t&&this._listeners.push(e)}removeEventListener(t,e){"abort"===t&&(this._listeners=this._listeners.filter((t=>t!==e)))}},u=new Set,c=(t,e)=>{const n=`LRU_CACHE_OPTION_${t}`;f(n)&&h(n,`${t} option`,`options.${e}`,v)},l=(t,e)=>{const n=`LRU_CACHE_METHOD_${t}`;if(f(n)){const{prototype:r}=v,{get:i}=Object.getOwnPropertyDescriptor(r,t);h(n,`${t} method`,`cache.${e}()`,i)}},d=(...t)=>{"object"===typeof r&&r&&"function"===typeof r.emitWarning?r.emitWarning(...t):console.error(...t)},f=t=>!u.has(t),h=(t,e,n,r)=>{u.add(t);d(`The ${e} is deprecated. Please use ${n} instead.`,"DeprecationWarning",t,r)},p=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),m=t=>p(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?y:null:null;class y extends Array{constructor(t){super(t),this.fill(0)}}class g{constructor(t){if(0===t)return[];const e=m(t);this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class v{constructor(t={}){const{max:e=0,ttl:n,ttlResolution:r=1,ttlAutopurge:i,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:s,dispose:l,disposeAfter:h,noDisposeOnSet:y,noUpdateTTL:w,maxSize:b=0,sizeCalculation:_,fetchMethod:A,noDeleteOnFetchRejection:S}=t,{length:E,maxAge:k,stale:T}=t instanceof v?{}:t;if(0!==e&&!p(e))throw new TypeError("max option must be a nonnegative integer");const I=e?m(e):Array;if(!I)throw new Error("invalid max value: "+e);if(this.max=e,this.maxSize=b,this.sizeCalculation=_||E,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if("function"!==typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=A||null,this.fetchMethod&&"function"!==typeof this.fetchMethod)throw new TypeError("fetchMethod must be a function if specified");if(this.keyMap=new Map,this.keyList=new Array(e).fill(null),this.valList=new Array(e).fill(null),this.next=new I(e),this.prev=new I(e),this.head=0,this.tail=0,this.free=new g(e),this.initialFill=1,this.size=0,"function"===typeof l&&(this.dispose=l),"function"===typeof h?(this.disposeAfter=h,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!y,this.noUpdateTTL=!!w,this.noDeleteOnFetchRejection=!!S,0!==this.maxSize){if(!p(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!s||!!T,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=p(r)||0===r?r:1,this.ttlAutopurge=!!i,this.ttl=n||k||0,this.ttl){if(!p(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(0===this.max&&0===this.ttl&&0===this.maxSize)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const t="LRU_CACHE_UNBOUNDED";if(f(t)){u.add(t);d("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,v)}}T&&c("stale","allowStale"),k&&c("maxAge","ttl"),E&&c("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new y(this.max),this.starts=new y(this.max),this.setItemTTL=(t,e)=>{if(this.starts[t]=0!==e?i.now():0,this.ttls[t]=e,0!==e&&this.ttlAutopurge){const n=setTimeout((()=>{this.isStale(t)&&this.delete(this.keyList[t])}),e+1);n.unref&&n.unref()}},this.updateItemAge=t=>{this.starts[t]=0!==this.ttls[t]?i.now():0};let t=0;const e=()=>{const e=i.now();if(this.ttlResolution>0){t=e;const n=setTimeout((()=>t=0),this.ttlResolution);n.unref&&n.unref()}return e};this.getRemainingTTL=n=>{const r=this.keyMap.get(n);return void 0===r?0:0===this.ttls[r]||0===this.starts[r]?1/0:this.starts[r]+this.ttls[r]-(t||e())},this.isStale=n=>0!==this.ttls[n]&&0!==this.starts[n]&&(t||e())-this.starts[n]>this.ttls[n]}updateItemAge(t){}setItemTTL(t,e){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new y(this.max),this.removeItemSize=t=>this.calculatedSize-=this.sizes[t],this.requireSize=(t,e,n,r)=>{if(!p(n)){if(!r)throw new TypeError("invalid size value (must be positive integer)");if("function"!==typeof r)throw new TypeError("sizeCalculation must be a function");if(n=r(e,t),!p(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return n},this.addItemSize=(t,e,n,r)=>{this.sizes[t]=r;const i=this.maxSize-this.sizes[t];for(;this.calculatedSize>i;)this.evict(!0);this.calculatedSize+=this.sizes[t]}}removeItemSize(t){}addItemSize(t,e,n,r){}requireSize(t,e,n,r){if(n||r)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let e=this.tail;this.isValidIndex(e)&&(!t&&this.isStale(e)||(yield e),e!==this.head);)e=this.prev[e]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let e=this.head;this.isValidIndex(e)&&(!t&&this.isStale(e)||(yield e),e!==this.tail);)e=this.next[e]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(const t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(const t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(const t of this.indexes())yield this.keyList[t]}*rkeys(){for(const t of this.rindexes())yield this.keyList[t]}*values(){for(const t of this.indexes())yield this.valList[t]}*rvalues(){for(const t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const n of this.indexes())if(t(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],e)}forEach(t,e=this){for(const n of this.indexes())t.call(e,this.valList[n],this.keyList[n],this)}rforEach(t,e=this){for(const n of this.rindexes())t.call(e,this.valList[n],this.keyList[n],this)}get prune(){return l("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(const e of this.rindexes({allowStale:!0}))this.isStale(e)&&(this.delete(this.keyList[e]),t=!0);return t}dump(){const t=[];for(const e of this.indexes()){const n=this.keyList[e],r={value:this.valList[e]};this.ttls&&(r.ttl=this.ttls[e]),this.sizes&&(r.size=this.sizes[e]),t.unshift([n,r])}return t}load(t){this.clear();for(const[e,n]of t)this.set(e,n.value,n)}dispose(t,e,n){}set(t,e,{ttl:n=this.ttl,noDisposeOnSet:r=this.noDisposeOnSet,size:i=0,sizeCalculation:o=this.sizeCalculation,noUpdateTTL:a=this.noUpdateTTL}={}){i=this.requireSize(t,e,i,o);let s=0===this.size?void 0:this.keyMap.get(t);if(void 0===s)s=this.newIndex(),this.keyList[s]=t,this.valList[s]=e,this.keyMap.set(t,s),this.next[this.tail]=s,this.prev[s]=this.tail,this.tail=s,this.size++,this.addItemSize(s,e,t,i),a=!1;else{const n=this.valList[s];e!==n&&(this.isBackgroundFetch(n)?n.__abortController.abort():r||(this.dispose(n,t,"set"),this.disposeAfter&&this.disposed.push([n,t,"set"])),this.removeItemSize(s),this.valList[s]=e,this.addItemSize(s,e,t,i)),this.moveToTail(s)}if(0===n||0!==this.ttl||this.ttls||this.initializeTTLTracking(),a||this.setItemTTL(s,n),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return 0===this.size?this.tail:this.size===this.max&&0!==this.max?this.evict(!1):0!==this.free.length?this.free.pop():this.initialFill++}pop(){if(this.size){const t=this.valList[this.head];return this.evict(!0),t}}evict(t){const e=this.head,n=this.keyList[e],r=this.valList[e];return this.isBackgroundFetch(r)?r.__abortController.abort():(this.dispose(r,n,"evict"),this.disposeAfter&&this.disposed.push([r,n,"evict"])),this.removeItemSize(e),t&&(this.keyList[e]=null,this.valList[e]=null,this.free.push(e)),this.head=this.next[e],this.keyMap.delete(n),this.size--,e}has(t,{updateAgeOnHas:e=this.updateAgeOnHas}={}){const n=this.keyMap.get(t);return void 0!==n&&!this.isStale(n)&&(e&&this.updateItemAge(n),!0)}peek(t,{allowStale:e=this.allowStale}={}){const n=this.keyMap.get(t);if(void 0!==n&&(e||!this.isStale(n)))return this.valList[n]}backgroundFetch(t,e,n){const r=void 0===e?void 0:this.valList[e];if(this.isBackgroundFetch(r))return r;const i=new a,o={signal:i.signal,options:n},s=new Promise((e=>e(this.fetchMethod(t,r,o)))).then((e=>(i.signal.aborted||this.set(t,e,o.options),e)),(r=>{if(this.valList[e]===s){!n.noDeleteOnFetchRejection||void 0===s.__staleWhileFetching?this.delete(t):this.valList[e]=s.__staleWhileFetching}if(s.__returned===s)throw r}));return s.__abortController=i,s.__staleWhileFetching=r,s.__returned=null,void 0===e?(this.set(t,s,o.options),e=this.keyMap.get(t)):this.valList[e]=s,s}isBackgroundFetch(t){return t&&"object"===typeof t&&"function"===typeof t.then&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||null===t.__returned)}async fetch(t,{allowStale:e=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,ttl:r=this.ttl,noDisposeOnSet:i=this.noDisposeOnSet,size:o=0,sizeCalculation:a=this.sizeCalculation,noUpdateTTL:s=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection}={}){if(!this.fetchMethod)return this.get(t,{allowStale:e,updateAgeOnGet:n});const c={allowStale:e,updateAgeOnGet:n,ttl:r,noDisposeOnSet:i,size:o,sizeCalculation:a,noUpdateTTL:s,noDeleteOnFetchRejection:u};let l=this.keyMap.get(t);if(void 0===l){const e=this.backgroundFetch(t,l,c);return e.__returned=e}{const r=this.valList[l];if(this.isBackgroundFetch(r))return e&&void 0!==r.__staleWhileFetching?r.__staleWhileFetching:r.__returned=r;if(!this.isStale(l))return this.moveToTail(l),n&&this.updateItemAge(l),r;const i=this.backgroundFetch(t,l,c);return e&&void 0!==i.__staleWhileFetching?i.__staleWhileFetching:i.__returned=i}}get(t,{allowStale:e=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet}={}){const r=this.keyMap.get(t);if(void 0!==r){const i=this.valList[r],o=this.isBackgroundFetch(i);if(this.isStale(r))return o?e?i.__staleWhileFetching:void 0:(this.delete(t),e?i:void 0);if(o)return;return this.moveToTail(r),n&&this.updateItemAge(r),i}}connect(t,e){this.prev[e]=t,this.next[t]=e}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return l("del","delete"),this.delete}delete(t){let e=!1;if(0!==this.size){const n=this.keyMap.get(t);if(void 0!==n)if(e=!0,1===this.size)this.clear();else{this.removeItemSize(n);const e=this.valList[n];this.isBackgroundFetch(e)?e.__abortController.abort():(this.dispose(e,t,"delete"),this.disposeAfter&&this.disposed.push([e,t,"delete"])),this.keyMap.delete(t),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return e}clear(){for(const t of this.rindexes({allowStale:!0})){const e=this.valList[t];if(this.isBackgroundFetch(e))e.__abortController.abort();else{const n=this.keyList[t];this.dispose(e,n,"delete"),this.disposeAfter&&this.disposed.push([e,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return l("reset","clear"),this.clear}get length(){return((t,e)=>{const n=`LRU_CACHE_PROPERTY_${t}`;if(f(n)){const{prototype:r}=v,{get:i}=Object.getOwnPropertyDescriptor(r,t);h(n,`${t} property`,`cache.${e}`,i)}})("length","size"),this.size}static get AbortController(){return a}static get AbortSignal(){return s}}t.exports=v},9328:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.PythConnection=void 0;var o=n(5956),a=function(){function t(t,e,n){void 0===n&&(n="finalized"),this.productAccountKeyToProduct={},this.priceAccountKeyToProductAccountKey={},this.callbacks=[],this.connection=t,this.pythProgramKey=e,this.commitment=n}return t.prototype.handleProductAccount=function(t,e){var n=o.parseProductData(e.data),r=n.priceAccountKey,i=(n.type,n.product);this.productAccountKeyToProduct[t.toString()]=i,"11111111111111111111111111111111"!==r.toString()&&(this.priceAccountKeyToProductAccountKey[r.toString()]=t.toString())},t.prototype.handlePriceAccount=function(t,e){var n=this.productAccountKeyToProduct[this.priceAccountKeyToProductAccountKey[t.toString()]];if(void 0===n)throw new Error("Got a price update for an unknown product. This is a bug in the library, please report it to the developers.");for(var r=o.parsePriceData(e.data),i=0,a=this.callbacks;i<a.length;i++){(0,a[i])(n,r)}},t.prototype.handleAccount=function(t,e,n){var r=o.parseBaseData(e.data);if(r)switch(o.AccountType[r.type]){case"Mapping":break;case"Product":this.handleProductAccount(t,e);break;case"Price":n||this.handlePriceAccount(t,e);break;case"Test":break;default:throw new Error("Unknown account type: "+r.type+". Try upgrading pyth-client.")}},t.prototype.start=function(){return r(this,void 0,void 0,(function(){var t,e,n,r,o=this;return i(this,(function(i){switch(i.label){case 0:return[4,this.connection.getProgramAccounts(this.pythProgramKey,this.commitment)];case 1:for(t=i.sent(),e=0,n=t;e<n.length;e++)r=n[e],this.handleAccount(r.pubkey,r.account,!0);return this.connection.onProgramAccountChange(this.pythProgramKey,(function(t,e){o.handleAccount(t.accountId,t.accountInfo,!1)}),this.commitment),[2]}}))}))},t.prototype.onPriceChange=function(t){this.callbacks.push(t)},t.prototype.stop=function(){return r(this,void 0,void 0,(function(){return i(this,(function(t){return this.callbacks=[],[2]}))}))},t}();e.PythConnection=a},3634:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPythProgramKeyForCluster=void 0;var r=n(4020),i={"mainnet-beta":"FsJ3A3u2vn5cTVofAjvy6y5kwABJAqYWpe4975bi2epH",devnet:"gSbePebfvPy7tRqimPoVecS2UsBvYv46ynrzWocc92s",testnet:"8tfDNiaEyrV6Q1U4DEXrEigs9DoDtkugzFbybENEbCDz"};e.getPythProgramKeyForCluster=function(t){if(void 0!==i[t])return new r.PublicKey(i[t]);throw new Error("Invalid Solana cluster name: "+t+". Valid options are: "+JSON.stringify(Object.keys(i)))}},5956:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPythProgramKeyForCluster=e.PythConnection=e.parsePriceData=e.parseProductData=e.parseMappingData=e.parseBaseData=e.MAX_SLOT_DIFFERENCE=e.AccountType=e.DeriveType=e.PriceType=e.CorpAction=e.PriceStatus=e.Version=e.Version2=e.Magic=void 0;var r=n(4020),i=n(8764),o=n(3878);e.Magic=2712847316,e.Version2=2,e.Version=e.Version2,e.PriceStatus=["Unknown","Trading","Halted","Auction"],e.CorpAction=["NoCorpAct"],e.PriceType=["Unknown","Price"],e.DeriveType=["Unknown","TWAP","Volatility"],e.AccountType=["Unknown","Mapping","Product","Price","Test"],e.MAX_SLOT_DIFFERENCE=25;var a=i.Buffer.alloc(32),s=function(t){return t.equals(a)?null:new r.PublicKey(t)};e.parseBaseData=function(t){if(!(t.byteLength<4)){var n=t.readUInt32LE(0);return n===e.Magic?{magic:n,version:t.readUInt32LE(4),type:t.readUInt32LE(8),size:t.readUInt32LE(12)}:void 0}};e.parseMappingData=function(t){for(var e=t.readUInt32LE(0),n=t.readUInt32LE(4),i=t.readUInt32LE(8),o=t.readUInt32LE(12),a=t.readUInt32LE(16),u=s(t.slice(24,56)),c=56,l=[],d=0;d<a;d++){var f=t.slice(c,c+32),h=new r.PublicKey(f);c+=32,l.push(h)}return{magic:e,version:n,type:i,size:o,nextMappingAccount:u,productAccountKeys:l}};e.parseProductData=function(t){for(var e=t.readUInt32LE(0),n=t.readUInt32LE(4),i=t.readUInt32LE(8),o=t.readUInt32LE(12),a=t.slice(16,48),s=new r.PublicKey(a),u={},c=48;c<o;){var l=t[c];if(c++,l){var d=t.slice(c,c+l).toString(),f=t[c+=l];c++;var h=t.slice(c,c+f).toString();c+=f,u[d]=h}}return{magic:e,version:n,type:i,size:o,priceAccountKey:s,product:u}};var u=function(t,e){var n=o.readBigInt64LE(t,0);return{valueComponent:n,value:Number(n)*Math.pow(10,e),numerator:o.readBigInt64LE(t,8),denominator:o.readBigInt64LE(t,16)}},c=function(t,e){var n=o.readBigInt64LE(t,0),r=Number(n)*Math.pow(10,e),i=o.readBigUInt64LE(t,8);return{priceComponent:n,price:r,confidenceComponent:i,confidence:Number(i)*Math.pow(10,e),status:t.readUInt32LE(16),corporateAction:t.readUInt32LE(20),publishSlot:o.readBigUInt64LE(t,24)}};e.parsePriceData=function(t){var e,n,i=t.readUInt32LE(0),a=t.readUInt32LE(4),l=t.readUInt32LE(8),d=t.readUInt32LE(12),f=t.readUInt32LE(16),h=t.readInt32LE(20),p=t.readUInt32LE(24),m=t.readUInt32LE(28),y=o.readBigUInt64LE(t,32),g=o.readBigUInt64LE(t,40),v=u(t.slice(48,72),h),w=u(t.slice(72,96),h),b=o.readBigInt64LE(t,96),_=Number(b)*Math.pow(10,h),A=t.readUInt8(104),S=t.readInt8(105),E=t.readInt16LE(106),k=t.readInt32LE(108),T=new r.PublicKey(t.slice(112,144)),I=s(t.slice(144,176)),x=o.readBigUInt64LE(t,176),P=o.readBigInt64LE(t,184),M=Number(P)*Math.pow(10,h),B=o.readBigUInt64LE(t,192),O=Number(B)*Math.pow(10,h),L=o.readBigInt64LE(t,200),D=Number(L)*Math.pow(10,h),C=c(t.slice(208,240),h);1===C.status&&(e=C.price,n=C.confidence);for(var R=[],U=240,N=!0;U<t.length&&N;){var z=s(t.slice(U,U+32));if(U+=32,z){var j=c(t.slice(U,U+32),h);U+=32;var F=c(t.slice(U,U+32),h);U+=32,R.push({publisher:z,aggregate:j,latest:F})}else N=!1}return{magic:i,version:a,type:l,size:d,priceType:f,exponent:h,numComponentPrices:p,numQuoters:m,lastSlot:y,validSlot:g,twap:v,twac:w,drv1Component:b,drv1:_,minPublishers:A,drv2:S,drv3:E,drv4:k,productAccountKey:T,nextPriceAccountKey:I,previousSlot:x,previousPriceComponent:P,previousPrice:M,previousConfidenceComponent:B,previousConfidence:O,drv5Component:L,drv5:D,aggregate:C,priceComponents:R,price:e,confidence:n}};var l=n(9328);Object.defineProperty(e,"PythConnection",{enumerable:!0,get:function(){return l.PythConnection}});var d=n(3634);Object.defineProperty(e,"getPythProgramKeyForCluster",{enumerable:!0,get:function(){return d.getPythProgramKeyForCluster}})},3878:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readBigUInt64LE=e.readBigInt64LE=void 0;var n=function(t,e,n){return new Error('The value of "'+t+" is out of range. It must be "+e+". Received "+n)};function r(t,e){if("number"!==typeof t)throw function(t,e,n){return new Error('The "'+t+'" argument must be of type '+e+". Received "+n)}(e,"number",t)}function i(t,e){if(Math.floor(t)!==t)throw r(t,"offset"),n("offset","an integer",t);if(e<0)throw new Error("Attempt to access memory outside buffer bounds");throw n("offset",">= 0 and <= "+e,t)}e.readBigInt64LE=function(t,e){void 0===e&&(e=0),r(e,"offset");var n=t[e],o=t[e+7];void 0!==n&&void 0!==o||i(e,t.length-8);var a=t[e+4]+t[e+5]*Math.pow(2,8)+t[e+6]*Math.pow(2,16)+(o<<24);return(BigInt(a)<<BigInt(32))+BigInt(n+t[++e]*Math.pow(2,8)+t[++e]*Math.pow(2,16)+t[++e]*Math.pow(2,24))},e.readBigUInt64LE=function(t,e){void 0===e&&(e=0),r(e,"offset");var n=t[e],o=t[e+7];void 0!==n&&void 0!==o||i(e,t.length-8);var a=n+t[++e]*Math.pow(2,8)+t[++e]*Math.pow(2,16)+t[++e]*Math.pow(2,24),s=t[++e]+t[++e]*Math.pow(2,8)+t[++e]*Math.pow(2,16)+o*Math.pow(2,24);return BigInt(a)+(BigInt(s)<<BigInt(32))}},8202:function(t,e,n){"use strict";n.d(e,{rb:function(){return W},qp:function(){return vt},sh:function(){return bt}});var r=n(4020),i=n(9386);i.n_([i.u8("instruction"),i.Jq("units"),i.Jq("additionalFee")]),i.n_([i.u8("instruction"),i.Jq("bytes")]);n(8764).Buffer;new r.PublicKey("ComputeBudget111111111111111111111111111111");var o=n(3550),a=n.n(o);n(8764).Buffer;new r.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr");n(4155);Error;Error;new r.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");r.SystemProgram.programId;new Map([["GenericError","generic instruction error"],["InvalidArgument","invalid program argument"],["InvalidInstructionData","invalid instruction data"],["InvalidAccountData","invalid account data for instruction"],["AccountDataTooSmall","account data too small for instruction"],["InsufficientFunds","insufficient funds for instruction"],["IncorrectProgramId","incorrect program id for instruction"],["MissingRequiredSignature","missing required signature for instruction"],["AccountAlreadyInitialized","instruction requires an uninitialized account"],["UninitializedAccount","instruction requires an initialized account"],["UnbalancedInstruction","sum of account balances before and after instruction do not match"],["ModifiedProgramId","instruction modified the program id of an account"],["ExternalAccountLamportSpend","instruction spent from the balance of an account it does not own"],["ExternalAccountDataModified","instruction modified data of an account it does not own"],["ReadonlyLamportChange","instruction changed the balance of a read-only account"],["ReadonlyDataModified","instruction modified data of a read-only account"],["DuplicateAccountIndex","instruction contains duplicate accounts"],["ExecutableModified","instruction changed executable bit of an account"],["RentEpochModified","instruction modified rent epoch of an account"],["NotEnoughAccountKeys","insufficient account keys for instruction"],["AccountDataSizeChanged","non-system instruction changed account size"],["AccountNotExecutable","instruction expected an executable account"],["AccountBorrowFailed","instruction tries to borrow reference for an account which is already borrowed"],["AccountBorrowOutstanding","instruction left account with an outstanding borrowed reference"],["DuplicateAccountOutOfSync","instruction modifications of multiply-passed account differ"],["Custom","custom program error: {0}"],["InvalidError","program returned invalid error code"],["ExecutableDataModified","instruction changed executable accounts data"],["ExecutableLamportChange","instruction changed the balance of a executable account"],["ExecutableAccountNotRentExempt","executable accounts must be rent exempt"],["UnsupportedProgramId","Unsupported program id"],["CallDepth","Cross-program invocation call depth too deep"],["MissingAccount","An account required by the instruction is missing"],["ReentrancyNotAllowed","Cross-program invocation reentrancy not allowed for this instruction"],["MaxSeedLengthExceeded","Length of the seed is too long for address generation"],["InvalidSeeds","Provided seeds do not result in a valid address"],["InvalidRealloc","Failed to reallocate account data"],["ComputationalBudgetExceeded","Computational budget exceeded"],["PrivilegeEscalation","Cross-program invocation with unauthorized signer or writable account"],["ProgramEnvironmentSetupFailure","Failed to create program execution environment"],["ProgramFailedToComplete","Program failed to complete"],["ProgramFailedToCompile","Program failed to compile"],["Immutable","Account is immutable"],["IncorrectAuthority","Incorrect authority provided"],["BorshIoError","Failed to serialize or deserialize account data: {0}"],["AccountNotRentExempt","An account does not have enough lamports to be rent-exempt"],["InvalidAccountOwner","Invalid account owner"],["ArithmeticOverflow","Program arithmetic overflowed"],["UnsupportedSysvar","Unsupported sysvar"],["IllegalOwner","Provided owner is not allowed"]]);n(5273);var s=n(3029);const u=(t="publicKey")=>i.Ik(32,t),c=(t="uint64")=>i.Ik(8,t),l=s.MintLayout;var d=n(9499),f=n.n(d);const h=f().BigInt(0),p=f().BigInt(1);f().BigInt(10);var m;!function(t){t[t.ROUND_DOWN=0]="ROUND_DOWN",t[t.ROUND_HALF_UP=1]="ROUND_HALF_UP",t[t.ROUND_UP=2]="ROUND_UP"}(m||(m={}));f().BigInt("0xffffffffffffffff"),f().BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var y=n(4161),g=n.n(y),v=n(4364),w=n.n(v),b=n(2177),_=n(2447),A=n.n(_);function S(t){return t instanceof f()?t:"bigint"===typeof t||a().isBN(t)?f().BigInt(t.toString()):f().BigInt(t)}const E=A()(w()),k=A()(g()),T={[m.ROUND_DOWN]:w().ROUND_DOWN,[m.ROUND_HALF_UP]:w().ROUND_HALF_UP,[m.ROUND_UP]:w().ROUND_UP},I={[m.ROUND_DOWN]:k.roundDown,[m.ROUND_HALF_UP]:k.roundHalfUp,[m.ROUND_UP]:k.roundUp};class x{constructor(t,e=p){this.isFraction=!0,this.numerator=S(t),this.denominator=S(e)}static isFraction(t){return"object"===typeof t&&null!==t&&"numerator"in t&&"denominator"in t}compareTo(t){return this.equalTo(t)?0:this.greaterThan(t)?1:-1}static fromNumber(t,e=10){const n=Math.pow(10,e);return new x(Math.floor(t*n),n)}static tryParseFraction(t){if(x.isFraction(t))return t;try{return new x(S(t))}catch(e){if(e instanceof Error)throw new Error(`Could not parse fraction: ${e.message}`);throw new Error("Could not parse fraction")}}get quotient(){return f().divide(this.numerator,this.denominator)}get remainder(){return new x(f().remainder(this.numerator,this.denominator),this.denominator)}invert(){return new x(this.denominator,this.numerator)}add(t){const e=x.tryParseFraction(t);return f().equal(this.denominator,e.denominator)?new x(f().add(this.numerator,e.numerator),this.denominator):new x(f().add(f().multiply(this.numerator,e.denominator),f().multiply(e.numerator,this.denominator)),f().multiply(this.denominator,e.denominator))}subtract(t){const e=x.tryParseFraction(t);return f().equal(this.denominator,e.denominator)?new x(f().subtract(this.numerator,e.numerator),this.denominator):new x(f().subtract(f().multiply(this.numerator,e.denominator),f().multiply(e.numerator,this.denominator)),f().multiply(this.denominator,e.denominator))}lessThan(t){const e=x.tryParseFraction(t);return f().lessThan(f().multiply(this.numerator,e.denominator),f().multiply(e.numerator,this.denominator))}equalTo(t){const e=x.tryParseFraction(t);return f().equal(f().multiply(this.numerator,e.denominator),f().multiply(e.numerator,this.denominator))}greaterThan(t){const e=x.tryParseFraction(t);return f().greaterThan(f().multiply(this.numerator,e.denominator),f().multiply(e.numerator,this.denominator))}multiply(t){const e=x.tryParseFraction(t);return new x(f().multiply(this.numerator,e.numerator),f().multiply(this.denominator,e.denominator))}divide(t){const e=x.tryParseFraction(t);return new x(f().multiply(this.numerator,e.denominator),f().multiply(this.denominator,e.numerator))}toSignificant(t,e={groupSeparator:""},n=m.ROUND_HALF_UP){(0,b.default)(Number.isInteger(t),`${t} is not an integer.`),(0,b.default)(t>0,`${t} is not positive.`),E.set({precision:t+1,rounding:T[n]});const r=new E(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(t);return r.toFormat(r.decimalPlaces(),e)}toFixed(t,e={groupSeparator:""},n=m.ROUND_HALF_UP){return(0,b.default)(Number.isInteger(t),`${t} is not an integer.`),(0,b.default)(t>=0,`${t} is negative.`),k.DP=t,k.RM=I[n],new k(this.numerator.toString()).div(this.denominator.toString()).toFormat(t,e)}get asFraction(){return new x(this.numerator,this.denominator)}get asNumber(){if(f().equal(this.denominator,h))return f().greaterThan(this.numerator,h)?Number.POSITIVE_INFINITY:f().lessThan(this.numerator,h)?Number.NEGATIVE_INFINITY:Number.NaN;const t=f().toNumber(this.numerator)/f().toNumber(this.denominator);return Number.isNaN(t)?parseFloat(this.toFixed(10)):t}isZero(){return f().EQ(this.numerator,h)&&f().NE(this.denominator,h)}isNonZero(){return!this.isZero()}}x.ZERO=new x(0),x.ONE=new x(1);const P=new x(100);function M(t){return new B(t.numerator,t.denominator)}class B extends x{constructor(){super(...arguments),this.isPercent=!0}static fromNumber(t,e=10){const n=x.fromNumber(t,e);return new B(n.numerator,n.denominator)}static fromBPS(t){return new B(t,1e4)}add(t){return M(super.add(t))}subtract(t){return M(super.subtract(t))}multiply(t){return M(super.multiply(t))}divide(t){return M(super.divide(t))}invert(){return new B(this.denominator,this.numerator)}toSignificant(t=5,e,n){return super.multiply(P).toSignificant(t,e,n)}toFixed(t=2,e,n){return super.multiply(P).toFixed(t,e,n)}static isPercent(t){return x.isFraction(t)&&!0===(null===t||void 0===t?void 0:t.isPercent)}}B.ZERO=new B(0),B.ONE=new B(1,100),B.ONE_HUNDRED=new B(1);var O,L;const D=(t,e)=>{var n;return null===(n=Intl.NumberFormat(e).formatToParts(1000.1).find((e=>e.type===t)))||void 0===n?void 0:n.value};O=D("decimal",C);var C;L=(t=>D("group",t))();RangeError;RangeError;var R;!function(t){t[t.MainnetBeta=101]="MainnetBeta",t[t.Testnet=102]="Testnet",t[t.Devnet=103]="Devnet"}(R||(R={}));const U=new r.PublicKey("RawSo11111111111111111111111111111111111112");class N{constructor(t){var e;this.info=t,this._mintAccount=null,this.network=null!==(e=G(t.chainId))&&void 0!==e?e:"localnet"}get mintAccount(){return this._mintAccount||(this._mintAccount=new r.PublicKey(this.info.address)),this._mintAccount}get isRawSOL(){return this.mintAccount.equals(U)}get address(){return this.info.address}get chainId(){return this.info.chainId}get decimals(){return this.info.decimals}get name(){return this.info.name}get symbol(){return this.info.symbol}get icon(){return this.info.logoURI}equals(t){return z(this,t)}toString(){return`Token[mint=${this.address}, decimals=${this.decimals}, network=${this.network}]`}toJSON(){return this.info}hasTag(t){var e;return!!(null===(e=this.info.tags)||void 0===e?void 0:e.includes(t))}}N.fromMint=(t,e,n={})=>{var r,i,o;return new N({...n,address:t.toString(),decimals:e,name:null!==(r=n.name)&&void 0!==r?r:`Token ${t.toString().slice(0,4)}`,symbol:null!==(i=n.symbol)&&void 0!==i?i:t.toString().slice(0,5),chainId:null!==(o=n.chainId)&&void 0!==o?o:K.Localnet})},N.load=async(t,e,n={})=>{if("number"===typeof n.decimals)return N.fromMint(e,n.decimals,n);const i=await t.getAccountInfo(e);if(!i)return null;const o=(t=>{if(t.length!==l.span)throw new Error("Not a valid Mint");const e=l.decode(t);let n;n=0===e.mintAuthorityOption?null:new r.PublicKey(e.mintAuthority);const i=s.u64.fromBuffer(e.supply),o=0!==e.isInitialized;let a;return a=0===e.freezeAuthorityOption?null:new r.PublicKey(e.freezeAuthority),{mintAuthority:n,supply:i,decimals:e.decimals,isInitialized:o,freezeAuthority:a}})(i.data);return N.fromMint(e,o.decimals,n)};const z=(t,e)=>void 0!==t&&void 0!==e&&t.address===e.address&&t.network===e.network,j={address:U.toString(),name:"Solana",symbol:"SOL",decimals:9,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},F={address:s.NATIVE_MINT.toString(),name:"Wrapped SOL",symbol:"SOL",decimals:9,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},q=t=>({"mainnet-beta":new N({...t,chainId:K.MainnetBeta}),devnet:new N({...t,chainId:K.Devnet}),testnet:new N({...t,chainId:K.Testnet}),localnet:new N({...t,chainId:K.Localnet})});var K;!function(t){t[t.MainnetBeta=101]="MainnetBeta",t[t.Testnet=102]="Testnet",t[t.Devnet=103]="Devnet",t[t.Localnet=104]="Localnet"}(K||(K={}));const V={"mainnet-beta":K.MainnetBeta,devnet:K.Devnet,testnet:K.Testnet,localnet:104},$=Object.entries(V).reduce(((t,[e,n])=>({...t,[n]:e})),{}),G=t=>$[t];q(j),q(F);new r.PublicKey("shmem4EWT2sPdVGvTZCzXXRAURL9G5vpPxNwSeKhHUL");n(4150);f().BigInt(2),f().BigInt(2);const W=new r.PublicKey("SSwpkEEcbUqx4vtoEByFjSkhKdCT862DNVb52nZg1UZ");var H=n(8764).Buffer;new B(0,1e4);const X=50,Y=100,J=50,Z=100,Q=50,tt=1e4,et=(new B(20,1e4),new B(Q,tt),new B(X,Y),new B(J,Z),({config:{swapProgramID:t},keys:e,data:n})=>new r.TransactionInstruction({keys:e,programId:t,data:n}));var nt;n(8764).Buffer;!function(t){t[t.RAMP_A=100]="RAMP_A",t[t.STOP_RAMP_A=101]="STOP_RAMP_A",t[t.PAUSE=102]="PAUSE",t[t.UNPAUSE=103]="UNPAUSE",t[t.SET_FEE_ACCOUNT=104]="SET_FEE_ACCOUNT",t[t.APPLY_NEW_ADMIN=105]="APPLY_NEW_ADMIN",t[t.COMMIT_NEW_ADMIN=106]="COMMIT_NEW_ADMIN",t[t.SET_NEW_FEES=107]="SET_NEW_FEES"}(nt||(nt={}));const rt=i.n_([c("adminTradeFeeNumerator"),c("adminTradeFeeDenominator"),c("adminWithdrawFeeNumerator"),c("adminWithdrawFeeDenominator"),c("tradeFeeNumerator"),c("tradeFeeDenominator"),c("withdrawFeeNumerator"),c("withdrawFeeDenominator")],"fees"),it=i.n_([i.u8("isInitialized"),i.u8("isPaused"),i.u8("nonce"),c("initialAmpFactor"),c("targetAmpFactor"),i.gM("startRampTs"),i.gM("stopRampTs"),i.gM("futureAdminDeadline"),u("futureAdminAccount"),u("adminAccount"),u("tokenAccountA"),u("tokenAccountB"),u("tokenPool"),u("mintA"),u("mintB"),u("adminFeeAccountA"),u("adminFeeAccountB"),rt]),ot=(i.n_([i.u8("instruction"),i.u8("nonce"),c("ampFactor"),rt]),i.n_([i.u8("instruction"),c("amountIn"),c("minimumAmountOut")])),at=i.n_([i.u8("instruction"),c("tokenAmountA"),c("tokenAmountB"),c("minimumPoolTokenAmount")]),st=i.n_([i.u8("instruction"),c("poolTokenAmount"),c("minimumTokenA"),c("minimumTokenB")]),ut=i.n_([i.u8("instruction"),c("poolTokenAmount"),c("minimumTokenAmount")]);i.n_([i.u8("instruction"),c("targetAmp"),i.gM("stopRampTS")]),i.n_([i.u8("instruction")]),i.n_([i.u8("instruction")]),i.n_([i.u8("instruction")]),i.n_([i.u8("instruction")]),i.n_([i.u8("instruction")]),i.n_([i.u8("instruction")]),i.n_([i.u8("instruction"),rt]);var ct=n(8764).Buffer;const lt=t=>{const e=it.decode(t);if(!e.isInitialized)throw new Error("Invalid token swap state");const n=new r.PublicKey(e.adminAccount),i=new r.PublicKey(e.adminFeeAccountA),o=new r.PublicKey(e.adminFeeAccountB),a=new r.PublicKey(e.tokenAccountA),u=new r.PublicKey(e.tokenAccountB),c=new r.PublicKey(e.tokenPool),l=new r.PublicKey(e.mintA),d=new r.PublicKey(e.mintB),f=s.u64.fromBuffer(ct.from(e.initialAmpFactor)),h=s.u64.fromBuffer(ct.from(e.targetAmpFactor)),p=e.startRampTs,m=e.stopRampTs,y=(g=e.fees,{adminTrade:new B(s.u64.fromBuffer(H.from(g.adminTradeFeeNumerator)).toString(),s.u64.fromBuffer(H.from(g.adminTradeFeeDenominator)).toString()),adminWithdraw:new B(s.u64.fromBuffer(H.from(g.adminWithdrawFeeNumerator)).toString(),s.u64.fromBuffer(H.from(g.adminWithdrawFeeDenominator)).toString()),trade:new B(s.u64.fromBuffer(H.from(g.tradeFeeNumerator)).toString(),s.u64.fromBuffer(H.from(g.tradeFeeDenominator)).toString()),withdraw:new B(s.u64.fromBuffer(H.from(g.withdrawFeeNumerator)).toString(),s.u64.fromBuffer(H.from(g.withdrawFeeDenominator)).toString())});var g;return{isInitialized:!!e.isInitialized,isPaused:!!e.isPaused,nonce:e.nonce,futureAdminDeadline:e.futureAdminDeadline,futureAdminAccount:new r.PublicKey(e.futureAdminAccount),adminAccount:n,tokenA:{adminFeeAccount:i,reserve:a,mint:l},tokenB:{adminFeeAccount:o,reserve:u,mint:d},poolTokenMint:c,initialAmpFactor:f,targetAmpFactor:h,startRampTimestamp:p,stopRampTimestamp:m,fees:y}};var dt,ft=n(8764).Buffer;!function(t){t[t.INITIALIZE=0]="INITIALIZE",t[t.SWAP=1]="SWAP",t[t.DEPOSIT=2]="DEPOSIT",t[t.WITHDRAW=3]="WITHDRAW",t[t.WITHDRAW_ONE=4]="WITHDRAW_ONE"}(dt||(dt={}));var ht=n(8764).Buffer;function pt({config:t,state:e},n){const r=n.poolDestination.equals(e.tokenA.reserve)?e.tokenA.adminFeeAccount:e.tokenB.adminFeeAccount;return(({config:t,userAuthority:e,userSource:n,poolSource:r,poolDestination:i,userDestination:o,adminDestination:a,amountIn:s,minimumAmountOut:u})=>{const c=ft.alloc(ot.span);ot.encode({instruction:dt.SWAP,amountIn:s.toBuffer(),minimumAmountOut:u.toBuffer()},c);const l=[{pubkey:t.swapAccount,isSigner:!1,isWritable:!1},{pubkey:t.authority,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:t.tokenProgramID,isSigner:!1,isWritable:!1}];return et({config:t,keys:l,data:c})})({config:t,...n,adminDestination:r})}function mt({config:t,state:e},n){return(({config:t,userAuthority:e,sourceA:n,sourceB:r,tokenAccountA:i,tokenAccountB:o,poolTokenMint:a,poolTokenAccount:s,tokenAmountA:u,tokenAmountB:c,minimumPoolTokenAmount:l})=>{const d=ft.alloc(at.span);at.encode({instruction:dt.DEPOSIT,tokenAmountA:u.toBuffer(),tokenAmountB:c.toBuffer(),minimumPoolTokenAmount:l.toBuffer()},d);const f=[{pubkey:t.swapAccount,isSigner:!1,isWritable:!1},{pubkey:t.authority,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:t.tokenProgramID,isSigner:!1,isWritable:!1}];return et({config:t,keys:f,data:d})})({config:t,tokenAccountA:e.tokenA.reserve,tokenAccountB:e.tokenB.reserve,poolTokenMint:e.poolTokenMint,...n})}function yt({config:t,state:e},n){return(({config:t,userAuthority:e,poolMint:n,sourceAccount:r,tokenAccountA:i,tokenAccountB:o,userAccountA:a,userAccountB:s,adminFeeAccountA:u,adminFeeAccountB:c,poolTokenAmount:l,minimumTokenA:d,minimumTokenB:f})=>{const h=ft.alloc(st.span);st.encode({instruction:dt.WITHDRAW,poolTokenAmount:l.toBuffer(),minimumTokenA:d.toBuffer(),minimumTokenB:f.toBuffer()},h);const p=[{pubkey:t.swapAccount,isSigner:!1,isWritable:!1},{pubkey:t.authority,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:t.tokenProgramID,isSigner:!1,isWritable:!1}];return et({config:t,keys:p,data:h})})({config:t,poolMint:e.poolTokenMint,tokenAccountA:e.tokenA.reserve,tokenAccountB:e.tokenB.reserve,adminFeeAccountA:e.tokenA.adminFeeAccount,adminFeeAccountB:e.tokenB.adminFeeAccount,...n})}function gt({config:t,state:e},n){const[r,i]=n.baseTokenAccount.equals(e.tokenA.reserve)?[e.tokenB.reserve,e.tokenA.adminFeeAccount]:[e.tokenA.reserve,e.tokenB.adminFeeAccount];return(({config:t,userAuthority:e,poolMint:n,sourceAccount:r,baseTokenAccount:i,quoteTokenAccount:o,destinationAccount:a,adminDestinationAccount:s,poolTokenAmount:u,minimumTokenAmount:c})=>{const l=ft.alloc(ut.span);ut.encode({instruction:dt.WITHDRAW_ONE,poolTokenAmount:u.toBuffer(),minimumTokenAmount:c.toBuffer()},l);const d=[{pubkey:t.swapAccount,isSigner:!1,isWritable:!1},{pubkey:t.authority,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:t.tokenProgramID,isSigner:!1,isWritable:!1}];return et({config:t,keys:d,data:l})})({config:t,poolMint:e.poolTokenMint,quoteTokenAccount:r,adminDestinationAccount:i,...n})}class vt{constructor(t,e){this.config=t,this.state=e}static async getMinBalanceRentForExemptStableSwap(t){return await t.getMinimumBalanceForRentExemption(it.span)}static async load(t,e,n=W){const r=await(async(t,e,n)=>{const r=await t.getAccountInfo(e);if(null===r)throw new Error("Failed to find account");if(!r.owner.equals(n))throw new Error(`Invalid owner: expected ${n.toBase58()}, found ${r.owner.toBase58()}`);return ht.from(r.data)})(t,e,n),[i]=await wt(e,n);return vt.loadWithData(e,r,i,n)}static async loadFromExchange(t,e){return vt.load(t,e.swapAccount,e.programID)}static async fromProgramAccount(t){const[e]=await wt(t.publicKey);return vt.fromProgramAccountWithAuthority(t,e)}static fromProgramAccountWithAuthority(t,e){return new vt({swapAccount:t.publicKey,swapProgramID:W,tokenProgramID:s.TOKEN_PROGRAM_ID,authority:e},t.account)}static loadWithData(t,e,n,r=W){try{const i=lt(e);if(!i.isInitialized)throw new Error("Invalid token swap state");return new vt({swapAccount:t,swapProgramID:r,tokenProgramID:s.TOKEN_PROGRAM_ID,authority:n},i)}catch(i){throw Error(i)}}swap(t){return pt(this,t)}deposit(t){return mt(this,t)}withdraw(t){return yt(this,t)}withdrawOne(t){return gt(this,t)}}const wt=(t,e=W)=>r.PublicKey.findProgramAddress([t.toBuffer()],e),bt=(t,e=Date.now()/1e3)=>{const{initialAmpFactor:n,targetAmpFactor:r,startRampTimestamp:i,stopRampTimestamp:o}=t;if(e>=o)return S(r);if(e<=i)return S(n);(0,b.default)(o>=i,"stop must be after start");const s=e>=o?1:e<=i?0:(e-i)/(o-i),u=Math.floor(parseFloat(r.sub(n).toString())*s);return S(n.add(new(a())(u)))}},6923:function(t,e,n){"use strict";n.d(e,{Vi:function(){return r},DK:function(){return c}});var r,i=n(3754),o=n(5382);!function(t){t[t.MainnetBeta=101]="MainnetBeta",t[t.Testnet=102]="Testnet",t[t.Devnet=103]="Devnet"}(r||(r={}));const a={"mainnet-beta":r.MainnetBeta,testnet:r.Testnet,devnet:r.Devnet};const s=async t=>(await Promise.all(t.map((async t=>{try{const e=await(0,i.fetch)(t);return await e.json()}catch{return console.info("@solana/token-registry: falling back to static repository."),o}})))).map((t=>t.tokens)).reduce(((t,e)=>t.concat(e)),[]);var u;!function(t){t.GitHub="GitHub",t.Static="Static",t.Solana="Solana",t.CDN="CDN"}(u||(u={}));class c{constructor(){this.resolve=async(t=u.CDN)=>new l(await c.strategies[t].resolve())}}c.strategies={[u.GitHub]:new class{constructor(){this.repositories=["https://raw.githubusercontent.com/solana-labs/token-list/main/src/tokens/solana.tokenlist.json"],this.resolve=()=>s(this.repositories)}},[u.Static]:new class{constructor(){this.resolve=()=>o.tokens}},[u.Solana]:new class{constructor(){this.repositories=["https://token-list.solana.com/solana.tokenlist.json"],this.resolve=()=>s(this.repositories)}},[u.CDN]:new class{constructor(){this.repositories=["https://cdn.jsdelivr.net/gh/solana-labs/token-list@main/src/tokens/solana.tokenlist.json"],this.resolve=()=>s(this.repositories)}}};class l{constructor(t){this.tokenList=t,this.filterByTag=t=>new l(this.tokenList.filter((e=>(e.tags||[]).includes(t)))),this.filterByChainId=t=>new l(this.tokenList.filter((e=>e.chainId===t))),this.excludeByChainId=t=>new l(this.tokenList.filter((e=>e.chainId!==t))),this.excludeByTag=t=>new l(this.tokenList.filter((e=>!(e.tags||[]).includes(t)))),this.filterByClusterSlug=t=>{if(t in a)return this.filterByChainId(a[t]);throw new Error(`Unknown slug: ${t}, please use one of ${Object.keys(a)}`)},this.getList=()=>this.tokenList}}},3754:function(t,e){var n=function(t){function e(){this.fetch=!1,this.DOMException=t.DOMException}return e.prototype=t,new e}("undefined"!==typeof self?self:this);!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,a="ArrayBuffer"in t;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!==typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function m(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"===typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():a&&i&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=p(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=c(t),e=l(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},f.prototype.delete=function(t){delete this.map[c(t)]},f.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},f.prototype.set=function(t,e){this.map[c(t)]=l(e)},f.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},f.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),d(t)},f.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),d(t)},f.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),d(t)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var n=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=function(t){var e=t.toUpperCase();return v.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function _(t){var e=new f;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e}function A(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},g.call(w.prototype),g.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},A.error=function(){var t=new A(null,{status:0,statusText:""});return t.type="error",t};var S=[301,302,303,307,308];A.redirect=function(t,e){if(-1===S.indexOf(e))throw new RangeError("Invalid status code");return new A(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(k){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function E(t,n){return new Promise((function(r,o){var a=new w(t,n);if(a.signal&&a.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:_(s.getAllResponseHeaders()||"")};t.url="responseURL"in s?s.responseURL:t.headers.get("X-Request-URL");var e="response"in s?s.response:s.responseText;r(new A(e,t))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}E.polyfill=!0,t.fetch||(t.fetch=E,t.Headers=f,t.Request=w,t.Response=A),e.Headers=f,e.Request=w,e.Response=A,e.fetch=E}({})}(n),delete n.fetch.polyfill,(e=n.fetch).default=n.fetch,e.fetch=n.fetch,e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response,t.exports=e},4161:function(t,e,n){var r;!function(i){"use strict";var o,a=1e6,s=1e6,u="[big.js] ",c=u+"Invalid ",l=c+"decimal places",d=u+"Division by zero",f={},h=void 0,p=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function m(t,e,n,r){var i=t.c;if(n===h&&(n=t.constructor.RM),0!==n&&1!==n&&2!==n&&3!==n)throw Error("[big.js] Invalid rounding mode");if(e<1)r=3===n&&(r||!!i[0])||0===e&&(1===n&&i[0]>=5||2===n&&(i[0]>5||5===i[0]&&(r||i[1]!==h))),i.length=1,r?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(r=1===n&&i[e]>=5||2===n&&(i[e]>5||5===i[e]&&(r||i[e+1]!==h||1&i[e-1]))||3===n&&(r||!!i[0]),i.length=e--,r)for(;++i[e]>9;)i[e]=0,e--||(++t.e,i.unshift(1));for(e=i.length;!i[--e];)i.pop()}return t}function y(t,e,n){var r=t.e,i=t.c.join(""),o=i.length;if(e)i=i.charAt(0)+(o>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>o)for(r-=o;r--;)i+="0";else r<o&&(i=i.slice(0,r)+"."+i.slice(r));else o>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&n?"-"+i:i}f.abs=function(){var t=new this.constructor(this);return t.s=1,t},f.cmp=function(t){var e,n=this,r=n.c,i=(t=new n.constructor(t)).c,o=n.s,a=t.s,s=n.e,u=t.e;if(!r[0]||!i[0])return r[0]?o:i[0]?-a:0;if(o!=a)return o;if(e=o<0,s!=u)return s>u^e?1:-1;for(a=(s=r.length)<(u=i.length)?s:u,o=-1;++o<a;)if(r[o]!=i[o])return r[o]>i[o]^e?1:-1;return s==u?0:s>u^e?1:-1},f.div=function(t){var e=this,n=e.constructor,r=e.c,i=(t=new n(t)).c,o=e.s==t.s?1:-1,s=n.DP;if(s!==~~s||s<0||s>a)throw Error(l);if(!i[0])throw Error(d);if(!r[0])return t.s=o,t.c=[t.e=0],t;var u,c,f,p,y,g=i.slice(),v=u=i.length,w=r.length,b=r.slice(0,u),_=b.length,A=t,S=A.c=[],E=0,k=s+(A.e=e.e-t.e)+1;for(A.s=o,o=k<0?0:k,g.unshift(0);_++<u;)b.push(0);do{for(f=0;f<10;f++){if(u!=(_=b.length))p=u>_?1:-1;else for(y=-1,p=0;++y<u;)if(i[y]!=b[y]){p=i[y]>b[y]?1:-1;break}if(!(p<0))break;for(c=_==u?i:g;_;){if(b[--_]<c[_]){for(y=_;y&&!b[--y];)b[y]=9;--b[y],b[_]+=10}b[_]-=c[_]}for(;!b[0];)b.shift()}S[E++]=p?f:++f,b[0]&&p?b[_]=r[v]||0:b=[r[v]]}while((v++<w||b[0]!==h)&&o--);return S[0]||1==E||(S.shift(),A.e--,k--),E>k&&m(A,k,n.RM,b[0]!==h),A},f.eq=function(t){return 0===this.cmp(t)},f.gt=function(t){return this.cmp(t)>0},f.gte=function(t){return this.cmp(t)>-1},f.lt=function(t){return this.cmp(t)<0},f.lte=function(t){return this.cmp(t)<1},f.minus=f.sub=function(t){var e,n,r,i,o=this,a=o.constructor,s=o.s,u=(t=new a(t)).s;if(s!=u)return t.s=-u,o.plus(t);var c=o.c.slice(),l=o.e,d=t.c,f=t.e;if(!c[0]||!d[0])return d[0]?t.s=-u:c[0]?t=new a(o):t.s=1,t;if(s=l-f){for((i=s<0)?(s=-s,r=c):(f=l,r=d),r.reverse(),u=s;u--;)r.push(0);r.reverse()}else for(n=((i=c.length<d.length)?c:d).length,s=u=0;u<n;u++)if(c[u]!=d[u]){i=c[u]<d[u];break}if(i&&(r=c,c=d,d=r,t.s=-t.s),(u=(n=d.length)-(e=c.length))>0)for(;u--;)c[e++]=0;for(u=e;n>s;){if(c[--n]<d[n]){for(e=n;e&&!c[--e];)c[e]=9;--c[e],c[n]+=10}c[n]-=d[n]}for(;0===c[--u];)c.pop();for(;0===c[0];)c.shift(),--f;return c[0]||(t.s=1,c=[f=0]),t.c=c,t.e=f,t},f.mod=function(t){var e,n=this,r=n.constructor,i=n.s,o=(t=new r(t)).s;if(!t.c[0])throw Error(d);return n.s=t.s=1,e=1==t.cmp(n),n.s=i,t.s=o,e?new r(n):(i=r.DP,o=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=i,r.RM=o,this.minus(n.times(t)))},f.plus=f.add=function(t){var e,n,r,i=this,o=i.constructor;if(t=new o(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var a=i.e,s=i.c,u=t.e,c=t.c;if(!s[0]||!c[0])return c[0]||(s[0]?t=new o(i):t.s=i.s),t;if(s=s.slice(),e=a-u){for(e>0?(u=a,r=c):(e=-e,r=s),r.reverse();e--;)r.push(0);r.reverse()}for(s.length-c.length<0&&(r=c,c=s,s=r),e=c.length,n=0;e;s[e]%=10)n=(s[--e]=s[e]+c[e]+n)/10|0;for(n&&(s.unshift(n),++u),e=s.length;0===s[--e];)s.pop();return t.c=s,t.e=u,t},f.pow=function(t){var e=this,n=new e.constructor("1"),r=n,i=t<0;if(t!==~~t||t<-1e6||t>s)throw Error(c+"exponent");for(i&&(t=-t);1&t&&(r=r.times(e)),t>>=1;)e=e.times(e);return i?n.div(r):r},f.prec=function(t,e){if(t!==~~t||t<1||t>a)throw Error(c+"precision");return m(new this.constructor(this),t,e)},f.round=function(t,e){if(t===h)t=0;else if(t!==~~t||t<-a||t>a)throw Error(l);return m(new this.constructor(this),t+this.e+1,e)},f.sqrt=function(){var t,e,n,r=this,i=r.constructor,o=r.s,a=r.e,s=new i("0.5");if(!r.c[0])return new i(r);if(o<0)throw Error(u+"No square root");0===(o=Math.sqrt(r+""))||o===1/0?((e=r.c.join("")).length+a&1||(e+="0"),a=((a+1)/2|0)-(a<0||1&a),t=new i(((o=Math.sqrt(e))==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+a)):t=new i(o+""),a=t.e+(i.DP+=4);do{n=t,t=s.times(n.plus(r.div(n)))}while(n.c.slice(0,a).join("")!==t.c.slice(0,a).join(""));return m(t,(i.DP-=4)+t.e+1,i.RM)},f.times=f.mul=function(t){var e,n=this,r=n.constructor,i=n.c,o=(t=new r(t)).c,a=i.length,s=o.length,u=n.e,c=t.e;if(t.s=n.s==t.s?1:-1,!i[0]||!o[0])return t.c=[t.e=0],t;for(t.e=u+c,a<s&&(e=i,i=o,o=e,c=a,a=s,s=c),e=new Array(c=a+s);c--;)e[c]=0;for(u=s;u--;){for(s=0,c=a+u;c>u;)s=e[c]+o[u]*i[c-u-1]+s,e[c--]=s%10,s=s/10|0;e[c]=s}for(s?++t.e:e.shift(),u=e.length;!e[--u];)e.pop();return t.c=e,t},f.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==h){if(t!==~~t||t<0||t>a)throw Error(l);for(n=m(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return y(n,!0,!!r)},f.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==h){if(t!==~~t||t<0||t>a)throw Error(l);for(t=t+(n=m(new n.constructor(n),t+n.e+1,e)).e+1;n.c.length<t;)n.c.push(0)}return y(n,!1,!!r)},f.toJSON=f.toString=function(){var t=this,e=t.constructor;return y(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])},f.toNumber=function(){var t=Number(y(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(t.toString()))throw Error(u+"Imprecise conversion");return t},f.toPrecision=function(t,e){var n=this,r=n.constructor,i=n.c[0];if(t!==h){if(t!==~~t||t<1||t>a)throw Error(c+"precision");for(n=m(new r(n),t,e);n.c.length<t;)n.c.push(0)}return y(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!i)},f.valueOf=function(){var t=this,e=t.constructor;if(!0===e.strict)throw Error(u+"valueOf disallowed");return y(t,t.e<=e.NE||t.e>=e.PE,!0)},(o=function t(){function e(n){var r=this;if(!(r instanceof e))return n===h?t():new e(n);if(n instanceof e)r.s=n.s,r.e=n.e,r.c=n.c.slice();else{if("string"!==typeof n){if(!0===e.strict)throw TypeError(c+"number");n=0===n&&1/n<0?"-0":String(n)}!function(t,e){var n,r,i;if(!p.test(e))throw Error(c+"number");t.s="-"==e.charAt(0)?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".",""));(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length);for(i=e.length,r=0;r<i&&"0"==e.charAt(r);)++r;if(r==i)t.c=[t.e=0];else{for(;i>0&&"0"==e.charAt(--i););for(t.e=n-r-1,t.c=[],n=0;r<=i;)t.c[n++]=+e.charAt(r++)}}(r,n)}r.constructor=e}return e.prototype=f,e.DP=20,e.RM=1,e.NE=-7,e.PE=21,e.strict=false,e.roundDown=0,e.roundHalfUp=1,e.roundHalfEven=2,e.roundUp=3,e}()).default=o.Big=o,void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}()},3302:function(t,e,n){var r;!function(i){"use strict";var o,a=1e6,s=1e6,u="[big.js] ",c=u+"Invalid ",l=c+"decimal places",d=c+"rounding mode",f=u+"Division by zero",h={},p=void 0,m=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function y(t,e,n,r){var i=t.c,o=t.e+e+1;if(o<i.length){if(1===n)r=i[o]>=5;else if(2===n)r=i[o]>5||5==i[o]&&(r||o<0||i[o+1]!==p||1&i[o-1]);else if(3===n)r=r||!!i[0];else if(r=!1,0!==n)throw Error(d);if(o<1)i.length=1,r?(t.e=-e,i[0]=1):i[0]=t.e=0;else{if(i.length=o--,r)for(;++i[o]>9;)i[o]=0,o--||(++t.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(n<0||n>3||n!==~~n)throw Error(d);return t}function g(t,e,n,r){var i,o,s=t.constructor,u=!t.c[0];if(n!==p){if(n!==~~n||n<(3==e)||n>a)throw Error(3==e?c+"precision":l);for(n=r-(t=new s(t)).e,t.c.length>++r&&y(t,n,s.RM),2==e&&(r=t.e+n+1);t.c.length<r;)t.c.push(0)}if(i=t.e,n=(o=t.c.join("")).length,2!=e&&(1==e||3==e&&r<=i||i<=s.NE||i>=s.PE))o=o.charAt(0)+(n>1?"."+o.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)o="0"+o;o="0."+o}else if(i>0)if(++i>n)for(i-=n;i--;)o+="0";else i<n&&(o=o.slice(0,i)+"."+o.slice(i));else n>1&&(o=o.charAt(0)+"."+o.slice(1));return t.s<0&&(!u||4==e)?"-"+o:o}h.abs=function(){var t=new this.constructor(this);return t.s=1,t},h.cmp=function(t){var e,n=this,r=n.c,i=(t=new n.constructor(t)).c,o=n.s,a=t.s,s=n.e,u=t.e;if(!r[0]||!i[0])return r[0]?o:i[0]?-a:0;if(o!=a)return o;if(e=o<0,s!=u)return s>u^e?1:-1;for(a=(s=r.length)<(u=i.length)?s:u,o=-1;++o<a;)if(r[o]!=i[o])return r[o]>i[o]^e?1:-1;return s==u?0:s>u^e?1:-1},h.div=function(t){var e=this,n=e.constructor,r=e.c,i=(t=new n(t)).c,o=e.s==t.s?1:-1,s=n.DP;if(s!==~~s||s<0||s>a)throw Error(l);if(!i[0])throw Error(f);if(!r[0])return new n(0*o);var u,c,d,h,m,g=i.slice(),v=u=i.length,w=r.length,b=r.slice(0,u),_=b.length,A=t,S=A.c=[],E=0,k=s+(A.e=e.e-t.e)+1;for(A.s=o,o=k<0?0:k,g.unshift(0);_++<u;)b.push(0);do{for(d=0;d<10;d++){if(u!=(_=b.length))h=u>_?1:-1;else for(m=-1,h=0;++m<u;)if(i[m]!=b[m]){h=i[m]>b[m]?1:-1;break}if(!(h<0))break;for(c=_==u?i:g;_;){if(b[--_]<c[_]){for(m=_;m&&!b[--m];)b[m]=9;--b[m],b[_]+=10}b[_]-=c[_]}for(;!b[0];)b.shift()}S[E++]=h?d:++d,b[0]&&h?b[_]=r[v]||0:b=[r[v]]}while((v++<w||b[0]!==p)&&o--);return S[0]||1==E||(S.shift(),A.e--),E>k&&y(A,s,n.RM,b[0]!==p),A},h.eq=function(t){return!this.cmp(t)},h.gt=function(t){return this.cmp(t)>0},h.gte=function(t){return this.cmp(t)>-1},h.lt=function(t){return this.cmp(t)<0},h.lte=function(t){return this.cmp(t)<1},h.minus=h.sub=function(t){var e,n,r,i,o=this,a=o.constructor,s=o.s,u=(t=new a(t)).s;if(s!=u)return t.s=-u,o.plus(t);var c=o.c.slice(),l=o.e,d=t.c,f=t.e;if(!c[0]||!d[0])return d[0]?(t.s=-u,t):new a(c[0]?o:0);if(s=l-f){for((i=s<0)?(s=-s,r=c):(f=l,r=d),r.reverse(),u=s;u--;)r.push(0);r.reverse()}else for(n=((i=c.length<d.length)?c:d).length,s=u=0;u<n;u++)if(c[u]!=d[u]){i=c[u]<d[u];break}if(i&&(r=c,c=d,d=r,t.s=-t.s),(u=(n=d.length)-(e=c.length))>0)for(;u--;)c[e++]=0;for(u=e;n>s;){if(c[--n]<d[n]){for(e=n;e&&!c[--e];)c[e]=9;--c[e],c[n]+=10}c[n]-=d[n]}for(;0===c[--u];)c.pop();for(;0===c[0];)c.shift(),--f;return c[0]||(t.s=1,c=[f=0]),t.c=c,t.e=f,t},h.mod=function(t){var e,n=this,r=n.constructor,i=n.s,o=(t=new r(t)).s;if(!t.c[0])throw Error(f);return n.s=t.s=1,e=1==t.cmp(n),n.s=i,t.s=o,e?new r(n):(i=r.DP,o=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=i,r.RM=o,this.minus(n.times(t)))},h.plus=h.add=function(t){var e,n=this,r=n.constructor,i=n.s,o=(t=new r(t)).s;if(i!=o)return t.s=-o,n.minus(t);var a=n.e,s=n.c,u=t.e,c=t.c;if(!s[0]||!c[0])return c[0]?t:new r(s[0]?n:0*i);if(s=s.slice(),i=a-u){for(i>0?(u=a,e=c):(i=-i,e=s),e.reverse();i--;)e.push(0);e.reverse()}for(s.length-c.length<0&&(e=c,c=s,s=e),i=c.length,o=0;i;s[i]%=10)o=(s[--i]=s[i]+c[i]+o)/10|0;for(o&&(s.unshift(o),++u),i=s.length;0===s[--i];)s.pop();return t.c=s,t.e=u,t},h.pow=function(t){var e=this,n=new e.constructor(1),r=n,i=t<0;if(t!==~~t||t<-1e6||t>s)throw Error(c+"exponent");for(i&&(t=-t);1&t&&(r=r.times(e)),t>>=1;)e=e.times(e);return i?n.div(r):r},h.round=function(t,e){var n=this.constructor;if(t===p)t=0;else if(t!==~~t||t<-a||t>a)throw Error(l);return y(new n(this),t,e===p?n.RM:e)},h.sqrt=function(){var t,e,n,r=this,i=r.constructor,o=r.s,a=r.e,s=new i(.5);if(!r.c[0])return new i(r);if(o<0)throw Error(u+"No square root");0===(o=Math.sqrt(r+""))||o===1/0?((e=r.c.join("")).length+a&1||(e+="0"),a=((a+1)/2|0)-(a<0||1&a),t=new i(((o=Math.sqrt(e))==1/0?"1e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+a)):t=new i(o),a=t.e+(i.DP+=4);do{n=t,t=s.times(n.plus(r.div(n)))}while(n.c.slice(0,a).join("")!==t.c.slice(0,a).join(""));return y(t,i.DP-=4,i.RM)},h.times=h.mul=function(t){var e,n=this,r=n.constructor,i=n.c,o=(t=new r(t)).c,a=i.length,s=o.length,u=n.e,c=t.e;if(t.s=n.s==t.s?1:-1,!i[0]||!o[0])return new r(0*t.s);for(t.e=u+c,a<s&&(e=i,i=o,o=e,c=a,a=s,s=c),e=new Array(c=a+s);c--;)e[c]=0;for(u=s;u--;){for(s=0,c=a+u;c>u;)s=e[c]+o[u]*i[c-u-1]+s,e[c--]=s%10,s=s/10|0;e[c]=(e[c]+s)%10}for(s?++t.e:e.shift(),u=e.length;!e[--u];)e.pop();return t.c=e,t},h.toExponential=function(t){return g(this,1,t,t)},h.toFixed=function(t){return g(this,2,t,this.e+t)},h.toPrecision=function(t){return g(this,3,t,t-1)},h.toString=function(){return g(this)},h.valueOf=h.toJSON=function(){return g(this,4)},(o=function t(){function e(n){var r=this;if(!(r instanceof e))return n===p?t():new e(n);n instanceof e?(r.s=n.s,r.e=n.e,r.c=n.c.slice()):function(t,e){var n,r,i;if(0===e&&1/e<0)e="-0";else if(!m.test(e+=""))throw Error(c+"number");t.s="-"==e.charAt(0)?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".",""));(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length);for(i=e.length,r=0;r<i&&"0"==e.charAt(r);)++r;if(r==i)t.c=[t.e=0];else{for(;i>0&&"0"==e.charAt(--i););for(t.e=n-r-1,t.c=[],n=0;r<=i;)t.c[n++]=+e.charAt(r++)}}(r,n),r.constructor=e}return e.prototype=h,e.DP=20,e.RM=1,e.NE=-7,e.PE=21,e.version="5.2.2",e}()).default=o.Big=o,void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}()},4098:function(t,e){var n="undefined"!==typeof self?self:this,r=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,a="ArrayBuffer"in t;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!==typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function m(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"===typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():a&&i&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=p(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=c(t),e=l(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},f.prototype.delete=function(t){delete this.map[c(t)]},f.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},f.prototype.set=function(t,e){this.map[c(t)]=l(e)},f.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},f.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),d(t)},f.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),d(t)},f.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),d(t)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var n=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=function(t){var e=t.toUpperCase();return v.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function _(t){var e=new f;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e}function A(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},g.call(w.prototype),g.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},A.error=function(){var t=new A(null,{status:0,statusText:""});return t.type="error",t};var S=[301,302,303,307,308];A.redirect=function(t,e){if(-1===S.indexOf(e))throw new RangeError("Invalid status code");return new A(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(k){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function E(t,n){return new Promise((function(r,o){var a=new w(t,n);if(a.signal&&a.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:_(s.getAllResponseHeaders()||"")};t.url="responseURL"in s?s.responseURL:t.headers.get("X-Request-URL");var e="response"in s?s.response:s.responseText;r(new A(e,t))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}E.polyfill=!0,t.fetch||(t.fetch=E,t.Headers=f,t.Request=w,t.Response=A),e.Headers=f,e.Request=w,e.Response=A,e.fetch=E,Object.defineProperty(e,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e},4364:function(t,e,n){var r;!function(i){"use strict";var o,a=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},u=!0,c="[DecimalError] ",l=c+"Invalid argument: ",d=c+"Exponent out of range: ",f=Math.floor,h=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,m=1e7,y=9007199254740991,g=f(1286742750677284.5),v={};function w(t,e){var n,r,i,o,a,s,c,l,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),u?P(e,f):e;if(c=t.d,l=e.d,a=t.e,i=e.e,c=c.slice(),o=a-i){for(o<0?(r=c,o=-o,s=l.length):(r=l,i=a,s=c.length),o>(s=(a=Math.ceil(f/7))>s?a+1:s+1)&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((s=c.length)-(o=l.length)<0&&(o=s,r=l,l=c,c=r),n=0;o;)n=(c[--o]=c[o]+l[o]+n)/m|0,c[o]%=m;for(n&&(c.unshift(n),++i),s=c.length;0==c[--s];)c.pop();return e.d=c,e.e=i,u?P(e,f):e}function b(t,e,n){if(t!==~~t||t<e||t>n)throw Error(l+t)}function _(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)(n=7-(r=t[e]+"").length)&&(o+=T(n)),o+=r;(n=7-(r=(a=t[e])+"").length)&&(o+=T(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}v.absoluteValue=v.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t},v.comparedTo=v.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(e=0,n=(r=o.d.length)<(i=t.d.length)?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},v.decimalPlaces=v.dp=function(){var t=this,e=t.d.length-1,n=7*(e-t.e);if(e=t.d[e])for(;e%10==0;e/=10)n--;return n<0?0:n},v.dividedBy=v.div=function(t){return A(this,new this.constructor(t))},v.dividedToIntegerBy=v.idiv=function(t){var e=this.constructor;return P(A(this,new e(t),0,1),e.precision)},v.equals=v.eq=function(t){return!this.cmp(t)},v.exponent=function(){return E(this)},v.greaterThan=v.gt=function(t){return this.cmp(t)>0},v.greaterThanOrEqualTo=v.gte=function(t){return this.cmp(t)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(t){return this.cmp(t)<0},v.lessThanOrEqualTo=v.lte=function(t){return this.cmp(t)<1},v.logarithm=v.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(void 0===t)t=new r(10);else if((t=new r(t)).s<1||t.eq(o))throw Error(c+"NaN");if(n.s<1)throw Error(c+(n.s?"NaN":"-Infinity"));return n.eq(o)?new r(0):(u=!1,e=A(I(n,a),I(t,a),a),u=!0,P(e,i))},v.minus=v.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?M(e,t):w(e,(t.s=-t.s,t))},v.modulo=v.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(!(t=new r(t)).s)throw Error(c+"NaN");return n.s?(u=!1,e=A(n,t,0,1).times(t),u=!0,n.minus(e)):P(new r(n),i)},v.naturalExponential=v.exp=function(){return S(this)},v.naturalLogarithm=v.ln=function(){return I(this)},v.negated=v.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t},v.plus=v.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?w(e,t):M(e,(t.s=-t.s,t))},v.precision=v.sd=function(t){var e,n,r,i=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(l+t);if(e=E(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n},v.squareRoot=v.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(c+"NaN")}for(t=E(s),u=!1,0==(i=Math.sqrt(+s))||i==1/0?(((e=_(s.d)).length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=f((t+1)/2)-(t<0||t%2),r=new l(e=i==1/0?"5e"+t:(e=i.toExponential()).slice(0,e.indexOf("e")+1)+t)):r=new l(i.toString()),i=a=(n=l.precision)+3;;)if(r=(o=r).plus(A(s,o,a+2)).times(.5),_(o.d).slice(0,a)===(e=_(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&"4999"==e){if(P(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if("9999"!=e)break;a+=4}return u=!0,P(r,n)},v.times=v.mul=function(t){var e,n,r,i,o,a,s,c,l,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,(c=h.length)<(l=p.length)&&(o=h,h=p,p=o,a=c,c=l,l=a),o=[],r=a=c+l;r--;)o.push(0);for(r=l;--r>=0;){for(e=0,i=c+r;i>r;)s=o[i]+p[r]*h[i-r-1]+e,o[i--]=s%m|0,e=s/m|0;o[i]=(o[i]+e)%m|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,u?P(t,f.precision):t},v.toDecimalPlaces=v.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(b(t,0,a),void 0===e?e=r.rounding:b(e,0,8),P(n,t+E(n)+1,e))},v.toExponential=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=B(r,!0):(b(t,0,a),void 0===e?e=i.rounding:b(e,0,8),n=B(r=P(new i(r),t+1,e),!0,t+1)),n},v.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return void 0===t?B(i):(b(t,0,a),void 0===e?e=o.rounding:b(e,0,8),n=B((r=P(new o(i),t+E(i)+1,e)).abs(),!1,t+E(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},v.toInteger=v.toint=function(){var t=this,e=t.constructor;return P(new e(t),E(t)+1,e.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(t){var e,n,r,i,a,s,l=this,d=l.constructor,h=+(t=new d(t));if(!t.s)return new d(o);if(!(l=new d(l)).s){if(t.s<1)throw Error(c+"Infinity");return l}if(l.eq(o))return l;if(r=d.precision,t.eq(o))return P(l,r);if(s=(e=t.e)>=(n=t.d.length-1),a=l.s,s){if((n=h<0?-h:h)<=y){for(i=new d(o),e=Math.ceil(r/7+4),u=!1;n%2&&O((i=i.times(l)).d,e),0!==(n=f(n/2));)O((l=l.times(l)).d,e);return u=!0,t.s<0?new d(o).div(i):P(i,r)}}else if(a<0)throw Error(c+"NaN");return a=a<0&&1&t.d[Math.max(e,n)]?-1:1,l.s=1,u=!1,i=t.times(I(l,r+12)),u=!0,(i=S(i)).s=a,i},v.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return void 0===t?r=B(i,(n=E(i))<=o.toExpNeg||n>=o.toExpPos):(b(t,1,a),void 0===e?e=o.rounding:b(e,0,8),r=B(i=P(new o(i),t,e),t<=(n=E(i))||n<=o.toExpNeg,t)),r},v.toSignificantDigits=v.tosd=function(t,e){var n=this.constructor;return void 0===t?(t=n.precision,e=n.rounding):(b(t,1,a),void 0===e?e=n.rounding:b(e,0,8)),P(new n(this),t,e)},v.toString=v.valueOf=v.val=v.toJSON=function(){var t=this,e=E(t),n=t.constructor;return B(t,e<=n.toExpNeg||e>=n.toExpPos)};var A=function(){function t(t,e){var n,r=0,i=t.length;for(t=t.slice();i--;)n=t[i]*e+r,t[i]=n%m|0,r=n/m|0;return r&&t.unshift(r),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n){for(var r=0;n--;)t[n]-=r,r=t[n]<e[n]?1:0,t[n]=r*m+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(r,i,o,a){var s,u,l,d,f,h,p,y,g,v,w,b,_,A,S,k,T,I,x=r.constructor,M=r.s==i.s?1:-1,B=r.d,O=i.d;if(!r.s)return new x(r);if(!i.s)throw Error(c+"Division by zero");for(u=r.e-i.e,T=O.length,S=B.length,y=(p=new x(M)).d=[],l=0;O[l]==(B[l]||0);)++l;if(O[l]>(B[l]||0)&&--u,(b=null==o?o=x.precision:a?o+(E(r)-E(i))+1:o)<0)return new x(0);if(b=b/7+2|0,l=0,1==T)for(d=0,O=O[0],b++;(l<S||d)&&b--;l++)_=d*m+(B[l]||0),y[l]=_/O|0,d=_%O|0;else{for((d=m/(O[0]+1)|0)>1&&(O=t(O,d),B=t(B,d),T=O.length,S=B.length),A=T,v=(g=B.slice(0,T)).length;v<T;)g[v++]=0;(I=O.slice()).unshift(0),k=O[0],O[1]>=m/2&&++k;do{d=0,(s=e(O,g,T,v))<0?(w=g[0],T!=v&&(w=w*m+(g[1]||0)),(d=w/k|0)>1?(d>=m&&(d=m-1),1==(s=e(f=t(O,d),g,h=f.length,v=g.length))&&(d--,n(f,T<h?I:O,h))):(0==d&&(s=d=1),f=O.slice()),(h=f.length)<v&&f.unshift(0),n(g,f,v),-1==s&&(s=e(O,g,T,v=g.length))<1&&(d++,n(g,T<v?I:O,v)),v=g.length):0===s&&(d++,g=[0]),y[l++]=d,s&&g[0]?g[v++]=B[A]||0:(g=[B[A]],v=1)}while((A++<S||void 0!==g[0])&&b--)}return y[0]||y.shift(),p.e=u,P(p,a?o+E(p)+1:o)}}();function S(t,e){var n,r,i,a,s,c=0,l=0,f=t.constructor,p=f.precision;if(E(t)>16)throw Error(d+E(t));if(!t.s)return new f(o);for(null==e?(u=!1,s=p):s=e,a=new f(.03125);t.abs().gte(.1);)t=t.times(a),l+=5;for(s+=Math.log(h(2,l))/Math.LN10*2+5|0,n=r=i=new f(o),f.precision=s;;){if(r=P(r.times(t),s),n=n.times(++c),_((a=i.plus(A(r,n,s))).d).slice(0,s)===_(i.d).slice(0,s)){for(;l--;)i=P(i.times(i),s);return f.precision=p,null==e?(u=!0,P(i,p)):i}i=a}}function E(t){for(var e=7*t.e,n=t.d[0];n>=10;n/=10)e++;return e}function k(t,e,n){if(e>t.LN10.sd())throw u=!0,n&&(t.precision=n),Error(c+"LN10 precision limit exceeded");return P(new t(t.LN10),e)}function T(t){for(var e="";t--;)e+="0";return e}function I(t,e){var n,r,i,a,s,l,d,f,h,p=1,m=t,y=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(c+(m.s?"NaN":"-Infinity"));if(m.eq(o))return new g(0);if(null==e?(u=!1,f=v):f=e,m.eq(10))return null==e&&(u=!0),k(g,f);if(f+=10,g.precision=f,r=(n=_(y)).charAt(0),a=E(m),!(Math.abs(a)<15e14))return d=k(g,f+2,v).times(a+""),m=I(new g(r+"."+n.slice(1)),f-10).plus(d),g.precision=v,null==e?(u=!0,P(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=_((m=m.times(t)).d)).charAt(0),p++;for(a=E(m),r>1?(m=new g("0."+n),a++):m=new g(r+"."+n.slice(1)),l=s=m=A(m.minus(o),m.plus(o),f),h=P(m.times(m),f),i=3;;){if(s=P(s.times(h),f),_((d=l.plus(A(s,new g(i),f))).d).slice(0,f)===_(l.d).slice(0,f))return l=l.times(2),0!==a&&(l=l.plus(k(g,f+2,v).times(a+""))),l=A(l,new g(p),f),g.precision=v,null==e?(u=!0,P(l,v)):l;l=d,i+=2}}function x(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);)++r;for(i=e.length;48===e.charCodeAt(i-1);)--i;if(e=e.slice(r,i)){if(i-=r,n=n-r-1,t.e=f(n/7),t.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=7;r<i;)t.d.push(+e.slice(r,r+=7));r=7-(e=e.slice(r)).length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),u&&(t.e>g||t.e<-g))throw Error(d+n)}else t.s=0,t.e=0,t.d=[0];return t}function P(t,e,n){var r,i,o,a,s,c,l,p,y=t.d;for(a=1,o=y[0];o>=10;o/=10)a++;if((r=e-a)<0)r+=7,i=e,l=y[p=0];else{if((p=Math.ceil((r+1)/7))>=(o=y.length))return t;for(l=o=y[p],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(s=l/(o=h(10,a-i-1))%10|0,c=e<0||void 0!==y[p+1]||l%o,c=n<4?(s||c)&&(0==n||n==(t.s<0?3:2)):s>5||5==s&&(4==n||c||6==n&&(r>0?i>0?l/h(10,a-i):0:y[p-1])%10&1||n==(t.s<0?8:7))),e<1||!y[0])return c?(o=E(t),y.length=1,e=e-o-1,y[0]=h(10,(7-e%7)%7),t.e=f(-e/7)||0):(y.length=1,y[0]=t.e=t.s=0),t;if(0==r?(y.length=p,o=1,p--):(y.length=p+1,o=h(10,7-r),y[p]=i>0?(l/h(10,a-i)%h(10,i)|0)*o:0),c)for(;;){if(0==p){(y[0]+=o)==m&&(y[0]=1,++t.e);break}if(y[p]+=o,y[p]!=m)break;y[p--]=0,o=1}for(r=y.length;0===y[--r];)y.pop();if(u&&(t.e>g||t.e<-g))throw Error(d+E(t));return t}function M(t,e){var n,r,i,o,a,s,c,l,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),u?P(e,p):e;if(c=t.d,f=e.d,r=e.e,l=t.e,c=c.slice(),a=l-r){for((d=a<0)?(n=c,a=-a,s=f.length):(n=f,r=l,s=c.length),a>(i=Math.max(Math.ceil(p/7),s)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(s=f.length))&&(s=i),i=0;i<s;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}a=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),s=c.length,i=f.length-s;i>0;--i)c[s++]=0;for(i=f.length;i>a;){if(c[--i]<f[i]){for(o=i;o&&0===c[--o];)c[o]=m-1;--c[o],c[i]+=m}c[i]-=f[i]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(e.d=c,e.e=r,u?P(e,p):e):new h(0)}function B(t,e,n){var r,i=E(t),o=_(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+T(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+T(-i-1)+o,n&&(r=n-a)>0&&(o+=T(r))):i>=a?(o+=T(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+T(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=T(r))),t.s<0?"-"+o:o}function O(t,e){if(t.length>e)return t.length=e,!0}function L(t){if(!t||"object"!==typeof t)throw Error(c+"Object expected");var e,n,r,i=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if(void 0!==(r=t[n=i[e]])){if(!(f(r)===r&&r>=i[e+1]&&r<=i[e+2]))throw Error(l+n+": "+r);this[n]=r}if(void 0!==(r=t[n="LN10"])){if(r!=Math.LN10)throw Error(l+n+": "+r);this[n]=new this(r)}return this}(s=function t(e){var n,r,i;function o(t){var e=this;if(!(e instanceof o))return new o(t);if(e.constructor=o,t instanceof o)return e.s=t.s,e.e=t.e,void(e.d=(t=t.d)?t.slice():t);if("number"===typeof t){if(0*t!==0)throw Error(l+t);if(t>0)e.s=1;else{if(!(t<0))return e.s=0,e.e=0,void(e.d=[0]);t=-t,e.s=-1}return t===~~t&&t<1e7?(e.e=0,void(e.d=[t])):x(e,t.toString())}if("string"!==typeof t)throw Error(l+t);if(45===t.charCodeAt(0)?(t=t.slice(1),e.s=-1):e.s=1,!p.test(t))throw Error(l+t);x(e,t)}if(o.prototype=v,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=t,o.config=o.set=L,void 0===e&&(e={}),e)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)e.hasOwnProperty(r=i[n++])||(e[r]=this[r]);return o.config(e),o}(s)).default=s.Decimal=s,o=new s(1),void 0===(r=function(){return s}.call(e,n,e,t))||(t.exports=r)}()},2114:function(t){"use strict";function e(t,e){for(const n in e)Object.defineProperty(t,n,{value:e[n],enumerable:!0,configurable:!0});return t}t.exports=function(t,n,r){if(!t||"string"===typeof t)throw new TypeError("Please pass an Error to err-code");r||(r={}),"object"===typeof n&&(r=n,n=void 0),null!=n&&(r.code=n);try{return e(t,r)}catch(i){r.message=t.message,r.stack=t.stack;const n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(t)),e(new n,r)}}},9499:function(t){t.exports=function(){"use strict";var t=Math.imul,e=Math.clz32;function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(){return(l=c()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&u(i,n.prototype),i}).apply(null,arguments)}function d(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function f(t){var e="function"==typeof Map?new Map:void 0;return(f=function(t){function n(){return l(t,arguments,s(this).constructor)}if(null===t||!d(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof e){if(e.has(t))return e.get(t);e.set(t,n)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,t)})(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return h(t)}function m(t){var e=c();return function(){var n,r=s(t);if(e){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function y(t,e){return g(t)||v(t,e)||w(t,e)||_()}function g(t){if(Array.isArray(t))return t}function v(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}function w(t,e){if(t){if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(t,e):void 0}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=w(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}var S=function(t){var e=Math.abs,i=Math.max,s=Math.floor;function u(t,e){var n;if(r(this,u),(n=c.call(this,t)).sign=e,Object.setPrototypeOf(h(n),u.prototype),t>u.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return n}a(u,t);var c=m(u);return o(u,[{key:"toDebugString",value:function(){var t,e=["BigInt["],n=A(this);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push((r?(r>>>0).toString(16):r)+", ")}}catch(t){n.e(t)}finally{n.f()}return e.push("]"),e.join("")}},{key:"toString",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>t||36<t)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(t&t-1)?u.__toStringBasePowerOfTwo(this,t):u.__toStringGeneric(this,t,!1)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var t=new u(this.length,this.sign),e=0;e<this.length;e++)t[e]=this[e];return t}},{key:"__trim",value:function(){for(var t=this.length,e=this[t-1];0===e;)e=this[--t-1],this.pop();return 0===t&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var t=0;t<this.length;t++)this[t]=0}},{key:"__clzmsd",value:function(){return u.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(t,e,n){n>this.length&&(n=this.length);for(var r=32767&t,i=t>>>15,o=0,a=e,s=0;s<n;s++){var c=this.__digit(s),l=32767&c,d=c>>>15,f=u.__imul(l,r),h=u.__imul(l,i),p=u.__imul(d,r),m=a+f+o;o=m>>>30,m&=1073741823,o+=(m+=((32767&h)<<15)+((32767&p)<<15))>>>30,a=u.__imul(d,i)+(h>>>15)+(p>>>15),this.__setDigit(s,1073741823&m)}if(0!==o||0!==a)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(t,e,n){for(var r,i=0,o=0;o<n;o++)i=(r=this.__halfDigit(e+o)+t.__halfDigit(o)+i)>>>15,this.__setHalfDigit(e+o,32767&r);return i}},{key:"__inplaceSub",value:function(t,e,n){var r=0;if(1&e){e>>=1;for(var i=this.__digit(e),o=32767&i,a=0;a<n-1>>>1;a++){var s=t.__digit(a),u=(i>>>15)-(32767&s)-r;r=1&u>>>15,this.__setDigit(e+a,(32767&u)<<15|32767&o),r=1&(o=(32767&(i=this.__digit(e+a+1)))-(s>>>15)-r)>>>15}var c=t.__digit(a),l=(i>>>15)-(32767&c)-r;if(r=1&l>>>15,this.__setDigit(e+a,(32767&l)<<15|32767&o),e+a+1>=this.length)throw new RangeError("out of bounds");0==(1&n)&&(r=1&(o=(32767&(i=this.__digit(e+a+1)))-(c>>>15)-r)>>>15,this.__setDigit(e+t.length,1073709056&i|32767&o))}else{e>>=1;for(var d=0;d<t.length-1;d++){var f=this.__digit(e+d),h=t.__digit(d),p=(32767&f)-(32767&h)-r,m=(f>>>15)-(h>>>15)-(r=1&p>>>15);r=1&m>>>15,this.__setDigit(e+d,(32767&m)<<15|32767&p)}var y=this.__digit(e+d),g=t.__digit(d),v=(32767&y)-(32767&g)-r;r=1&v>>>15;var w=0;0==(1&n)&&(r=1&(w=(y>>>15)-(g>>>15)-r)>>>15),this.__setDigit(e+d,(32767&w)<<15|32767&v)}return r}},{key:"__inplaceRightShift",value:function(t){if(0!==t){for(var e,n=this.__digit(0)>>>t,r=this.length-1,i=0;i<r;i++)e=this.__digit(i+1),this.__setDigit(i,1073741823&e<<30-t|n),n=e>>>t;this.__setDigit(r,n)}}},{key:"__digit",value:function(t){return this[t]}},{key:"__unsignedDigit",value:function(t){return this[t]>>>0}},{key:"__setDigit",value:function(t,e){this[t]=0|e}},{key:"__setDigitGrow",value:function(t,e){this[t]=0|e}},{key:"__halfDigitLength",value:function(){var t=this.length;return 32767>=this.__unsignedDigit(t-1)?2*t-1:2*t}},{key:"__halfDigit",value:function(t){return 32767&this[t>>>1]>>>15*(1&t)}},{key:"__setHalfDigit",value:function(t,e){var n=t>>>1,r=this.__digit(n),i=1&t?32767&r|e<<15:1073709056&r|32767&e;this.__setDigit(n,i)}}],[{key:"BigInt",value:function(t){var e=Number.isFinite;if("number"==typeof t){if(0===t)return u.__zero();if(u.__isOneDigitInt(t))return 0>t?u.__oneDigit(-t,!0):u.__oneDigit(t,!1);if(!e(t)||s(t)!==t)throw new RangeError("The number "+t+" cannot be converted to BigInt because it is not an integer");return u.__fromDouble(t)}if("string"==typeof t){var r=u.__fromString(t);if(null===r)throw new SyntaxError("Cannot convert "+t+" to a BigInt");return r}if("boolean"==typeof t)return!0===t?u.__oneDigit(1,!1):u.__zero();if("object"===n(t)){if(t.constructor===u)return t;var i=u.__toPrimitive(t);return u.BigInt(i)}throw new TypeError("Cannot convert "+t+" to a BigInt")}},{key:"toNumber",value:function(t){var e=t.length;if(0===e)return 0;if(1===e){var n=t.__unsignedDigit(0);return t.sign?-n:n}var r=t.__digit(e-1),i=u.__clz30(r),o=30*e-i;if(1024<o)return t.sign?-1/0:1/0;var a=o-1,s=r,c=e-1,l=i+3,d=32===l?0:s<<l;d>>>=12;var f=l-12,h=12<=l?0:s<<20+l,p=20+l;for(0<f&&0<c&&(c--,d|=(s=t.__digit(c))>>>30-f,h=s<<f+2,p=f+2);0<p&&0<c;)c--,s=t.__digit(c),h|=30<=p?s<<p-30:s>>>30-p,p-=30;var m=u.__decideRounding(t,p,c,s);if((1===m||0===m&&1==(1&h))&&0===(h=h+1>>>0)&&0!=++d>>>20&&(d=0,1023<++a))return t.sign?-1/0:1/0;var y=t.sign?-2147483648:0;return a=a+1023<<20,u.__kBitConversionInts[1]=y|a|d,u.__kBitConversionInts[0]=h,u.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(t){if(0===t.length)return t;var e=t.__copy();return e.sign=!t.sign,e}},{key:"bitwiseNot",value:function(t){return t.sign?u.__absoluteSubOne(t).__trim():u.__absoluteAddOne(t,!0)}},{key:"exponentiate",value:function(t,e){if(e.sign)throw new RangeError("Exponent must be positive");if(0===e.length)return u.__oneDigit(1,!1);if(0===t.length)return t;if(1===t.length&&1===t.__digit(0))return t.sign&&0==(1&e.__digit(0))?u.unaryMinus(t):t;if(1<e.length)throw new RangeError("BigInt too big");var n=e.__unsignedDigit(0);if(1===n)return t;if(n>=u.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===t.length&&2===t.__digit(0)){var r=1+(0|n/30),i=new u(r,t.sign&&0!=(1&n));i.__initializeDigits();var o=1<<n%30;return i.__setDigit(r-1,o),i}var a=null,s=t;for(0!=(1&n)&&(a=t),n>>=1;0!==n;n>>=1)s=u.multiply(s,s),0!=(1&n)&&(a=null===a?s:u.multiply(a,s));return a}},{key:"multiply",value:function(t,e){if(0===t.length)return t;if(0===e.length)return e;var n=t.length+e.length;30<=t.__clzmsd()+e.__clzmsd()&&n--;var r=new u(n,t.sign!==e.sign);r.__initializeDigits();for(var i=0;i<t.length;i++)u.__multiplyAccumulate(e,t.__digit(i),r,i);return r.__trim()}},{key:"divide",value:function(t,e){if(0===e.length)throw new RangeError("Division by zero");if(0>u.__absoluteCompare(t,e))return u.__zero();var n,r=t.sign!==e.sign,i=e.__unsignedDigit(0);if(1===e.length&&32767>=i){if(1===i)return r===t.sign?t:u.unaryMinus(t);n=u.__absoluteDivSmall(t,i,null)}else n=u.__absoluteDivLarge(t,e,!0,!1);return n.sign=r,n.__trim()}},{key:"remainder",value:function(t,e){if(0===e.length)throw new RangeError("Division by zero");if(0>u.__absoluteCompare(t,e))return t;var n=e.__unsignedDigit(0);if(1===e.length&&32767>=n){if(1===n)return u.__zero();var r=u.__absoluteModSmall(t,n);return 0===r?u.__zero():u.__oneDigit(r,t.sign)}var i=u.__absoluteDivLarge(t,e,!1,!0);return i.sign=t.sign,i.__trim()}},{key:"add",value:function(t,e){var n=t.sign;return n===e.sign?u.__absoluteAdd(t,e,n):0<=u.__absoluteCompare(t,e)?u.__absoluteSub(t,e,n):u.__absoluteSub(e,t,!n)}},{key:"subtract",value:function(t,e){var n=t.sign;return n===e.sign?0<=u.__absoluteCompare(t,e)?u.__absoluteSub(t,e,n):u.__absoluteSub(e,t,!n):u.__absoluteAdd(t,e,n)}},{key:"leftShift",value:function(t,e){return 0===e.length||0===t.length?t:e.sign?u.__rightShiftByAbsolute(t,e):u.__leftShiftByAbsolute(t,e)}},{key:"signedRightShift",value:function(t,e){return 0===e.length||0===t.length?t:e.sign?u.__leftShiftByAbsolute(t,e):u.__rightShiftByAbsolute(t,e)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(t,e){return 0>u.__compareToBigInt(t,e)}},{key:"lessThanOrEqual",value:function(t,e){return 0>=u.__compareToBigInt(t,e)}},{key:"greaterThan",value:function(t,e){return 0<u.__compareToBigInt(t,e)}},{key:"greaterThanOrEqual",value:function(t,e){return 0<=u.__compareToBigInt(t,e)}},{key:"equal",value:function(t,e){if(t.sign!==e.sign)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t.__digit(n)!==e.__digit(n))return!1;return!0}},{key:"notEqual",value:function(t,e){return!u.equal(t,e)}},{key:"bitwiseAnd",value:function(t,e){if(!t.sign&&!e.sign)return u.__absoluteAnd(t,e).__trim();if(t.sign&&e.sign){var n=i(t.length,e.length)+1,r=u.__absoluteSubOne(t,n),o=u.__absoluteSubOne(e);return r=u.__absoluteOr(r,o,r),u.__absoluteAddOne(r,!0,r).__trim()}if(t.sign){var a=[e,t];t=a[0],e=a[1]}return u.__absoluteAndNot(t,u.__absoluteSubOne(e)).__trim()}},{key:"bitwiseXor",value:function(t,e){if(!t.sign&&!e.sign)return u.__absoluteXor(t,e).__trim();if(t.sign&&e.sign){var n=i(t.length,e.length),r=u.__absoluteSubOne(t,n),o=u.__absoluteSubOne(e);return u.__absoluteXor(r,o,r).__trim()}var a=i(t.length,e.length)+1;if(t.sign){var s=[e,t];t=s[0],e=s[1]}var c=u.__absoluteSubOne(e,a);return c=u.__absoluteXor(c,t,c),u.__absoluteAddOne(c,!0,c).__trim()}},{key:"bitwiseOr",value:function(t,e){var n=i(t.length,e.length);if(!t.sign&&!e.sign)return u.__absoluteOr(t,e).__trim();if(t.sign&&e.sign){var r=u.__absoluteSubOne(t,n),o=u.__absoluteSubOne(e);return r=u.__absoluteAnd(r,o,r),u.__absoluteAddOne(r,!0,r).__trim()}if(t.sign){var a=[e,t];t=a[0],e=a[1]}var s=u.__absoluteSubOne(e,n);return s=u.__absoluteAndNot(s,t,s),u.__absoluteAddOne(s,!0,s).__trim()}},{key:"asIntN",value:function(t,e){if(0===e.length)return e;if(0>(t=s(t)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===t)return u.__zero();if(t>=u.__kMaxLengthBits)return e;var n=0|(t+29)/30;if(e.length<n)return e;var r=e.__unsignedDigit(n-1),i=1<<(t-1)%30;if(e.length===n&&r<i)return e;if((r&i)!==i)return u.__truncateToNBits(t,e);if(!e.sign)return u.__truncateAndSubFromPowerOfTwo(t,e,!0);if(0==(r&i-1)){for(var o=n-2;0<=o;o--)if(0!==e.__digit(o))return u.__truncateAndSubFromPowerOfTwo(t,e,!1);return e.length===n&&r===i?e:u.__truncateToNBits(t,e)}return u.__truncateAndSubFromPowerOfTwo(t,e,!1)}},{key:"asUintN",value:function(t,e){if(0===e.length)return e;if(0>(t=s(t)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===t)return u.__zero();if(e.sign){if(t>u.__kMaxLengthBits)throw new RangeError("BigInt too big");return u.__truncateAndSubFromPowerOfTwo(t,e,!1)}if(t>=u.__kMaxLengthBits)return e;var n=0|(t+29)/30;if(e.length<n)return e;var r=t%30;if(e.length==n){if(0===r)return e;if(0==e.__digit(n-1)>>>r)return e}return u.__truncateToNBits(t,e)}},{key:"ADD",value:function(t,e){if(t=u.__toPrimitive(t),e=u.__toPrimitive(e),"string"==typeof t)return"string"!=typeof e&&(e=e.toString()),t+e;if("string"==typeof e)return t.toString()+e;if(t=u.__toNumeric(t),e=u.__toNumeric(e),u.__isBigInt(t)&&u.__isBigInt(e))return u.add(t,e);if("number"==typeof t&&"number"==typeof e)return t+e;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(t,e){return u.__compare(t,e,0)}},{key:"LE",value:function(t,e){return u.__compare(t,e,1)}},{key:"GT",value:function(t,e){return u.__compare(t,e,2)}},{key:"GE",value:function(t,e){return u.__compare(t,e,3)}},{key:"EQ",value:function(t,e){for(;;){if(u.__isBigInt(t))return u.__isBigInt(e)?u.equal(t,e):u.EQ(e,t);if("number"==typeof t){if(u.__isBigInt(e))return u.__equalToNumber(e,t);if("object"!==n(e))return t==e;e=u.__toPrimitive(e)}else if("string"==typeof t){if(u.__isBigInt(e))return null!==(t=u.__fromString(t))&&u.equal(t,e);if("object"!==n(e))return t==e;e=u.__toPrimitive(e)}else if("boolean"==typeof t){if(u.__isBigInt(e))return u.__equalToNumber(e,+t);if("object"!==n(e))return t==e;e=u.__toPrimitive(e)}else if("symbol"===n(t)){if(u.__isBigInt(e))return!1;if("object"!==n(e))return t==e;e=u.__toPrimitive(e)}else{if("object"!==n(t))return t==e;if("object"===n(e)&&e.constructor!==u)return t==e;t=u.__toPrimitive(t)}}}},{key:"NE",value:function(t,e){return!u.EQ(t,e)}},{key:"DataViewGetBigInt64",value:function(t,e){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return u.asIntN(64,u.DataViewGetBigUint64(t,e,n))}},{key:"DataViewGetBigUint64",value:function(t,e){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],r=y(n?[4,0]:[0,4],2),i=r[0],o=r[1],a=t.getUint32(e+i,n),s=t.getUint32(e+o,n),c=new u(3,!1);return c.__setDigit(0,1073741823&s),c.__setDigit(1,(268435455&a)<<2|s>>>30),c.__setDigit(2,a>>>28),c.__trim()}},{key:"DataViewSetBigInt64",value:function(t,e,n){var r=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];u.DataViewSetBigUint64(t,e,n,r)}},{key:"DataViewSetBigUint64",value:function(t,e,n){var r=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],i=0,o=0;if(0<(n=u.asUintN(64,n)).length&&(o=n.__digit(0),1<n.length)){var a=n.__digit(1);o|=a<<30,i=a>>>2,2<n.length&&(i|=n.__digit(2)<<28)}var s=y(r?[4,0]:[0,4],2),c=s[0],l=s[1];t.setUint32(e+c,i,r),t.setUint32(e+l,o,r)}},{key:"__zero",value:function(){return new u(0,!1)}},{key:"__oneDigit",value:function(t,e){var n=new u(1,e);return n.__setDigit(0,t),n}},{key:"__decideRounding",value:function(t,e,n,r){if(0<e)return-1;var i;if(0>e)i=-e-1;else{if(0===n)return-1;n--,r=t.__digit(n),i=29}var o=1<<i;if(0==(r&o))return-1;if(0!=(r&(o-=1)))return 1;for(;0<n;)if(n--,0!==t.__digit(n))return 1;return 0}},{key:"__fromDouble",value:function(t){u.__kBitConversionDouble[0]=t;var e,n=(2047&u.__kBitConversionInts[1]>>>20)-1023,r=1+(0|n/30),i=new u(r,0>t),o=1048575&u.__kBitConversionInts[1]|1048576,a=u.__kBitConversionInts[0],s=20,c=n%30,l=0;if(c<s){var d=s-c;l=d+32,e=o>>>d,o=o<<32-d|a>>>d,a<<=32-d}else if(c===s)l=32,e=o,o=a,a=0;else{var f=c-s;l=32-f,e=o<<f|a>>>32-f,o=a<<f,a=0}i.__setDigit(r-1,e);for(var h=r-2;0<=h;h--)0<l?(l-=30,e=o>>>2,o=o<<30|a>>>2,a<<=30):e=0,i.__setDigit(h,e);return i.__trim()}},{key:"__isWhitespace",value:function(t){return!!(13>=t&&9<=t)||(159>=t?32==t:131071>=t?160==t||5760==t:196607>=t?10>=(t&=131071)||40==t||41==t||47==t||95==t||4096==t:65279==t)}},{key:"__fromString",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0,r=t.length,i=0;if(i===r)return u.__zero();for(var o=t.charCodeAt(i);u.__isWhitespace(o);){if(++i===r)return u.__zero();o=t.charCodeAt(i)}if(43===o){if(++i===r)return null;o=t.charCodeAt(i),n=1}else if(45===o){if(++i===r)return null;o=t.charCodeAt(i),n=-1}if(0===e){if(e=10,48===o){if(++i===r)return u.__zero();if(88===(o=t.charCodeAt(i))||120===o){if(e=16,++i===r)return null;o=t.charCodeAt(i)}else if(79===o||111===o){if(e=8,++i===r)return null;o=t.charCodeAt(i)}else if(66===o||98===o){if(e=2,++i===r)return null;o=t.charCodeAt(i)}}}else if(16===e&&48===o){if(++i===r)return u.__zero();if(88===(o=t.charCodeAt(i))||120===o){if(++i===r)return null;o=t.charCodeAt(i)}}if(0!==n&&10!==e)return null;for(;48===o;){if(++i===r)return u.__zero();o=t.charCodeAt(i)}var a=r-i,s=u.__kMaxBitsPerChar[e],c=u.__kBitsPerCharTableMultiplier-1;if(a>1073741824/s)return null;var l=new u(0|(29+(s*a+c>>>u.__kBitsPerCharTableShift))/30,!1),d=10>e?e:10,f=10<e?e-10:0;if(0==(e&e-1)){s>>=u.__kBitsPerCharTableShift;var h=[],p=[],m=!1;do{for(var y,g=0,v=0;;){if(y=void 0,o-48>>>0<d)y=o-48;else{if(!((32|o)-97>>>0<f)){m=!0;break}y=(32|o)-87}if(v+=s,g=g<<s|y,++i===r){m=!0;break}if(o=t.charCodeAt(i),30<v+s)break}h.push(g),p.push(v)}while(!m);u.__fillFromParts(l,h,p)}else{l.__initializeDigits();var w=!1,b=0;do{for(var _,A=0,S=1;;){if(_=void 0,o-48>>>0<d)_=o-48;else{if(!((32|o)-97>>>0<f)){w=!0;break}_=(32|o)-87}var E=S*e;if(1073741823<E)break;if(S=E,A=A*e+_,b++,++i===r){w=!0;break}o=t.charCodeAt(i)}var k=0|(s*b+(c=30*u.__kBitsPerCharTableMultiplier-1)>>>u.__kBitsPerCharTableShift)/30;l.__inplaceMultiplyAdd(S,A,k)}while(!w)}if(i!==r){if(!u.__isWhitespace(o))return null;for(i++;i<r;i++)if(o=t.charCodeAt(i),!u.__isWhitespace(o))return null}return l.sign=-1===n,l.__trim()}},{key:"__fillFromParts",value:function(t,e,n){for(var r=0,i=0,o=0,a=e.length-1;0<=a;a--){var s=e[a],u=n[a];i|=s<<o,30===(o+=u)?(t.__setDigit(r++,i),o=0,i=0):30<o&&(t.__setDigit(r++,1073741823&i),i=s>>>u-(o-=30))}if(0!==i){if(r>=t.length)throw new Error("implementation bug");t.__setDigit(r++,i)}for(;r<t.length;r++)t.__setDigit(r,0)}},{key:"__toStringBasePowerOfTwo",value:function(t,e){var n=t.length,r=e-1,i=r=(15&(r=(51&(r=(85&r>>>1)+(85&r))>>>2)+(51&r))>>>4)+(15&r),o=e-1,a=t.__digit(n-1),s=0|(30*n-u.__clz30(a)+i-1)/i;if(t.sign&&s++,268435456<s)throw new Error("string too long");for(var c=Array(s),l=s-1,d=0,f=0,h=0;h<n-1;h++){var p=t.__digit(h),m=(d|p<<f)&o;c[l--]=u.__kConversionChars[m];var y=i-f;for(d=p>>>y,f=30-y;f>=i;)c[l--]=u.__kConversionChars[d&o],d>>>=i,f-=i}var g=(d|a<<f)&o;for(c[l--]=u.__kConversionChars[g],d=a>>>i-f;0!==d;)c[l--]=u.__kConversionChars[d&o],d>>>=i;if(t.sign&&(c[l--]="-"),-1!==l)throw new Error("implementation bug");return c.join("")}},{key:"__toStringGeneric",value:function(t,e,n){var r=t.length;if(0===r)return"";if(1===r){var i=t.__unsignedDigit(0).toString(e);return!1===n&&t.sign&&(i="-"+i),i}var o,a,s=30*r-u.__clz30(t.__digit(r-1)),c=u.__kMaxBitsPerChar[e]-1,l=s*u.__kBitsPerCharTableMultiplier,d=1+(l=0|(l+=c-1)/c)>>1,f=u.exponentiate(u.__oneDigit(e,!1),u.__oneDigit(d,!1)),h=f.__unsignedDigit(0);if(1===f.length&&32767>=h){(o=new u(t.length,!1)).__initializeDigits();for(var p,m=0,y=2*t.length-1;0<=y;y--)p=m<<15|t.__halfDigit(y),o.__setHalfDigit(y,0|p/h),m=0|p%h;a=m.toString(e)}else{var g=u.__absoluteDivLarge(t,f,!0,!0);o=g.quotient;var v=g.remainder.__trim();a=u.__toStringGeneric(v,e,!0)}o.__trim();for(var w=u.__toStringGeneric(o,e,!0);a.length<d;)a="0"+a;return!1===n&&t.sign&&(w="-"+w),w+a}},{key:"__unequalSign",value:function(t){return t?-1:1}},{key:"__absoluteGreater",value:function(t){return t?-1:1}},{key:"__absoluteLess",value:function(t){return t?1:-1}},{key:"__compareToBigInt",value:function(t,e){var n=t.sign;if(n!==e.sign)return u.__unequalSign(n);var r=u.__absoluteCompare(t,e);return 0<r?u.__absoluteGreater(n):0>r?u.__absoluteLess(n):0}},{key:"__compareToNumber",value:function(t,n){if(u.__isOneDigitInt(n)){var r=t.sign,i=0>n;if(r!==i)return u.__unequalSign(r);if(0===t.length){if(i)throw new Error("implementation bug");return 0===n?0:-1}if(1<t.length)return u.__absoluteGreater(r);var o=e(n),a=t.__unsignedDigit(0);return a>o?u.__absoluteGreater(r):a<o?u.__absoluteLess(r):0}return u.__compareToDouble(t,n)}},{key:"__compareToDouble",value:function(t,e){if(e!==e)return e;if(e===1/0)return-1;if(e===-1/0)return 1;var n=t.sign;if(n!==0>e)return u.__unequalSign(n);if(0===e)throw new Error("implementation bug: should be handled elsewhere");if(0===t.length)return-1;u.__kBitConversionDouble[0]=e;var r=2047&u.__kBitConversionInts[1]>>>20;if(2047==r)throw new Error("implementation bug: handled elsewhere");var i=r-1023;if(0>i)return u.__absoluteGreater(n);var o=t.length,a=t.__digit(o-1),s=u.__clz30(a),c=30*o-s,l=i+1;if(c<l)return u.__absoluteLess(n);if(c>l)return u.__absoluteGreater(n);var d=1048576|1048575&u.__kBitConversionInts[1],f=u.__kBitConversionInts[0],h=20,p=29-s;if(p!==(0|(c-1)%30))throw new Error("implementation bug");var m,y=0;if(p<h){var g=h-p;y=g+32,m=d>>>g,d=d<<32-g|f>>>g,f<<=32-g}else if(p===h)y=32,m=d,d=f,f=0;else{var v=p-h;y=32-v,m=d<<v|f>>>32-v,d=f<<v,f=0}if((a>>>=0)>(m>>>=0))return u.__absoluteGreater(n);if(a<m)return u.__absoluteLess(n);for(var w=o-2;0<=w;w--){0<y?(y-=30,m=d>>>2,d=d<<30|f>>>2,f<<=30):m=0;var b=t.__unsignedDigit(w);if(b>m)return u.__absoluteGreater(n);if(b<m)return u.__absoluteLess(n)}if(0!==d||0!==f){if(0===y)throw new Error("implementation bug");return u.__absoluteLess(n)}return 0}},{key:"__equalToNumber",value:function(t,n){return u.__isOneDigitInt(n)?0===n?0===t.length:1===t.length&&t.sign===0>n&&t.__unsignedDigit(0)===e(n):0===u.__compareToDouble(t,n)}},{key:"__comparisonResultToBool",value:function(t,e){return 0===e?0>t:1===e?0>=t:2===e?0<t:3===e?0<=t:void 0}},{key:"__compare",value:function(t,e,n){if(t=u.__toPrimitive(t),e=u.__toPrimitive(e),"string"==typeof t&&"string"==typeof e)switch(n){case 0:return t<e;case 1:return t<=e;case 2:return t>e;case 3:return t>=e}if(u.__isBigInt(t)&&"string"==typeof e)return null!==(e=u.__fromString(e))&&u.__comparisonResultToBool(u.__compareToBigInt(t,e),n);if("string"==typeof t&&u.__isBigInt(e))return null!==(t=u.__fromString(t))&&u.__comparisonResultToBool(u.__compareToBigInt(t,e),n);if(t=u.__toNumeric(t),e=u.__toNumeric(e),u.__isBigInt(t)){if(u.__isBigInt(e))return u.__comparisonResultToBool(u.__compareToBigInt(t,e),n);if("number"!=typeof e)throw new Error("implementation bug");return u.__comparisonResultToBool(u.__compareToNumber(t,e),n)}if("number"!=typeof t)throw new Error("implementation bug");if(u.__isBigInt(e))return u.__comparisonResultToBool(u.__compareToNumber(e,t),2^n);if("number"!=typeof e)throw new Error("implementation bug");return 0===n?t<e:1===n?t<=e:2===n?t>e:3===n?t>=e:void 0}},{key:"__absoluteAdd",value:function(t,e,n){if(t.length<e.length)return u.__absoluteAdd(e,t,n);if(0===t.length)return t;if(0===e.length)return t.sign===n?t:u.unaryMinus(t);var r=t.length;(0===t.__clzmsd()||e.length===t.length&&0===e.__clzmsd())&&r++;for(var i,o=new u(r,n),a=0,s=0;s<e.length;s++)a=(i=t.__digit(s)+e.__digit(s)+a)>>>30,o.__setDigit(s,1073741823&i);for(;s<t.length;s++){var c=t.__digit(s)+a;a=c>>>30,o.__setDigit(s,1073741823&c)}return s<o.length&&o.__setDigit(s,a),o.__trim()}},{key:"__absoluteSub",value:function(t,e,n){if(0===t.length)return t;if(0===e.length)return t.sign===n?t:u.unaryMinus(t);for(var r,i=new u(t.length,n),o=0,a=0;a<e.length;a++)o=1&(r=t.__digit(a)-e.__digit(a)-o)>>>30,i.__setDigit(a,1073741823&r);for(;a<t.length;a++){var s=t.__digit(a)-o;o=1&s>>>30,i.__setDigit(a,1073741823&s)}return i.__trim()}},{key:"__absoluteAddOne",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=t.length;null===n?n=new u(r,e):n.sign=e;for(var i,o=1,a=0;a<r;a++)o=(i=t.__digit(a)+o)>>>30,n.__setDigit(a,1073741823&i);return 0!==o&&n.__setDigitGrow(r,1),n}},{key:"__absoluteSubOne",value:function(t,e){for(var n,r=t.length,i=new u(e=e||r,!1),o=1,a=0;a<r;a++)o=1&(n=t.__digit(a)-o)>>>30,i.__setDigit(a,1073741823&n);if(0!==o)throw new Error("implementation bug");for(var s=r;s<e;s++)i.__setDigit(s,0);return i}},{key:"__absoluteAnd",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=t.length,i=e.length,o=i;if(r<i){o=r;var a=t,s=r;t=e,r=i,e=a,i=s}var c=o;null===n?n=new u(c,!1):c=n.length;for(var l=0;l<o;l++)n.__setDigit(l,t.__digit(l)&e.__digit(l));for(;l<c;l++)n.__setDigit(l,0);return n}},{key:"__absoluteAndNot",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=t.length,i=e.length,o=i;r<i&&(o=r);var a=r;null===n?n=new u(a,!1):a=n.length;for(var s=0;s<o;s++)n.__setDigit(s,t.__digit(s)&~e.__digit(s));for(;s<r;s++)n.__setDigit(s,t.__digit(s));for(;s<a;s++)n.__setDigit(s,0);return n}},{key:"__absoluteOr",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=t.length,i=e.length,o=i;if(r<i){o=r;var a=t,s=r;t=e,r=i,e=a,i=s}var c=r;null===n?n=new u(c,!1):c=n.length;for(var l=0;l<o;l++)n.__setDigit(l,t.__digit(l)|e.__digit(l));for(;l<r;l++)n.__setDigit(l,t.__digit(l));for(;l<c;l++)n.__setDigit(l,0);return n}},{key:"__absoluteXor",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=t.length,i=e.length,o=i;if(r<i){o=r;var a=t,s=r;t=e,r=i,e=a,i=s}var c=r;null===n?n=new u(c,!1):c=n.length;for(var l=0;l<o;l++)n.__setDigit(l,t.__digit(l)^e.__digit(l));for(;l<r;l++)n.__setDigit(l,t.__digit(l));for(;l<c;l++)n.__setDigit(l,0);return n}},{key:"__absoluteCompare",value:function(t,e){var n=t.length-e.length;if(0!=n)return n;for(var r=t.length-1;0<=r&&t.__digit(r)===e.__digit(r);)r--;return 0>r?0:t.__unsignedDigit(r)>e.__unsignedDigit(r)?1:-1}},{key:"__multiplyAccumulate",value:function(t,e,n,r){if(0!==e){for(var i=32767&e,o=e>>>15,a=0,s=0,c=0;c<t.length;c++,r++){var l=n.__digit(r),d=t.__digit(c),f=32767&d,h=d>>>15,p=u.__imul(f,i),m=u.__imul(f,o),y=u.__imul(h,i);a=(l+=s+p+a)>>>30,l&=1073741823,a+=(l+=((32767&m)<<15)+((32767&y)<<15))>>>30,s=u.__imul(h,o)+(m>>>15)+(y>>>15),n.__setDigit(r,1073741823&l)}for(;0!==a||0!==s;r++){var g=n.__digit(r);g+=a+s,s=0,a=g>>>30,n.__setDigit(r,1073741823&g)}}}},{key:"__internalMultiplyAdd",value:function(t,e,n,r,i){for(var o=n,a=0,s=0;s<r;s++){var c=t.__digit(s),l=u.__imul(32767&c,e),d=u.__imul(c>>>15,e),f=l+((32767&d)<<15)+a+o;o=f>>>30,a=d>>>15,i.__setDigit(s,1073741823&f)}if(i.length>r)for(i.__setDigit(r++,o+a);r<i.length;)i.__setDigit(r++,0);else if(0!==o+a)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=new u(t.length,!1));for(var r=0,i=2*t.length-1;0<=i;i-=2){var o=(r<<15|t.__halfDigit(i))>>>0,a=0|o/e,s=0|(o=((r=0|o%e)<<15|t.__halfDigit(i-1))>>>0)/e;r=0|o%e,n.__setDigit(i>>>1,a<<15|s)}return n}},{key:"__absoluteModSmall",value:function(t,e){for(var n=0,r=2*t.length-1;0<=r;r--)n=0|((n<<15|t.__halfDigit(r))>>>0)%e;return n}},{key:"__absoluteDivLarge",value:function(t,e,n,r){var i=e.__halfDigitLength(),o=e.length,a=t.__halfDigitLength()-i,s=null;n&&(s=new u(a+2>>>1,!1)).__initializeDigits();var c=new u(i+2>>>1,!1);c.__initializeDigits();var l=u.__clz15(e.__halfDigit(i-1));0<l&&(e=u.__specialLeftShift(e,l,0));for(var d=u.__specialLeftShift(t,l,1),f=e.__halfDigit(i-1),h=0,p=a;0<=p;p--){var m=32767,y=d.__halfDigit(p+i);if(y!==f){var g=(y<<15|d.__halfDigit(p+i-1))>>>0;m=0|g/f;for(var v=0|g%f,w=e.__halfDigit(i-2),b=d.__halfDigit(p+i-2);u.__imul(m,w)>>>0>(v<<16|b)>>>0&&(m--,!(32767<(v+=f))););}u.__internalMultiplyAdd(e,m,0,o,c);var _=d.__inplaceSub(c,p,i+1);0!==_&&(_=d.__inplaceAdd(e,p,i),d.__setHalfDigit(p+i,32767&d.__halfDigit(p+i)+_),m--),n&&(1&p?h=m<<15:s.__setDigit(p>>>1,h|m))}if(r)return d.__inplaceRightShift(l),n?{quotient:s,remainder:d}:d;if(n)return s;throw new Error("unreachable")}},{key:"__clz15",value:function(t){return u.__clz30(t)-15}},{key:"__specialLeftShift",value:function(t,e,n){var r=t.length,i=new u(r+n,!1);if(0===e){for(var o=0;o<r;o++)i.__setDigit(o,t.__digit(o));return 0<n&&i.__setDigit(r,0),i}for(var a,s=0,c=0;c<r;c++)a=t.__digit(c),i.__setDigit(c,1073741823&a<<e|s),s=a>>>30-e;return 0<n&&i.__setDigit(r,s),i}},{key:"__leftShiftByAbsolute",value:function(t,e){var n=u.__toShiftAmount(e);if(0>n)throw new RangeError("BigInt too big");var r=0|n/30,i=n%30,o=t.length,a=0!==i&&0!=t.__digit(o-1)>>>30-i,s=o+r+(a?1:0),c=new u(s,t.sign);if(0===i){for(var l=0;l<r;l++)c.__setDigit(l,0);for(;l<s;l++)c.__setDigit(l,t.__digit(l-r))}else{for(var d=0,f=0;f<r;f++)c.__setDigit(f,0);for(var h,p=0;p<o;p++)h=t.__digit(p),c.__setDigit(p+r,1073741823&h<<i|d),d=h>>>30-i;if(a)c.__setDigit(o+r,d);else if(0!==d)throw new Error("implementation bug")}return c.__trim()}},{key:"__rightShiftByAbsolute",value:function(t,e){var n=t.length,r=t.sign,i=u.__toShiftAmount(e);if(0>i)return u.__rightShiftByMaximum(r);var o=0|i/30,a=i%30,s=n-o;if(0>=s)return u.__rightShiftByMaximum(r);var c=!1;if(r)if(0!=(t.__digit(o)&(1<<a)-1))c=!0;else for(var l=0;l<o;l++)if(0!==t.__digit(l)){c=!0;break}c&&0===a&&0==~t.__digit(n-1)&&s++;var d=new u(s,r);if(0===a){d.__setDigit(s-1,0);for(var f=o;f<n;f++)d.__setDigit(f-o,t.__digit(f))}else{for(var h,p=t.__digit(o)>>>a,m=n-o-1,y=0;y<m;y++)h=t.__digit(y+o+1),d.__setDigit(y,1073741823&h<<30-a|p),p=h>>>a;d.__setDigit(m,p)}return c&&(d=u.__absoluteAddOne(d,!0,d)),d.__trim()}},{key:"__rightShiftByMaximum",value:function(t){return t?u.__oneDigit(1,!0):u.__zero()}},{key:"__toShiftAmount",value:function(t){if(1<t.length)return-1;var e=t.__unsignedDigit(0);return e>u.__kMaxLengthBits?-1:e}},{key:"__toPrimitive",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==n(t))return t;if(t.constructor===u)return t;if("undefined"!=typeof Symbol&&"symbol"===n(Symbol.toPrimitive)){var r=t[Symbol.toPrimitive];if(r){var i=r(e);if("object"!==n(i))return i;throw new TypeError("Cannot convert object to primitive value")}}var o=t.valueOf;if(o){var a=o.call(t);if("object"!==n(a))return a}var s=t.toString;if(s){var c=s.call(t);if("object"!==n(c))return c}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(t){return u.__isBigInt(t)?t:+t}},{key:"__isBigInt",value:function(t){return"object"===n(t)&&null!==t&&t.constructor===u}},{key:"__truncateToNBits",value:function(t,e){for(var n=0|(t+29)/30,r=new u(n,e.sign),i=n-1,o=0;o<i;o++)r.__setDigit(o,e.__digit(o));var a=e.__digit(i);if(0!=t%30){var s=32-t%30;a=a<<s>>>s}return r.__setDigit(i,a),r.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(t,e,n){for(var r,i=Math.min,o=0|(t+29)/30,a=new u(o,n),s=0,c=o-1,l=0,d=i(c,e.length);s<d;s++)l=1&(r=0-e.__digit(s)-l)>>>30,a.__setDigit(s,1073741823&r);for(;s<c;s++)a.__setDigit(s,0|1073741823&-l);var f,h=c<e.length?e.__digit(c):0,p=t%30;if(0===p)f=0-h-l,f&=1073741823;else{var m=32-p,y=1<<32-m;f=y-(h=h<<m>>>m)-l,f&=y-1}return a.__setDigit(c,f),a.__trim()}},{key:"__digitPow",value:function(t,e){for(var n=1;0<e;)1&e&&(n*=t),e>>>=1,t*=t;return n}},{key:"__isOneDigitInt",value:function(t){return(1073741823&t)===t}}]),u}(f(Array));return S.__kMaxLength=33554432,S.__kMaxLengthBits=S.__kMaxLength<<5,S.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],S.__kBitsPerCharTableShift=5,S.__kBitsPerCharTableMultiplier=1<<S.__kBitsPerCharTableShift,S.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],S.__kBitConversionBuffer=new ArrayBuffer(8),S.__kBitConversionDouble=new Float64Array(S.__kBitConversionBuffer),S.__kBitConversionInts=new Int32Array(S.__kBitConversionBuffer),S.__clz30=e?function(t){return e(t)-2}:function(t){var e=Math.LN2,n=Math.log;return 0===t?30:0|29-(0|n(t>>>0)/e)},S.__imul=t||function(t,e){return 0|t*e},S}()},4150:function(t,e,n){t=n.nmd(t);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Array]",s="[object Boolean]",u="[object Date]",c="[object Error]",l="[object Function]",d="[object Map]",f="[object Number]",h="[object Object]",p="[object Promise]",m="[object RegExp]",y="[object Set]",g="[object String]",v="[object Symbol]",w="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",A=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S=/^\w*$/,E=/^\./,k=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T=/\\(\\)?/g,I=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[o]=P[a]=P[b]=P[s]=P[_]=P[u]=P[c]=P[l]=P[d]=P[f]=P[h]=P[m]=P[y]=P[g]=P[w]=!1;var M="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,B="object"==typeof self&&self&&self.Object===Object&&self,O=M||B||Function("return this")(),L=e&&!e.nodeType&&e,D=L&&t&&!t.nodeType&&t,C=D&&D.exports===L&&M.process,R=function(){try{return C&&C.binding("util")}catch(t){}}(),U=R&&R.isTypedArray;function N(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function z(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function j(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function F(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var q,K,V=Array.prototype,$=Function.prototype,G=Object.prototype,W=O["__core-js_shared__"],H=function(){var t=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),X=$.toString,Y=G.hasOwnProperty,J=G.toString,Z=RegExp("^"+X.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=O.Symbol,tt=O.Uint8Array,et=G.propertyIsEnumerable,nt=V.splice,rt=(q=Object.keys,K=Object,function(t){return q(K(t))}),it=Rt(O,"DataView"),ot=Rt(O,"Map"),at=Rt(O,"Promise"),st=Rt(O,"Set"),ut=Rt(O,"WeakMap"),ct=Rt(Object,"create"),lt=Vt(it),dt=Vt(ot),ft=Vt(at),ht=Vt(st),pt=Vt(ut),mt=Q?Q.prototype:void 0,yt=mt?mt.valueOf:void 0,gt=mt?mt.toString:void 0;function vt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function wt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function bt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _t(t){var e=-1,n=t?t.length:0;for(this.__data__=new bt;++e<n;)this.add(t[e])}function At(t){this.__data__=new wt(t)}function St(t,e){var n=Ht(t)||Wt(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var o in t)!e&&!Y.call(t,o)||i&&("length"==o||Nt(o,r))||n.push(o);return n}function Et(t,e){for(var n=t.length;n--;)if(Gt(t[n][0],e))return n;return-1}vt.prototype.clear=function(){this.__data__=ct?ct(null):{}},vt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},vt.prototype.get=function(t){var e=this.__data__;if(ct){var n=e[t];return n===r?void 0:n}return Y.call(e,t)?e[t]:void 0},vt.prototype.has=function(t){var e=this.__data__;return ct?void 0!==e[t]:Y.call(e,t)},vt.prototype.set=function(t,e){return this.__data__[t]=ct&&void 0===e?r:e,this},wt.prototype.clear=function(){this.__data__=[]},wt.prototype.delete=function(t){var e=this.__data__,n=Et(e,t);return!(n<0)&&(n==e.length-1?e.pop():nt.call(e,n,1),!0)},wt.prototype.get=function(t){var e=this.__data__,n=Et(e,t);return n<0?void 0:e[n][1]},wt.prototype.has=function(t){return Et(this.__data__,t)>-1},wt.prototype.set=function(t,e){var n=this.__data__,r=Et(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},bt.prototype.clear=function(){this.__data__={hash:new vt,map:new(ot||wt),string:new vt}},bt.prototype.delete=function(t){return Ct(this,t).delete(t)},bt.prototype.get=function(t){return Ct(this,t).get(t)},bt.prototype.has=function(t){return Ct(this,t).has(t)},bt.prototype.set=function(t,e){return Ct(this,t).set(t,e),this},_t.prototype.add=_t.prototype.push=function(t){return this.__data__.set(t,r),this},_t.prototype.has=function(t){return this.__data__.has(t)},At.prototype.clear=function(){this.__data__=new wt},At.prototype.delete=function(t){return this.__data__.delete(t)},At.prototype.get=function(t){return this.__data__.get(t)},At.prototype.has=function(t){return this.__data__.has(t)},At.prototype.set=function(t,e){var n=this.__data__;if(n instanceof wt){var r=n.__data__;if(!ot||r.length<199)return r.push([t,e]),this;n=this.__data__=new bt(r)}return n.set(t,e),this};var kt,Tt=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var s=o[kt?a:++r];if(!1===e(i[s],s,i))break}return t};function It(t,e){for(var n=0,r=(e=zt(e,t)?[e]:Lt(e)).length;null!=t&&n<r;)t=t[Kt(e[n++])];return n&&n==r?t:void 0}function xt(t,e){return null!=t&&e in Object(t)}function Pt(t,e,n,r,i){return t===e||(null==t||null==e||!Zt(t)&&!Qt(e)?t!==t&&e!==e:function(t,e,n,r,i,l){var p=Ht(t),w=Ht(e),A=a,S=a;p||(A=(A=Ut(t))==o?h:A);w||(S=(S=Ut(e))==o?h:S);var E=A==h&&!z(t),k=S==h&&!z(e),T=A==S;if(T&&!E)return l||(l=new At),p||ee(t)?Dt(t,e,n,r,i,l):function(t,e,n,r,i,o,a){switch(n){case _:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case b:return!(t.byteLength!=e.byteLength||!r(new tt(t),new tt(e)));case s:case u:case f:return Gt(+t,+e);case c:return t.name==e.name&&t.message==e.message;case m:case g:return t==e+"";case d:var l=j;case y:var h=2&o;if(l||(l=F),t.size!=e.size&&!h)return!1;var p=a.get(t);if(p)return p==e;o|=1,a.set(t,e);var w=Dt(l(t),l(e),r,i,o,a);return a.delete(t),w;case v:if(yt)return yt.call(t)==yt.call(e)}return!1}(t,e,A,n,r,i,l);if(!(2&i)){var I=E&&Y.call(t,"__wrapped__"),x=k&&Y.call(e,"__wrapped__");if(I||x){var P=I?t.value():t,M=x?e.value():e;return l||(l=new At),n(P,M,r,i,l)}}if(!T)return!1;return l||(l=new At),function(t,e,n,r,i,o){var a=2&i,s=ne(t),u=s.length,c=ne(e).length;if(u!=c&&!a)return!1;var l=u;for(;l--;){var d=s[l];if(!(a?d in e:Y.call(e,d)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var h=!0;o.set(t,e),o.set(e,t);var p=a;for(;++l<u;){var m=t[d=s[l]],y=e[d];if(r)var g=a?r(y,m,d,e,t,o):r(m,y,d,t,e,o);if(!(void 0===g?m===y||n(m,y,r,i,o):g)){h=!1;break}p||(p="constructor"==d)}if(h&&!p){var v=t.constructor,w=e.constructor;v==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof w&&w instanceof w||(h=!1)}return o.delete(t),o.delete(e),h}(t,e,n,r,i,l)}(t,e,Pt,n,r,i))}function Mt(t){return!(!Zt(t)||function(t){return!!H&&H in t}(t))&&(Yt(t)||z(t)?Z:I).test(Vt(t))}function Bt(t){return"function"==typeof t?t:null==t?re:"object"==typeof t?Ht(t)?function(t,e){if(zt(t)&&jt(e))return Ft(Kt(t),e);return function(n){var r=function(t,e,n){var r=null==t?void 0:It(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){e=zt(e,t)?[e]:Lt(e);var r,i=-1,o=e.length;for(;++i<o;){var a=Kt(e[i]);if(!(r=null!=t&&n(t,a)))break;t=t[a]}if(r)return r;return!!(o=t?t.length:0)&&Jt(o)&&Nt(a,o)&&(Ht(t)||Wt(t))}(t,e,xt)}(n,t):Pt(e,r,void 0,3)}}(t[0],t[1]):function(t){var e=function(t){var e=ne(t),n=e.length;for(;n--;){var r=e[n],i=t[r];e[n]=[r,i,jt(i)]}return e}(t);if(1==e.length&&e[0][2])return Ft(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var u=(s=n[i])[0],c=t[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in t))return!1}else{var d=new At;if(r)var f=r(c,l,u,t,e,d);if(!(void 0===f?Pt(l,c,r,3,d):f))return!1}}return!0}(n,t,e)}}(t):function(t){return zt(t)?(e=Kt(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return It(e,t)}}(t);var e}(t)}function Ot(t){if(!function(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||G;return t===n}(t))return rt(t);var e=[];for(var n in Object(t))Y.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Lt(t){return Ht(t)?t:qt(t)}function Dt(t,e,n,r,i,o){var a=2&i,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var l=-1,d=!0,f=1&i?new _t:void 0;for(o.set(t,e),o.set(e,t);++l<s;){var h=t[l],p=e[l];if(r)var m=a?r(p,h,l,e,t,o):r(h,p,l,t,e,o);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!N(e,(function(t,e){if(!f.has(e)&&(h===t||n(h,t,r,i,o)))return f.add(e)}))){d=!1;break}}else if(h!==p&&!n(h,p,r,i,o)){d=!1;break}}return o.delete(t),o.delete(e),d}function Ct(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Rt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Mt(n)?n:void 0}var Ut=function(t){return J.call(t)};function Nt(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||x.test(t))&&t>-1&&t%1==0&&t<e}function zt(t,e){if(Ht(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!te(t))||(S.test(t)||!A.test(t)||null!=e&&t in Object(e))}function jt(t){return t===t&&!Zt(t)}function Ft(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(it&&Ut(new it(new ArrayBuffer(1)))!=_||ot&&Ut(new ot)!=d||at&&Ut(at.resolve())!=p||st&&Ut(new st)!=y||ut&&Ut(new ut)!=w)&&(Ut=function(t){var e=J.call(t),n=e==h?t.constructor:void 0,r=n?Vt(n):void 0;if(r)switch(r){case lt:return _;case dt:return d;case ft:return p;case ht:return y;case pt:return w}return e});var qt=$t((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(te(t))return gt?gt.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var n=[];return E.test(t)&&n.push(""),t.replace(k,(function(t,e,r,i){n.push(r?i.replace(T,"$1"):e||t)})),n}));function Kt(t){if("string"==typeof t||te(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Vt(t){if(null!=t){try{return X.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function $t(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new($t.Cache||bt),n}function Gt(t,e){return t===e||t!==t&&e!==e}function Wt(t){return function(t){return Qt(t)&&Xt(t)}(t)&&Y.call(t,"callee")&&(!et.call(t,"callee")||J.call(t)==o)}$t.Cache=bt;var Ht=Array.isArray;function Xt(t){return null!=t&&Jt(t.length)&&!Yt(t)}function Yt(t){var e=Zt(t)?J.call(t):"";return e==l||"[object GeneratorFunction]"==e}function Jt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function Zt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Qt(t){return!!t&&"object"==typeof t}function te(t){return"symbol"==typeof t||Qt(t)&&J.call(t)==v}var ee=U?function(t){return function(e){return t(e)}}(U):function(t){return Qt(t)&&Jt(t.length)&&!!P[J.call(t)]};function ne(t){return Xt(t)?St(t):Ot(t)}function re(t){return t}t.exports=function(t,e){var n={};return e=Bt(e),function(t,e){t&&Tt(t,e,ne)}(t,(function(t,r,i){n[r]=e(t,r,i)})),n}},2962:function(t,e,n){"use strict";n.d(e,{PB:function(){return l}});var r=n(9008),i=n(7294);function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var s={templateTitle:"",noindex:!1,nofollow:!1,defaultOpenGraphImageWidth:0,defaultOpenGraphImageHeight:0,defaultOpenGraphVideoWidth:0,defaultOpenGraphVideoHeight:0,disableGooglebot:!1},u=function(t,e,n){void 0===e&&(e=[]);var r=void 0===n?{}:n,o=r.defaultWidth,a=r.defaultHeight;return e.reduce((function(e,n,r){return e.push(i.createElement("meta",{key:"og:"+t+":0"+r,property:"og:"+t,content:n.url})),n.alt&&e.push(i.createElement("meta",{key:"og:"+t+":alt0"+r,property:"og:"+t+":alt",content:n.alt})),n.secureUrl&&e.push(i.createElement("meta",{key:"og:"+t+":secure_url0"+r,property:"og:"+t+":secure_url",content:n.secureUrl.toString()})),n.type&&e.push(i.createElement("meta",{key:"og:"+t+":type0"+r,property:"og:"+t+":type",content:n.type.toString()})),n.width?e.push(i.createElement("meta",{key:"og:"+t+":width0"+r,property:"og:"+t+":width",content:n.width.toString()})):o&&e.push(i.createElement("meta",{key:"og:"+t+":width0"+r,property:"og:"+t+":width",content:o.toString()})),n.height?e.push(i.createElement("meta",{key:"og:"+t+":height"+r,property:"og:"+t+":height",content:n.height.toString()})):a&&e.push(i.createElement("meta",{key:"og:"+t+":height"+r,property:"og:"+t+":height",content:a.toString()})),e}),[])},c=function(t){var e,n,r,a=[];t.titleTemplate&&(s.templateTitle=t.titleTemplate);var c="";t.title?(c=t.title,s.templateTitle&&(c=s.templateTitle.replace(/%s/g,(function(){return c})))):t.defaultTitle&&(c=t.defaultTitle),c&&a.push(i.createElement("title",{key:"title"},c));var l,d,f=t.noindex||s.noindex||t.dangerouslySetAllPagesToNoIndex,h=t.nofollow||s.nofollow||t.dangerouslySetAllPagesToNoFollow,p=t.disableGooglebot||s.disableGooglebot||t.dangerouslyDisableGooglebot,m="";if(t.robotsProps){var y=t.robotsProps,g=y.nosnippet,v=y.maxSnippet,w=y.maxImagePreview,b=y.maxVideoPreview,_=y.noarchive,A=y.noimageindex,S=y.notranslate,E=y.unavailableAfter;m=(g?",nosnippet":"")+(v?",max-snippet:"+v:"")+(w?",max-image-preview:"+w:"")+(_?",noarchive":"")+(E?",unavailable_after:"+E:"")+(A?",noimageindex":"")+(b?",max-video-preview:"+b:"")+(S?",notranslate":"")}(t.dangerouslyDisableGooglebot&&(s.disableGooglebot=!0),f||h?(t.dangerouslySetAllPagesToNoIndex&&(s.noindex=!0),t.dangerouslySetAllPagesToNoFollow&&(s.nofollow=!0),a.push(i.createElement("meta",{key:"robots",name:"robots",content:(f?"noindex":"index")+","+(h?"nofollow":"follow")+m})),p||a.push(i.createElement("meta",{key:"googlebot",name:"googlebot",content:(f?"noindex":"index")+","+(h?"nofollow":"follow")+m}))):(a.push(i.createElement("meta",{key:"robots",name:"robots",content:"index,follow"+m})),p||a.push(i.createElement("meta",{key:"googlebot",name:"googlebot",content:"index,follow"+m}))),t.description&&a.push(i.createElement("meta",{key:"description",name:"description",content:t.description})),t.mobileAlternate&&a.push(i.createElement("link",{rel:"alternate",key:"mobileAlternate",media:t.mobileAlternate.media,href:t.mobileAlternate.href})),t.languageAlternates&&t.languageAlternates.length>0&&t.languageAlternates.forEach((function(t){a.push(i.createElement("link",{rel:"alternate",key:"languageAlternate-"+t.hrefLang,hrefLang:t.hrefLang,href:t.href}))})),t.twitter&&(t.twitter.cardType&&a.push(i.createElement("meta",{key:"twitter:card",name:"twitter:card",content:t.twitter.cardType})),t.twitter.site&&a.push(i.createElement("meta",{key:"twitter:site",name:"twitter:site",content:t.twitter.site})),t.twitter.handle&&a.push(i.createElement("meta",{key:"twitter:creator",name:"twitter:creator",content:t.twitter.handle}))),t.facebook&&t.facebook.appId&&a.push(i.createElement("meta",{key:"fb:app_id",property:"fb:app_id",content:t.facebook.appId})),null!=(e=t.openGraph)&&e.title||t.title)&&a.push(i.createElement("meta",{key:"og:title",property:"og:title",content:(null==(l=t.openGraph)?void 0:l.title)||c}));(null!=(n=t.openGraph)&&n.description||t.description)&&a.push(i.createElement("meta",{key:"og:description",property:"og:description",content:(null==(d=t.openGraph)?void 0:d.description)||t.description}));if(t.openGraph){if((t.openGraph.url||t.canonical)&&a.push(i.createElement("meta",{key:"og:url",property:"og:url",content:t.openGraph.url||t.canonical})),t.openGraph.type){var k=t.openGraph.type.toLowerCase();a.push(i.createElement("meta",{key:"og:type",property:"og:type",content:k})),"profile"===k&&t.openGraph.profile?(t.openGraph.profile.firstName&&a.push(i.createElement("meta",{key:"profile:first_name",property:"profile:first_name",content:t.openGraph.profile.firstName})),t.openGraph.profile.lastName&&a.push(i.createElement("meta",{key:"profile:last_name",property:"profile:last_name",content:t.openGraph.profile.lastName})),t.openGraph.profile.username&&a.push(i.createElement("meta",{key:"profile:username",property:"profile:username",content:t.openGraph.profile.username})),t.openGraph.profile.gender&&a.push(i.createElement("meta",{key:"profile:gender",property:"profile:gender",content:t.openGraph.profile.gender}))):"book"===k&&t.openGraph.book?(t.openGraph.book.authors&&t.openGraph.book.authors.length&&t.openGraph.book.authors.forEach((function(t,e){a.push(i.createElement("meta",{key:"book:author:0"+e,property:"book:author",content:t}))})),t.openGraph.book.isbn&&a.push(i.createElement("meta",{key:"book:isbn",property:"book:isbn",content:t.openGraph.book.isbn})),t.openGraph.book.releaseDate&&a.push(i.createElement("meta",{key:"book:release_date",property:"book:release_date",content:t.openGraph.book.releaseDate})),t.openGraph.book.tags&&t.openGraph.book.tags.length&&t.openGraph.book.tags.forEach((function(t,e){a.push(i.createElement("meta",{key:"book:tag:0"+e,property:"book:tag",content:t}))}))):"article"===k&&t.openGraph.article?(t.openGraph.article.publishedTime&&a.push(i.createElement("meta",{key:"article:published_time",property:"article:published_time",content:t.openGraph.article.publishedTime})),t.openGraph.article.modifiedTime&&a.push(i.createElement("meta",{key:"article:modified_time",property:"article:modified_time",content:t.openGraph.article.modifiedTime})),t.openGraph.article.expirationTime&&a.push(i.createElement("meta",{key:"article:expiration_time",property:"article:expiration_time",content:t.openGraph.article.expirationTime})),t.openGraph.article.authors&&t.openGraph.article.authors.length&&t.openGraph.article.authors.forEach((function(t,e){a.push(i.createElement("meta",{key:"article:author:0"+e,property:"article:author",content:t}))})),t.openGraph.article.section&&a.push(i.createElement("meta",{key:"article:section",property:"article:section",content:t.openGraph.article.section})),t.openGraph.article.tags&&t.openGraph.article.tags.length&&t.openGraph.article.tags.forEach((function(t,e){a.push(i.createElement("meta",{key:"article:tag:0"+e,property:"article:tag",content:t}))}))):"video.movie"!==k&&"video.episode"!==k&&"video.tv_show"!==k&&"video.other"!==k||!t.openGraph.video||(t.openGraph.video.actors&&t.openGraph.video.actors.length&&t.openGraph.video.actors.forEach((function(t,e){t.profile&&a.push(i.createElement("meta",{key:"video:actor:0"+e,property:"video:actor",content:t.profile})),t.role&&a.push(i.createElement("meta",{key:"video:actor:role:0"+e,property:"video:actor:role",content:t.role}))})),t.openGraph.video.directors&&t.openGraph.video.directors.length&&t.openGraph.video.directors.forEach((function(t,e){a.push(i.createElement("meta",{key:"video:director:0"+e,property:"video:director",content:t}))})),t.openGraph.video.writers&&t.openGraph.video.writers.length&&t.openGraph.video.writers.forEach((function(t,e){a.push(i.createElement("meta",{key:"video:writer:0"+e,property:"video:writer",content:t}))})),t.openGraph.video.duration&&a.push(i.createElement("meta",{key:"video:duration",property:"video:duration",content:t.openGraph.video.duration.toString()})),t.openGraph.video.releaseDate&&a.push(i.createElement("meta",{key:"video:release_date",property:"video:release_date",content:t.openGraph.video.releaseDate})),t.openGraph.video.tags&&t.openGraph.video.tags.length&&t.openGraph.video.tags.forEach((function(t,e){a.push(i.createElement("meta",{key:"video:tag:0"+e,property:"video:tag",content:t}))})),t.openGraph.video.series&&a.push(i.createElement("meta",{key:"video:series",property:"video:series",content:t.openGraph.video.series})))}t.defaultOpenGraphImageWidth&&(s.defaultOpenGraphImageWidth=t.defaultOpenGraphImageWidth),t.defaultOpenGraphImageHeight&&(s.defaultOpenGraphImageHeight=t.defaultOpenGraphImageHeight),t.openGraph.images&&t.openGraph.images.length&&a.push.apply(a,u("image",t.openGraph.images,{defaultWidth:s.defaultOpenGraphImageWidth,defaultHeight:s.defaultOpenGraphImageHeight})),t.defaultOpenGraphVideoWidth&&(s.defaultOpenGraphVideoWidth=t.defaultOpenGraphVideoWidth),t.defaultOpenGraphVideoHeight&&(s.defaultOpenGraphVideoHeight=t.defaultOpenGraphVideoHeight),t.openGraph.videos&&t.openGraph.videos.length&&a.push.apply(a,u("video",t.openGraph.videos,{defaultWidth:s.defaultOpenGraphVideoWidth,defaultHeight:s.defaultOpenGraphVideoHeight})),t.openGraph.locale&&a.push(i.createElement("meta",{key:"og:locale",property:"og:locale",content:t.openGraph.locale})),t.openGraph.site_name&&a.push(i.createElement("meta",{key:"og:site_name",property:"og:site_name",content:t.openGraph.site_name}))}return t.canonical&&a.push(i.createElement("link",{rel:"canonical",href:t.canonical,key:"canonical"})),t.additionalMetaTags&&t.additionalMetaTags.length>0&&t.additionalMetaTags.forEach((function(t){var e,n,r;a.push(i.createElement("meta",o({key:"meta:"+(null!=(e=null!=(n=null!=(r=t.keyOverride)?r:t.name)?n:t.property)?e:t.httpEquiv)},t)))})),null!=(r=t.additionalLinkTags)&&r.length&&t.additionalLinkTags.forEach((function(t){var e;a.push(i.createElement("link",o({key:"link"+(null!=(e=t.keyOverride)?e:t.href)+t.rel},t)))})),a},l=(i.Component,function(t){function e(){return t.apply(this,arguments)||this}return a(e,t),e.prototype.render=function(){var t=this.props,e=t.title,n=t.noindex,o=void 0!==n&&n,a=t.nofollow,s=t.robotsProps,u=t.description,l=t.canonical,d=t.openGraph,f=t.facebook,h=t.twitter,p=t.additionalMetaTags,m=t.titleTemplate,y=t.mobileAlternate,g=t.languageAlternates,v=t.additionalLinkTags,w=t.disableGooglebot;return i.createElement(r.default,null,c({title:e,noindex:o,nofollow:a,robotsProps:s,description:u,canonical:l,facebook:f,openGraph:d,additionalMetaTags:p,twitter:h,titleTemplate:m,mobileAlternate:y,languageAlternates:g,additionalLinkTags:v,disableGooglebot:w}))},e}(i.Component))},8045:function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e.default=function(t){var e=t.src,n=t.sizes,i=t.unoptimized,u=void 0!==i&&i,l=t.priority,d=void 0!==l&&l,m=t.loading,g=t.lazyBoundary,v=void 0===g?"200px":g,w=t.className,b=t.quality,_=t.width,A=t.height,T=t.objectFit,I=t.objectPosition,x=t.onLoadingComplete,P=t.loader,M=void 0===P?k:P,B=t.placeholder,O=void 0===B?"empty":B,L=t.blurDataURL,D=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,["src","sizes","unoptimized","priority","loading","lazyBoundary","className","quality","width","height","objectFit","objectPosition","onLoadingComplete","loader","placeholder","blurDataURL"]),C=n?"responsive":"intrinsic";"layout"in D&&(D.layout&&(C=D.layout),delete D.layout);var R="";if(function(t){return"object"===typeof t&&(y(t)||function(t){return void 0!==t.src}(t))}(e)){var U=y(e)?e.default:e;if(!U.src)throw new Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ".concat(JSON.stringify(U)));if(L=L||U.blurDataURL,R=U.src,(!C||"fill"!==C)&&(A=A||U.height,_=_||U.width,!U.height||!U.width))throw new Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ".concat(JSON.stringify(U)))}e="string"===typeof e?e:R;var N=E(_),z=E(A),j=E(b),F=!d&&("lazy"===m||"undefined"===typeof m);(e.startsWith("data:")||e.startsWith("blob:"))&&(u=!0,F=!1);h.has(e)&&(F=!1);0;var q,K=r(c.useIntersection({rootMargin:v,disabled:!F}),2),V=K[0],$=K[1],G=!F||$,W={boxSizing:"border-box",display:"block",overflow:"hidden",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},H={boxSizing:"border-box",display:"block",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},X=!1,Y={position:"absolute",top:0,left:0,bottom:0,right:0,boxSizing:"border-box",padding:0,border:"none",margin:"auto",display:"block",width:0,height:0,minWidth:"100%",maxWidth:"100%",minHeight:"100%",maxHeight:"100%",objectFit:T,objectPosition:I},J="blur"===O?{filter:"blur(20px)",backgroundSize:T||"cover",backgroundImage:'url("'.concat(L,'")'),backgroundPosition:I||"0% 0%"}:{};if("fill"===C)W.display="block",W.position="absolute",W.top=0,W.left=0,W.bottom=0,W.right=0;else if("undefined"!==typeof N&&"undefined"!==typeof z){var Z=z/N,Q=isNaN(Z)?"100%":"".concat(100*Z,"%");"responsive"===C?(W.display="block",W.position="relative",X=!0,H.paddingTop=Q):"intrinsic"===C?(W.display="inline-block",W.position="relative",W.maxWidth="100%",X=!0,H.maxWidth="100%",q='<svg width="'.concat(N,'" height="').concat(z,'" xmlns="http://www.w3.org/2000/svg" version="1.1"/>')):"fixed"===C&&(W.display="inline-block",W.position="relative",W.width=N,W.height=z)}else 0;var tt={src:p,srcSet:void 0,sizes:void 0};G&&(tt=S({src:e,unoptimized:u,layout:C,width:N,quality:j,sizes:n,loader:M}));var et=e;0;return o.default.createElement("span",{style:W},X?o.default.createElement("span",{style:H},q?o.default.createElement("img",{style:{display:"block",maxWidth:"100%",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},alt:"","aria-hidden":!0,src:"data:image/svg+xml;base64,".concat(s.toBase64(q))}):null):null,o.default.createElement("img",Object.assign({},D,tt,{decoding:"async","data-nimg":C,className:w,ref:function(t){V(t),function(t,e,n,r,i){if(!t)return;var o=function(){t.src!==p&&("decode"in t?t.decode():Promise.resolve()).catch((function(){})).then((function(){if("blur"===r&&(t.style.filter="none",t.style.backgroundSize="none",t.style.backgroundImage="none"),h.add(e),i){var n=t.naturalWidth,o=t.naturalHeight;i({naturalWidth:n,naturalHeight:o})}}))};t.complete?o():t.onload=o}(t,et,0,O,x)},style:f({},Y,J)})),o.default.createElement("noscript",null,o.default.createElement("img",Object.assign({},D,S({src:e,unoptimized:u,layout:C,width:N,quality:j,sizes:n,loader:M}),{decoding:"async","data-nimg":C,style:Y,className:w,loading:m||"lazy"}))),d?o.default.createElement(a.default,null,o.default.createElement("link",{key:"__nimg-"+tt.src+tt.srcSet+tt.sizes,rel:"preload",as:"image",href:tt.srcSet?void 0:tt.src,imagesrcset:tt.srcSet,imagesizes:tt.sizes})):null)};var o=d(n(7294)),a=d(n(5443)),s=n(6978),u=n(5809),c=n(7190);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t){return t&&t.__esModule?t:{default:t}}function f(t){for(var e=arguments,n=function(n){var r=null!=e[n]?e[n]:{},i=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),i.forEach((function(e){l(t,e,r[e])}))},r=1;r<arguments.length;r++)n(r);return t}var h=new Set,p=(new Map,"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");var m=new Map([["default",function(t){var e=t.root,n=t.src,r=t.width,i=t.quality;0;return"".concat(e,"?url=").concat(encodeURIComponent(n),"&w=").concat(r,"&q=").concat(i||75)}],["imgix",function(t){var e=t.root,n=t.src,r=t.width,i=t.quality,o=new URL("".concat(e).concat(T(n))),a=o.searchParams;a.set("auto",a.get("auto")||"format"),a.set("fit",a.get("fit")||"max"),a.set("w",a.get("w")||r.toString()),i&&a.set("q",i.toString());return o.href}],["cloudinary",function(t){var e=t.root,n=t.src,r=t.width,i=t.quality,o=["f_auto","c_limit","w_"+r,"q_"+(i||"auto")].join(",")+"/";return"".concat(e).concat(o).concat(T(n))}],["akamai",function(t){var e=t.root,n=t.src,r=t.width;return"".concat(e).concat(T(n),"?imwidth=").concat(r)}],["custom",function(t){var e=t.src;throw new Error('Image with src "'.concat(e,'" is missing "loader" prop.')+"\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader")}]]);function y(t){return void 0!==t.default}var g={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image/",loader:"default"}||u.imageConfigDefault,v=g.deviceSizes,w=g.imageSizes,b=g.loader,_=g.path,A=(g.domains,i(v).concat(i(w)));function S(t){var e=t.src,n=t.unoptimized,r=t.layout,o=t.width,a=t.quality,s=t.sizes,u=t.loader;if(n)return{src:e,srcSet:void 0,sizes:void 0};var c=function(t,e,n){if(n&&("fill"===e||"responsive"===e)){for(var r,o=/(^|\s)(1?\d?\d)vw/g,a=[];r=o.exec(n);r)a.push(parseInt(r[2]));if(a.length){var s,u=.01*(s=Math).min.apply(s,i(a));return{widths:A.filter((function(t){return t>=v[0]*u})),kind:"w"}}return{widths:A,kind:"w"}}return"number"!==typeof t||"fill"===e||"responsive"===e?{widths:v,kind:"w"}:{widths:i(new Set([t,2*t].map((function(t){return A.find((function(e){return e>=t}))||A[A.length-1]})))),kind:"x"}}(o,r,s),l=c.widths,d=c.kind,f=l.length-1;return{sizes:s||"w"!==d?s:"100vw",srcSet:l.map((function(t,n){return"".concat(u({src:e,quality:a,width:t})," ").concat("w"===d?t:n+1).concat(d)})).join(", "),src:u({src:e,quality:a,width:l[f]})}}function E(t){return"number"===typeof t?t:"string"===typeof t?parseInt(t,10):void 0}function k(t){var e=m.get(b);if(e)return e(f({root:_},t));throw new Error('Unknown "loader" found in "next.config.js". Expected: '.concat(u.VALID_LOADERS.join(", "),". Received: ").concat(b))}function T(t){return"/"===t[0]?t.slice(1):t}v.sort((function(t,e){return t-e})),A.sort((function(t,e){return t-e}))},7190:function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(e,"__esModule",{value:!0}),e.useIntersection=function(t){var e=t.rootMargin,n=t.disabled||!a,u=i.useRef(),c=r(i.useState(!1),2),l=c[0],d=c[1],f=i.useCallback((function(t){u.current&&(u.current(),u.current=void 0),n||l||t&&t.tagName&&(u.current=function(t,e,n){var r=function(t){var e=t.rootMargin||"",n=s.get(e);if(n)return n;var r=new Map,i=new IntersectionObserver((function(t){t.forEach((function(t){var e=r.get(t.target),n=t.isIntersecting||t.intersectionRatio>0;e&&n&&e(n)}))}),t);return s.set(e,n={id:e,observer:i,elements:r}),n}(n),i=r.id,o=r.observer,a=r.elements;return a.set(t,e),o.observe(t),function(){a.delete(t),o.unobserve(t),0===a.size&&(o.disconnect(),s.delete(i))}}(t,(function(t){return t&&d(t)}),{rootMargin:e}))}),[n,e,l]);return i.useEffect((function(){if(!a&&!l){var t=o.requestIdleCallback((function(){return d(!0)}));return function(){return o.cancelIdleCallback(t)}}}),[l]),[f,l]};var i=n(7294),o=n(9311),a="undefined"!==typeof IntersectionObserver;var s=new Map},6978:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toBase64=function(t){return window.btoa(t)}},5809:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.imageConfigDefault=e.VALID_LOADERS=void 0;e.VALID_LOADERS=["default","imgix","cloudinary","akamai","custom"];e.imageConfigDefault={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"]}},9008:function(t,e,n){t.exports=n(5443)},5675:function(t,e,n){t.exports=n(8045)},1163:function(t,e,n){t.exports=n(387)},5273:function(t,e,n){"use strict";var r=n(2114),i=n(1298),o=Object.prototype.hasOwnProperty;function a(t){return t&&"EPROMISERETRY"===t.code&&o.call(t,"retried")}t.exports=function(t,e){var n,o;return"object"===typeof t&&"function"===typeof e&&(n=e,e=t,t=n),o=i.operation(e),new Promise((function(e,n){o.attempt((function(i){Promise.resolve().then((function(){return t((function(t){throw a(t)&&(t=t.retried),r(new Error("Retrying"),"EPROMISERETRY",{retried:t})}),i)})).then(e,(function(t){a(t)&&(t=t.retried,o.retry(t||new Error))||n(t)}))}))}))}},1298:function(t,e,n){t.exports=n(5297)},5297:function(t,e,n){var r=n(7361);e.operation=function(t){var n=e.timeouts(t);return new r(n,{forever:t&&t.forever,unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})},e.timeouts=function(t){if(t instanceof Array)return[].concat(t);var e={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in t)e[n]=t[n];if(e.minTimeout>e.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],i=0;i<e.retries;i++)r.push(this.createTimeout(i,e));return t&&t.forever&&!r.length&&r.push(this.createTimeout(i,e)),r.sort((function(t,e){return t-e})),r},e.createTimeout=function(t,e){var n=e.randomize?Math.random()+1:1,r=Math.round(n*e.minTimeout*Math.pow(e.factor,t));return r=Math.min(r,e.maxTimeout)},e.wrap=function(t,n,r){if(n instanceof Array&&(r=n,n=null),!r)for(var i in r=[],t)"function"===typeof t[i]&&r.push(i);for(var o=0;o<r.length;o++){var a=r[o],s=t[a];t[a]=function(r){var i=e.operation(n),o=Array.prototype.slice.call(arguments,1),a=o.pop();o.push((function(t){i.retry(t)||(t&&(arguments[0]=i.mainError()),a.apply(this,arguments))})),i.attempt((function(){r.apply(t,o)}))}.bind(t,s),t[a].options=n}}},7361:function(t){function e(t,e){"boolean"===typeof e&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}t.exports=e,e.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},e.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},e.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=(new Date).getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),n=this._timeouts.shift()}var r=this,i=setTimeout((function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout((function(){r._operationTimeoutCb(r._attempts)}),r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)}),n);return this._options.unref&&i.unref(),!0},e.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},e.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},e.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},e.prototype.start=e.prototype.try,e.prototype.errors=function(){return this._errors},e.prototype.attempts=function(){return this._attempts},e.prototype.mainError=function(){if(0===this._errors.length)return null;for(var t={},e=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],o=i.message,a=(t[o]||0)+1;t[o]=a,a>=n&&(e=i,n=a)}return e}},4762:function(t,e,n){"use strict";n.d(e,{Z:function(){return nn}});var r=n(7294),i=n(5697),o=n.n(i),a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),s=new Uint8Array(16);function u(){if(!a)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(s)}for(var c=[],l=0;l<256;++l)c[l]=(l+256).toString(16).substr(1);var d=function(t,e){var n=e||0,r=c;return[r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]]].join("")};var f=function(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||u)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var o=0;o<16;++o)e[r+o]=i[o];return e||d(i)};function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(){return(y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}var A={HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"},S=function(t,e){var n;"function"===typeof window.CustomEvent?n=new window.CustomEvent(t,{detail:e}):(n=document.createEvent("Event")).initEvent(t,!1,!0,e),window.dispatchEvent(n)};var E=function(t,e){var n=this.state.show,r=this.props.id,i=this.isCapture(e.currentTarget),o=e.currentTarget.getAttribute("currentItem");i||e.stopPropagation(),n&&"true"===o?t||this.hideTooltip(e):(e.currentTarget.setAttribute("currentItem","true"),k(e.currentTarget,this.getTargetArray(r)),this.showTooltip(e))},k=function(t,e){for(var n=0;n<e.length;n++)t!==e[n]?e[n].setAttribute("currentItem","false"):e[n].setAttribute("currentItem","true")},T={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(t,e,n){this.id in t?t[this.id][e]=n:Object.defineProperty(t,this.id,{configurable:!0,value:m({},e,n)})},get:function(t,e){var n=t[this.id];if(void 0!==n)return n[e]}};var I=function(t,e,n){var r=e.respectEffect,i=void 0!==r&&r,o=e.customEvent,a=void 0!==o&&o,s=this.props.id,u=n.target.getAttribute("data-tip")||null,c=n.target.getAttribute("data-for")||null,l=n.target;if(!this.isCustomEvent(l)||a){var d=null==s&&null==c||c===s;if(null!=u&&(!i||"float"===this.getEffect(l))&&d){var f=function(t){var e={};for(var n in t)"function"===typeof t[n]?e[n]=t[n].bind(t):e[n]=t[n];return e}(n);f.currentTarget=l,t(f)}}},x=function(t,e){var n={};return t.forEach((function(t){var r=t.getAttribute(e);r&&r.split(" ").forEach((function(t){return n[t]=!0}))})),n},P=function(){return document.getElementsByTagName("body")[0]};function M(t,e,n,r,i,o,a){for(var s=B(n),u=s.width,c=s.height,l=B(e),d=l.width,f=l.height,h=O(t,e,o),p=h.mouseX,m=h.mouseY,y=L(o,d,f,u,c),g=D(a),v=g.extraOffsetX,w=g.extraOffsetY,b=window.innerWidth,_=window.innerHeight,A=C(n),S=A.parentTop,E=A.parentLeft,k=function(t){var e=y[t].l;return p+e+v},T=function(t){var e=y[t].t;return m+e+w},I=function(t){return function(t){var e=y[t].r;return p+e+v}(t)>b},x=function(t){return function(t){var e=y[t].b;return m+e+w}(t)>_},P=function(t){return function(t){return k(t)<0}(t)||I(t)||function(t){return T(t)<0}(t)||x(t)},M=function(t){return!P(t)},R=["top","bottom","left","right"],U=[],N=0;N<4;N++){var z=R[N];M(z)&&U.push(z)}var j,F=!1,q=i!==r;return M(i)&&q?(F=!0,j=i):U.length>0&&P(i)&&P(r)&&(F=!0,j=U[0]),F?{isNewState:!0,newState:{place:j}}:{isNewState:!1,position:{left:parseInt(k(r)-E,10),top:parseInt(T(r)-S,10)}}}var B=function(t){var e=t.getBoundingClientRect(),n=e.height,r=e.width;return{height:parseInt(n,10),width:parseInt(r,10)}},O=function(t,e,n){var r=e.getBoundingClientRect(),i=r.top,o=r.left,a=B(e),s=a.width,u=a.height;return"float"===n?{mouseX:t.clientX,mouseY:t.clientY}:{mouseX:o+s/2,mouseY:i+u/2}},L=function(t,e,n,r,i){var o,a,s,u;return"float"===t?(o={l:-r/2,r:r/2,t:-(i+3+2),b:-3},s={l:-r/2,r:r/2,t:15,b:i+3+2+12},u={l:-(r+3+2),r:-3,t:-i/2,b:i/2},a={l:3,r:r+3+2,t:-i/2,b:i/2}):"solid"===t&&(o={l:-r/2,r:r/2,t:-(n/2+i+2),b:-n/2},s={l:-r/2,r:r/2,t:n/2,b:n/2+i+2},u={l:-(r+e/2+2),r:-e/2,t:-i/2,b:i/2},a={l:e/2,r:r+e/2+2,t:-i/2,b:i/2}),{top:o,bottom:s,left:u,right:a}},D=function(t){var e=0,n=0;for(var r in"[object String]"===Object.prototype.toString.apply(t)&&(t=JSON.parse(t.toString().replace(/'/g,'"'))),t)"top"===r?n-=parseInt(t[r],10):"bottom"===r?n+=parseInt(t[r],10):"left"===r?e-=parseInt(t[r],10):"right"===r&&(e+=parseInt(t[r],10));return{extraOffsetX:e,extraOffsetY:n}},C=function(t){for(var e=t;e;){var n=window.getComputedStyle(e);if("none"!==n.getPropertyValue("transform")||"transform"===n.getPropertyValue("will-change"))break;e=e.parentElement}return{parentTop:e&&e.getBoundingClientRect().top||0,parentLeft:e&&e.getBoundingClientRect().left||0}};function R(t,e,n,i){if(e)return e;if(void 0!==n&&null!==n)return n;if(null===n)return null;var o=/<br\s*\/?>/;return i&&"false"!==i&&o.test(t)?t.split(o).map((function(t,e){return r.createElement("span",{key:e,className:"multi-line"},t)})):t}function U(t){var e={};return Object.keys(t).filter((function(t){return/(^aria-\w+$|^role$)/.test(t)})).forEach((function(n){e[n]=t[n]})),e}function N(t){var e=t.length;return t.hasOwnProperty?Array.prototype.slice.call(t):new Array(e).fill().map((function(e){return t[e]}))}var z={dark:{text:"#fff",background:"#222",border:"transparent",arrow:"#222"},success:{text:"#fff",background:"#8DC572",border:"transparent",arrow:"#8DC572"},warning:{text:"#fff",background:"#F0AD4E",border:"transparent",arrow:"#F0AD4E"},error:{text:"#fff",background:"#BE6464",border:"transparent",arrow:"#BE6464"},info:{text:"#fff",background:"#337AB7",border:"transparent",arrow:"#337AB7"},light:{text:"#222",background:"#fff",border:"transparent",arrow:"#fff"}};function j(t,e,n,r){return function(t,e){var n=e.text,r=e.background,i=e.border,o=e.arrow;return"\n  \t.".concat(t," {\n\t    color: ").concat(n,";\n\t    background: ").concat(r,";\n\t    border: 1px solid ").concat(i,";\n  \t}\n\n  \t.").concat(t,".place-top {\n        margin-top: -10px;\n    }\n    .").concat(t,".place-top::before {\n        border-top: 8px solid ").concat(i,";\n    }\n    .").concat(t,".place-top::after {\n        border-left: 8px solid transparent;\n        border-right: 8px solid transparent;\n        bottom: -6px;\n        left: 50%;\n        margin-left: -8px;\n        border-top-color: ").concat(o,";\n        border-top-style: solid;\n        border-top-width: 6px;\n    }\n\n    .").concat(t,".place-bottom {\n        margin-top: 10px;\n    }\n    .").concat(t,".place-bottom::before {\n        border-bottom: 8px solid ").concat(i,";\n    }\n    .").concat(t,".place-bottom::after {\n        border-left: 8px solid transparent;\n        border-right: 8px solid transparent;\n        top: -6px;\n        left: 50%;\n        margin-left: -8px;\n        border-bottom-color: ").concat(o,";\n        border-bottom-style: solid;\n        border-bottom-width: 6px;\n    }\n\n    .").concat(t,".place-left {\n        margin-left: -10px;\n    }\n    .").concat(t,".place-left::before {\n        border-left: 8px solid ").concat(i,";\n    }\n    .").concat(t,".place-left::after {\n        border-top: 5px solid transparent;\n        border-bottom: 5px solid transparent;\n        right: -6px;\n        top: 50%;\n        margin-top: -4px;\n        border-left-color: ").concat(o,";\n        border-left-style: solid;\n        border-left-width: 6px;\n    }\n\n    .").concat(t,".place-right {\n        margin-left: 10px;\n    }\n    .").concat(t,".place-right::before {\n        border-right: 8px solid ").concat(i,";\n    }\n    .").concat(t,".place-right::after {\n        border-top: 5px solid transparent;\n        border-bottom: 5px solid transparent;\n        left: -6px;\n        top: 50%;\n        margin-top: -4px;\n        border-right-color: ").concat(o,";\n        border-right-style: solid;\n        border-right-width: 6px;\n    }\n  ")}(t,function(t,e,n){var r=t.text,i=t.background,o=t.border,a=t.arrow?t.arrow:t.background,s=function(t){return z[t]?v({},z[t]):void 0}(e);r&&(s.text=r);i&&(s.background=i);n&&(s.border=o||("light"===e?"black":"white"));a&&(s.arrow=a);return s}(e,n,r))}var F="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function q(t,e){return t(e={exports:{}},e.exports),e.exports}var K=function(t){return t&&t.Math==Math&&t},V=K("object"==typeof globalThis&&globalThis)||K("object"==typeof window&&window)||K("object"==typeof self&&self)||K("object"==typeof F&&F)||function(){return this}()||Function("return this")(),$=function(t){try{return!!t()}catch(e){return!0}},G=!$((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),W={}.propertyIsEnumerable,H=Object.getOwnPropertyDescriptor,X={f:H&&!W.call({1:2},1)?function(t){var e=H(this,t);return!!e&&e.enumerable}:W},Y=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},J={}.toString,Z=function(t){return J.call(t).slice(8,-1)},Q="".split,tt=$((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==Z(t)?Q.call(t,""):Object(t)}:Object,et=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t},nt=function(t){return tt(et(t))},rt=function(t){return"object"===typeof t?null!==t:"function"===typeof t},it=function(t,e){if(!rt(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!rt(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!rt(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!rt(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},ot=function(t){return Object(et(t))},at={}.hasOwnProperty,st=function(t,e){return at.call(ot(t),e)},ut=V.document,ct=rt(ut)&&rt(ut.createElement),lt=function(t){return ct?ut.createElement(t):{}},dt=!G&&!$((function(){return 7!=Object.defineProperty(lt("div"),"a",{get:function(){return 7}}).a})),ft=Object.getOwnPropertyDescriptor,ht={f:G?ft:function(t,e){if(t=nt(t),e=it(e,!0),dt)try{return ft(t,e)}catch(n){}if(st(t,e))return Y(!X.f.call(t,e),t[e])}},pt=function(t){if(!rt(t))throw TypeError(String(t)+" is not an object");return t},mt=Object.defineProperty,yt={f:G?mt:function(t,e,n){if(pt(t),e=it(e,!0),pt(n),dt)try{return mt(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},gt=G?function(t,e,n){return yt.f(t,e,Y(1,n))}:function(t,e,n){return t[e]=n,t},vt=function(t,e){try{gt(V,t,e)}catch(n){V[t]=e}return e},wt="__core-js_shared__",bt=V[wt]||vt(wt,{}),_t=Function.toString;"function"!=typeof bt.inspectSource&&(bt.inspectSource=function(t){return _t.call(t)});var At,St,Et,kt=bt.inspectSource,Tt=V.WeakMap,It="function"===typeof Tt&&/native code/.test(kt(Tt)),xt=q((function(t){(t.exports=function(t,e){return bt[t]||(bt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.12.1",mode:"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})})),Pt=0,Mt=Math.random(),Bt=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++Pt+Mt).toString(36)},Ot=xt("keys"),Lt=function(t){return Ot[t]||(Ot[t]=Bt(t))},Dt={},Ct="Object already initialized",Rt=V.WeakMap;if(It||bt.state){var Ut=bt.state||(bt.state=new Rt),Nt=Ut.get,zt=Ut.has,jt=Ut.set;At=function(t,e){if(zt.call(Ut,t))throw new TypeError(Ct);return e.facade=t,jt.call(Ut,t,e),e},St=function(t){return Nt.call(Ut,t)||{}},Et=function(t){return zt.call(Ut,t)}}else{var Ft=Lt("state");Dt[Ft]=!0,At=function(t,e){if(st(t,Ft))throw new TypeError(Ct);return e.facade=t,gt(t,Ft,e),e},St=function(t){return st(t,Ft)?t[Ft]:{}},Et=function(t){return st(t,Ft)}}var qt,Kt,Vt={set:At,get:St,has:Et,enforce:function(t){return Et(t)?St(t):At(t,{})},getterFor:function(t){return function(e){var n;if(!rt(e)||(n=St(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},$t=q((function(t){var e=Vt.get,n=Vt.enforce,r=String(String).split("String");(t.exports=function(t,e,i,o){var a,s=!!o&&!!o.unsafe,u=!!o&&!!o.enumerable,c=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof e||st(i,"name")||gt(i,"name",e),(a=n(i)).source||(a.source=r.join("string"==typeof e?e:""))),t!==V?(s?!c&&t[e]&&(u=!0):delete t[e],u?t[e]=i:gt(t,e,i)):u?t[e]=i:vt(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||kt(this)}))})),Gt=V,Wt=function(t){return"function"==typeof t?t:void 0},Ht=function(t,e){return arguments.length<2?Wt(Gt[t])||Wt(V[t]):Gt[t]&&Gt[t][e]||V[t]&&V[t][e]},Xt=Math.ceil,Yt=Math.floor,Jt=function(t){return isNaN(t=+t)?0:(t>0?Yt:Xt)(t)},Zt=Math.min,Qt=function(t){return t>0?Zt(Jt(t),9007199254740991):0},te=Math.max,ee=Math.min,ne=function(t){return function(e,n,r){var i,o=nt(e),a=Qt(o.length),s=function(t,e){var n=Jt(t);return n<0?te(n+e,0):ee(n,e)}(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},re={includes:ne(!0),indexOf:ne(!1)}.indexOf,ie=function(t,e){var n,r=nt(t),i=0,o=[];for(n in r)!st(Dt,n)&&st(r,n)&&o.push(n);for(;e.length>i;)st(r,n=e[i++])&&(~re(o,n)||o.push(n));return o},oe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ae=oe.concat("length","prototype"),se={f:Object.getOwnPropertyNames||function(t){return ie(t,ae)}},ue={f:Object.getOwnPropertySymbols},ce=Ht("Reflect","ownKeys")||function(t){var e=se.f(pt(t)),n=ue.f;return n?e.concat(n(t)):e},le=function(t,e){for(var n=ce(e),r=yt.f,i=ht.f,o=0;o<n.length;o++){var a=n[o];st(t,a)||r(t,a,i(e,a))}},de=/#|\.prototype\./,fe=function(t,e){var n=pe[he(t)];return n==ye||n!=me&&("function"==typeof e?$(e):!!e)},he=fe.normalize=function(t){return String(t).replace(de,".").toLowerCase()},pe=fe.data={},me=fe.NATIVE="N",ye=fe.POLYFILL="P",ge=fe,ve=ht.f,we=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function")}(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},be=Array.isArray||function(t){return"Array"==Z(t)},_e=Ht("navigator","userAgent")||"",Ae=V.process,Se=Ae&&Ae.versions,Ee=Se&&Se.v8;Ee?Kt=(qt=Ee.split("."))[0]<4?1:qt[0]+qt[1]:_e&&(!(qt=_e.match(/Edge\/(\d+)/))||qt[1]>=74)&&(qt=_e.match(/Chrome\/(\d+)/))&&(Kt=qt[1]);var ke,Te=Kt&&+Kt,Ie=!!Object.getOwnPropertySymbols&&!$((function(){return!String(Symbol())||!Symbol.sham&&Te&&Te<41})),xe=Ie&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Pe=xt("wks"),Me=V.Symbol,Be=xe?Me:Me&&Me.withoutSetter||Bt,Oe=function(t){return st(Pe,t)&&(Ie||"string"==typeof Pe[t])||(Ie&&st(Me,t)?Pe[t]=Me[t]:Pe[t]=Be("Symbol."+t)),Pe[t]},Le=Oe("species"),De=function(t,e){var n;return be(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!be(n.prototype)?rt(n)&&null===(n=n[Le])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Ce=[].push,Re=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=7==t,s=5==t||o;return function(u,c,l,d){for(var f,h,p=ot(u),m=tt(p),y=we(c,l,3),g=Qt(m.length),v=0,w=d||De,b=e?w(u,g):n||a?w(u,0):void 0;g>v;v++)if((s||v in m)&&(h=y(f=m[v],v,p),t))if(e)b[v]=h;else if(h)switch(t){case 3:return!0;case 5:return f;case 6:return v;case 2:Ce.call(b,f)}else switch(t){case 4:return!1;case 7:Ce.call(b,f)}return o?-1:r||i?i:b}},Ue={forEach:Re(0),map:Re(1),filter:Re(2),some:Re(3),every:Re(4),find:Re(5),findIndex:Re(6),filterOut:Re(7)},Ne=Object.keys||function(t){return ie(t,oe)},ze=G?Object.defineProperties:function(t,e){pt(t);for(var n,r=Ne(e),i=r.length,o=0;i>o;)yt.f(t,n=r[o++],e[n]);return t},je=Ht("document","documentElement"),Fe=Lt("IE_PROTO"),qe=function(){},Ke=function(t){return"<script>"+t+"</"+"script>"},Ve=function(){try{ke=document.domain&&new ActiveXObject("htmlfile")}catch(e){}Ve=ke?function(t){t.write(Ke("")),t.close();var e=t.parentWindow.Object;return t=null,e}(ke):function(){var t,e=lt("iframe");return e.style.display="none",je.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Ke("document.F=Object")),t.close(),t.F}();for(var t=oe.length;t--;)delete Ve.prototype[oe[t]];return Ve()};Dt[Fe]=!0;var $e=Object.create||function(t,e){var n;return null!==t?(qe.prototype=pt(t),n=new qe,qe.prototype=null,n[Fe]=t):n=Ve(),void 0===e?n:ze(n,e)},Ge=Oe("unscopables"),We=Array.prototype;void 0==We[Ge]&&yt.f(We,Ge,{configurable:!0,value:$e(null)});var He,Xe,Ye,Je,Ze=Ue.find,Qe="find",tn=!0;Qe in[]&&Array(1).find((function(){tn=!1})),function(t,e){var n,r,i,o,a,s=t.target,u=t.global,c=t.stat;if(n=u?V:c?V[s]||vt(s,{}):(V[s]||{}).prototype)for(r in e){if(o=e[r],i=t.noTargetGet?(a=ve(n,r))&&a.value:n[r],!ge(u?r:s+(c?".":"#")+r,t.forced)&&void 0!==i){if(typeof o===typeof i)continue;le(o,i)}(t.sham||i&&i.sham)&&gt(o,"sham",!0),$t(n,r,o,t)}}({target:"Array",proto:!0,forced:tn},{find:function(t){return Ze(this,t,arguments.length>1?arguments[1]:void 0)}}),He=Qe,We[Ge][He]=!0;var en,nn=function(t){t.hide=function(t){S(A.HIDE,{target:t})},t.rebuild=function(){S(A.REBUILD)},t.show=function(t){S(A.SHOW,{target:t})},t.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},t.prototype.globalShow=function(t){if(this.mount){var e=!!(t&&t.detail&&t.detail.target);this.showTooltip({currentTarget:e&&t.detail.target},!0)}},t.prototype.globalHide=function(t){if(this.mount){var e=!!(t&&t.detail&&t.detail.target);this.hideTooltip({currentTarget:e&&t.detail.target},e)}}}(Xe=function(t){t.prototype.bindWindowEvents=function(t){window.removeEventListener(A.HIDE,this.globalHide),window.addEventListener(A.HIDE,this.globalHide,!1),window.removeEventListener(A.REBUILD,this.globalRebuild),window.addEventListener(A.REBUILD,this.globalRebuild,!1),window.removeEventListener(A.SHOW,this.globalShow),window.addEventListener(A.SHOW,this.globalShow,!1),t&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},t.prototype.unbindWindowEvents=function(){window.removeEventListener(A.HIDE,this.globalHide),window.removeEventListener(A.REBUILD,this.globalRebuild),window.removeEventListener(A.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},t.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}}(Xe=function(t){t.prototype.isCustomEvent=function(t){return this.state.event||!!t.getAttribute("data-event")},t.prototype.customBindListener=function(t){var e=this,n=this.state,r=n.event,i=n.eventOff,o=t.getAttribute("data-event")||r,a=t.getAttribute("data-event-off")||i;o.split(" ").forEach((function(n){t.removeEventListener(n,T.get(t,n));var r=E.bind(e,a);T.set(t,n,r),t.addEventListener(n,r,!1)})),a&&a.split(" ").forEach((function(n){t.removeEventListener(n,e.hideTooltip),t.addEventListener(n,e.hideTooltip,!1)}))},t.prototype.customUnbindListener=function(t){var e=this.state,n=e.event,r=e.eventOff,i=n||t.getAttribute("data-event"),o=r||t.getAttribute("data-event-off");t.removeEventListener(i,T.get(t,n)),o&&t.removeEventListener(o,this.hideTooltip)}}(Xe=function(t){t.prototype.isCapture=function(t){return t&&"true"===t.getAttribute("data-iscapture")||this.props.isCapture||!1}}(Xe=function(t){t.prototype.getEffect=function(t){return t.getAttribute("data-effect")||this.props.effect||"float"}}(Xe=function(t){t.prototype.isBodyMode=function(){return!!this.props.bodyMode},t.prototype.bindBodyListener=function(t){var e=this,n=this.state,r=n.event,i=n.eventOff,o=n.possibleCustomEvents,a=n.possibleCustomEventsOff,s=P(),u=x(t,"data-event"),c=x(t,"data-event-off");null!=r&&(u[r]=!0),null!=i&&(c[i]=!0),o.split(" ").forEach((function(t){return u[t]=!0})),a.split(" ").forEach((function(t){return c[t]=!0})),this.unbindBodyListener(s);var l=this.bodyModeListeners={};for(var d in null==r&&(l.mouseover=I.bind(this,this.showTooltip,{}),l.mousemove=I.bind(this,this.updateTooltip,{respectEffect:!0}),l.mouseout=I.bind(this,this.hideTooltip,{})),u)l[d]=I.bind(this,(function(t){var n=t.currentTarget.getAttribute("data-event-off")||i;E.call(e,n,t)}),{customEvent:!0});for(var f in c)l[f]=I.bind(this,this.hideTooltip,{customEvent:!0});for(var h in l)s.addEventListener(h,l[h])},t.prototype.unbindBodyListener=function(t){t=t||P();var e=this.bodyModeListeners;for(var n in e)t.removeEventListener(n,e[n])}}((Je=Ye=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=_(this,w(e).call(this,t))).state={uuid:t.uuid||"t"+f(),place:t.place||"top",desiredPlace:t.place||"top",type:"dark",effect:"float",show:!1,border:!1,customColors:{},offset:{},extraClass:"",html:!1,delayHide:0,delayShow:0,event:t.event||null,eventOff:t.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:U(t),isEmptyTip:!1,disable:!1,possibleCustomEvents:t.possibleCustomEvents||"",possibleCustomEventsOff:t.possibleCustomEventsOff||"",originTooltip:null,isMultiline:!1},n.bind(["showTooltip","updateTooltip","hideTooltip","hideTooltipOnScroll","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),n.mount=!0,n.delayShowLoop=null,n.delayHideLoop=null,n.delayReshow=null,n.intervalUpdateContent=null,n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,t),p(e,null,[{key:"propTypes",get:function(){return{uuid:o().string,children:o().any,place:o().string,type:o().string,effect:o().string,offset:o().object,multiline:o().bool,border:o().bool,textColor:o().string,backgroundColor:o().string,borderColor:o().string,arrowColor:o().string,insecure:o().bool,class:o().string,className:o().string,id:o().string,html:o().bool,delayHide:o().number,delayUpdate:o().number,delayShow:o().number,event:o().string,eventOff:o().string,isCapture:o().bool,globalEventOff:o().string,getContent:o().any,afterShow:o().func,afterHide:o().func,overridePosition:o().func,disable:o().bool,scrollHide:o().bool,resizeHide:o().bool,wrapper:o().string,bodyMode:o().bool,possibleCustomEvents:o().string,possibleCustomEventsOff:o().string,clickable:o().bool}}}]),p(e,[{key:"bind",value:function(t){var e=this;t.forEach((function(t){e[t]=e[t].bind(e)}))}},{key:"componentDidMount",value:function(){var t=this.props,e=(t.insecure,t.resizeHide);this.bindListener(),this.bindWindowEvents(e),this.injectStyles()}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(this.state.currentTarget),this.unbindWindowEvents()}},{key:"injectStyles",value:function(){var t=this.tooltipRef;if(t){for(var e,n=t.parentNode;n.parentNode;)n=n.parentNode;switch(n.constructor.name){case"Document":case"HTMLDocument":case void 0:e=n.head;break;case"ShadowRoot":default:e=n}if(!e.querySelector("style[data-react-tooltip]")){var r=document.createElement("style");r.textContent='.__react_component_tooltip {\n  border-radius: 3px;\n  display: inline-block;\n  font-size: 13px;\n  left: -999em;\n  opacity: 0;\n  padding: 8px 21px;\n  position: fixed;\n  pointer-events: none;\n  transition: opacity 0.3s ease-out;\n  top: -999em;\n  visibility: hidden;\n  z-index: 999;\n}\n.__react_component_tooltip.allow_hover, .__react_component_tooltip.allow_click {\n  pointer-events: auto;\n}\n.__react_component_tooltip::before, .__react_component_tooltip::after {\n  content: "";\n  width: 0;\n  height: 0;\n  position: absolute;\n}\n.__react_component_tooltip.show {\n  opacity: 0.9;\n  margin-top: 0;\n  margin-left: 0;\n  visibility: visible;\n}\n.__react_component_tooltip.place-top::before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  bottom: -8px;\n  left: 50%;\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-bottom::before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  top: -8px;\n  left: 50%;\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-left::before {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  right: -8px;\n  top: 50%;\n  margin-top: -5px;\n}\n.__react_component_tooltip.place-right::before {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  left: -8px;\n  top: 50%;\n  margin-top: -5px;\n}\n.__react_component_tooltip .multi-line {\n  display: block;\n  padding: 2px 0;\n  text-align: center;\n}',r.setAttribute("data-react-tooltip","true"),e.appendChild(r)}}}},{key:"mouseOnToolTip",value:function(){return!(!this.state.show||!this.tooltipRef)&&(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover"))}},{key:"getTargetArray",value:function(t){var e,n=[];if(t){var r=t.replace(/\\/g,"\\\\").replace(/"/g,'\\"');e='[data-tip][data-for="'.concat(r,'"]')}else e="[data-tip]:not([data-for])";return N(document.getElementsByTagName("*")).filter((function(t){return t.shadowRoot})).forEach((function(t){n=n.concat(N(t.shadowRoot.querySelectorAll(e)))})),n.concat(N(document.querySelectorAll(e)))}},{key:"bindListener",value:function(){var t=this,e=this.props,n=e.id,r=e.globalEventOff,i=e.isCapture,o=this.getTargetArray(n);o.forEach((function(e){null===e.getAttribute("currentItem")&&e.setAttribute("currentItem","false"),t.unbindBasicListener(e),t.isCustomEvent(e)&&t.customUnbindListener(e)})),this.isBodyMode()?this.bindBodyListener(o):o.forEach((function(e){var n=t.isCapture(e),r=t.getEffect(e);t.isCustomEvent(e)?t.customBindListener(e):(e.addEventListener("mouseenter",t.showTooltip,n),e.addEventListener("focus",t.showTooltip,n),"float"===r&&e.addEventListener("mousemove",t.updateTooltip,n),e.addEventListener("mouseleave",t.hideTooltip,n),e.addEventListener("blur",t.hideTooltip,n))})),r&&(window.removeEventListener(r,this.hideTooltip),window.addEventListener(r,this.hideTooltip,i)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var t=this,e=this.props,n=e.id,r=e.globalEventOff;this.isBodyMode()?this.unbindBodyListener():this.getTargetArray(n).forEach((function(e){t.unbindBasicListener(e),t.isCustomEvent(e)&&t.customUnbindListener(e)})),r&&window.removeEventListener(r,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(t){var e=this.isCapture(t);t.removeEventListener("mouseenter",this.showTooltip,e),t.removeEventListener("mousemove",this.updateTooltip,e),t.removeEventListener("mouseleave",this.hideTooltip,e)}},{key:"getTooltipContent",value:function(){var t,e=this.props,n=e.getContent,r=e.children;return n&&(t=Array.isArray(n)?n[0]&&n[0](this.state.originTooltip):n(this.state.originTooltip)),R(this.state.originTooltip,r,t,this.state.isMultiline)}},{key:"isEmptyTip",value:function(t){return"string"===typeof t&&""===t||null===t}},{key:"showTooltip",value:function(t,e){if(this.tooltipRef){if(e&&!this.getTargetArray(this.props.id).some((function(e){return e===t.currentTarget})))return;var n=this.props,r=n.multiline,i=n.getContent,o=t.currentTarget.getAttribute("data-tip"),a=t.currentTarget.getAttribute("data-multiline")||r||!1,s=t instanceof window.FocusEvent||e,u=!0;t.currentTarget.getAttribute("data-scroll-hide")?u="true"===t.currentTarget.getAttribute("data-scroll-hide"):null!=this.props.scrollHide&&(u=this.props.scrollHide),t&&t.currentTarget&&t.currentTarget.setAttribute&&t.currentTarget.setAttribute("aria-describedby",this.state.uuid);var c=t.currentTarget.getAttribute("data-place")||this.props.place||"top",l=s?"solid":this.getEffect(t.currentTarget),d=t.currentTarget.getAttribute("data-offset")||this.props.offset||{},f=M(t,t.currentTarget,this.tooltipRef,c,c,l,d);f.position&&this.props.overridePosition&&(f.position=this.props.overridePosition(f.position,t,t.currentTarget,this.tooltipRef,c,c,l,d));var h=f.isNewState?f.newState.place:c;this.clearTimer();var p=t.currentTarget,m=this.state.show?p.getAttribute("data-delay-update")||this.props.delayUpdate:0,y=this,g=function(){y.setState({originTooltip:o,isMultiline:a,desiredPlace:c,place:h,type:p.getAttribute("data-type")||y.props.type||"dark",customColors:{text:p.getAttribute("data-text-color")||y.props.textColor||null,background:p.getAttribute("data-background-color")||y.props.backgroundColor||null,border:p.getAttribute("data-border-color")||y.props.borderColor||null,arrow:p.getAttribute("data-arrow-color")||y.props.arrowColor||null},effect:l,offset:d,html:(p.getAttribute("data-html")?"true"===p.getAttribute("data-html"):y.props.html)||!1,delayShow:p.getAttribute("data-delay-show")||y.props.delayShow||0,delayHide:p.getAttribute("data-delay-hide")||y.props.delayHide||0,delayUpdate:p.getAttribute("data-delay-update")||y.props.delayUpdate||0,border:(p.getAttribute("data-border")?"true"===p.getAttribute("data-border"):y.props.border)||!1,extraClass:p.getAttribute("data-class")||y.props.class||y.props.className||"",disable:(p.getAttribute("data-tip-disable")?"true"===p.getAttribute("data-tip-disable"):y.props.disable)||!1,currentTarget:p},(function(){u&&y.addScrollListener(y.state.currentTarget),y.updateTooltip(t),i&&Array.isArray(i)&&(y.intervalUpdateContent=setInterval((function(){if(y.mount){var t=y.props.getContent,e=R(o,"",t[0](),a),n=y.isEmptyTip(e);y.setState({isEmptyTip:n}),y.updatePosition()}}),i[1]))}))};m?this.delayReshow=setTimeout(g,m):g()}}},{key:"updateTooltip",value:function(t){var e=this,n=this.state,r=n.delayShow,i=n.disable,o=this.props.afterShow,a=this.getTooltipContent(),s=t.currentTarget||t.target;if(!this.mouseOnToolTip()&&!this.isEmptyTip(a)&&!i){var u=this.state.show?0:parseInt(r,10),c=function(){if(Array.isArray(a)&&a.length>0||a){var n=!e.state.show;e.setState({currentEvent:t,currentTarget:s,show:!0},(function(){e.updatePosition(),n&&o&&o(t)}))}};clearTimeout(this.delayShowLoop),u?this.delayShowLoop=setTimeout(c,u):c()}}},{key:"listenForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isScroll:!1},i=this.state.disable,o=r.isScroll,a=o?0:this.state.delayHide,s=this.props.afterHide,u=this.getTooltipContent();if(this.mount&&!this.isEmptyTip(u)&&!i){if(e){var c=this.getTargetArray(this.props.id),l=c.some((function(e){return e===t.currentTarget}));if(!l||!this.state.show)return}t&&t.currentTarget&&t.currentTarget.removeAttribute&&t.currentTarget.removeAttribute("aria-describedby");var d=function(){var e=n.state.show;n.mouseOnToolTip()?n.listenForTooltipExit():(n.removeListenerForTooltipExit(),n.setState({show:!1},(function(){n.removeScrollListener(n.state.currentTarget),e&&s&&s(t)})))};this.clearTimer(),a?this.delayHideLoop=setTimeout(d,parseInt(a,10)):d()}}},{key:"hideTooltipOnScroll",value:function(t,e){this.hideTooltip(t,e,{isScroll:!0})}},{key:"addScrollListener",value:function(t){var e=this.isCapture(t);window.addEventListener("scroll",this.hideTooltipOnScroll,e)}},{key:"removeScrollListener",value:function(t){var e=this.isCapture(t);window.removeEventListener("scroll",this.hideTooltipOnScroll,e)}},{key:"updatePosition",value:function(){var t=this,e=this.state,n=e.currentEvent,r=e.currentTarget,i=e.place,o=e.desiredPlace,a=e.effect,s=e.offset,u=this.tooltipRef,c=M(n,r,u,i,o,a,s);if(c.position&&this.props.overridePosition&&(c.position=this.props.overridePosition(c.position,n,r,u,i,o,a,s)),c.isNewState)return this.setState(c.newState,(function(){t.updatePosition()}));u.style.left=c.position.left+"px",u.style.top=c.position.top+"px"}},{key:"clearTimer",value:function(){clearTimeout(this.delayShowLoop),clearTimeout(this.delayHideLoop),clearTimeout(this.delayReshow),clearInterval(this.intervalUpdateContent)}},{key:"hasCustomColors",value:function(){var t=this;return Boolean(Object.keys(this.state.customColors).find((function(e){return"border"!==e&&t.state.customColors[e]}))||this.state.border&&this.state.customColors.border)}},{key:"render",value:function(){var t=this,n=this.state,i=n.extraClass,o=n.html,a=n.ariaProps,s=n.disable,u=n.uuid,c=this.getTooltipContent(),l=this.isEmptyTip(c),d=j(this.state.uuid,this.state.customColors,this.state.type,this.state.border),f="__react_component_tooltip"+" ".concat(this.state.uuid)+(!this.state.show||s||l?"":" show")+(this.state.border?" border":"")+" place-".concat(this.state.place)+" type-".concat(this.hasCustomColors()?"custom":this.state.type)+(this.props.delayUpdate?" allow_hover":"")+(this.props.clickable?" allow_click":""),h=this.props.wrapper;e.supportedWrappers.indexOf(h)<0&&(h=e.defaultProps.wrapper);var p=[f,i].filter(Boolean).join(" ");if(o){var m="".concat(c,'\n<style aria-hidden="true">').concat(d,"</style>");return r.createElement(h,y({className:"".concat(p),id:this.props.id||u,ref:function(e){return t.tooltipRef=e}},a,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:m}}))}return r.createElement(h,y({className:"".concat(p),id:this.props.id||u},a,{ref:function(e){return t.tooltipRef=e},"data-id":"tooltip"}),r.createElement("style",{dangerouslySetInnerHTML:{__html:d},"aria-hidden":"true"}),c)}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=e.ariaProps,r=U(t);return Object.keys(r).some((function(t){return r[t]!==n[t]}))?v({},e,{ariaProps:r}):null}}]),e}(r.Component),m(Ye,"defaultProps",{insecure:!0,resizeHide:!0,wrapper:"div",clickable:!1}),m(Ye,"supportedWrappers",["div","span"]),m(Ye,"displayName","ReactTooltip"),(en=Xe=Je).prototype.bindRemovalTracker=function(){var t=this,e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(null!=e){var n=new e((function(e){for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.removedNodes.length;i++)if(r.removedNodes[i]===t.state.currentTarget)return void t.hideTooltip()}));n.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=n}},Xe=void(en.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)})||Xe))||Xe)||Xe)||Xe)||Xe)||Xe)||Xe},2177:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return i}});var r="Invariant failed";function i(t,e){if(!t)throw new Error(r)}},2447:function(t){t.exports&&(t.exports=function(t){"use strict";return t.prototype.toFormat=function(t,e,n){if(!this.e&&0!==this.e)return this.toString();var r,i,o,a,s,u,c,l,d,f,h,p,m,y,g,v=this.format||{},w=this.constructor.format||{};if(t!=s?"object"==typeof t?(n=t,t=s):e!=s?"object"==typeof e?(n=e,e=s):"object"!=typeof n&&(n={}):n={}:n={},l=(r=this.toFixed(t,e).split("."))[0],d=r[1],u=(c=this.s<0?l.slice(1):l).length,(f=n.decimalSeparator)==s&&(f=v.decimalSeparator)==s&&(f=w.decimalSeparator)==s&&(f="."),(h=n.groupSeparator)==s&&(h=v.groupSeparator)==s&&(h=w.groupSeparator),h&&((p=n.groupSize)==s&&(p=v.groupSize)==s&&(p=w.groupSize)==s&&(p=0),(m=n.secondaryGroupSize)==s&&(m=v.secondaryGroupSize)==s&&(m=w.secondaryGroupSize)==s&&(m=0),m?(i=+m,u-=o=+p):(i=+p,o=+m),i>0&&u>0)){for(a=u%i||i,l=c.substr(0,a);a<u;a+=i)l+=h+c.substr(a,i);o>0&&(l+=h+c.slice(a)),this.s<0&&(l="-"+l)}return d?((y=n.fractionGroupSeparator)==s&&(y=v.fractionGroupSeparator)==s&&(y=w.fractionGroupSeparator),y&&((g=n.fractionGroupSize)==s&&(g=v.fractionGroupSize)==s&&(g=w.fractionGroupSize)==s&&(g=0),(g=+g)&&(d=d.replace(new RegExp("\\d{"+g+"}\\B","g"),"$&"+y))),l+f+d):l},t.format={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0},t})},3153:function(t,e,n){"use strict";n.d(e,{DuK:function(){return i},b0D:function(){return o}});var r=n(7294);var i=function(t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},t),r.createElement("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"}))};var o=function(t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},t),r.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}))}},8011:function(t,e,n){"use strict";n.d(e,{Yj:function(){return m},IX:function(){return y},hu:function(){return l},O7:function(){return g},oQ:function(){return M},Ue:function(){return d},eE:function(){return v},i0:function(){return w},AG:function(){return _},Rx:function(){return A},jt:function(){return S},IM:function(){return E},Z_:function(){return k},bc:function(){return T},dt:function(){return I},G0:function(){return x},_4:function(){return P}});class r extends TypeError{constructor(t,e){let n;const{message:r,...i}=t,{path:o}=t;super(0===o.length?r:"At path: "+o.join(".")+" -- "+r),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[t,...e()]}}}function i(t){return"object"===typeof t&&null!=t}function o(t){return"string"===typeof t?JSON.stringify(t):""+t}function a(t,e,n,r){if(!0===t)return;!1===t?t={}:"string"===typeof t&&(t={message:t});const{path:i,branch:a}=e,{type:s}=n,{refinement:u,message:c="Expected a value of type `"+s+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+o(r)+"`"}=t;return{value:r,type:s,refinement:u,key:i[i.length-1],path:i,branch:a,...t,message:c}}function*s(t,e,n,r){var o;i(o=t)&&"function"===typeof o[Symbol.iterator]||(t=[t]);for(const i of t){const t=a(i,e,n,r);t&&(yield t)}}function*u(t,e,n={}){const{path:r=[],branch:o=[t],coerce:a=!1,mask:s=!1}=n,c={path:r,branch:o};if(a&&(t=e.coercer(t,c),s&&"type"!==e.type&&i(e.schema)&&i(t)&&!Array.isArray(t)))for(const i in t)void 0===e.schema[i]&&delete t[i];let l=!0;for(const i of e.validator(t,c))l=!1,yield[i,void 0];for(let[d,f,h]of e.entries(t,c)){const e=u(f,h,{path:void 0===d?r:[...r,d],branch:void 0===d?o:[...o,f],coerce:a,mask:s});for(const n of e)n[0]?(l=!1,yield[n[0],void 0]):a&&(f=n[1],void 0===d?t=f:t instanceof Map?t.set(d,f):t instanceof Set?t.add(f):i(t)&&(t[d]=f))}if(l)for(const i of e.refiner(t,c))l=!1,yield[i,void 0];l&&(yield[void 0,t])}class c{constructor(t){const{type:e,schema:n,validator:r,refiner:i,coercer:o=(t=>t),entries:a=function*(){}}=t;this.type=e,this.schema=n,this.entries=a,this.coercer=o,this.validator=r?(t,e)=>s(r(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>s(i(t,e),e,this,t):()=>[]}assert(t){return l(t,this)}create(t){return d(t,this)}is(t){return f(t,this)}mask(t){return function(t,e){const n=h(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(t,this)}validate(t,e={}){return h(t,this,e)}}function l(t,e){const n=h(t,e);if(n[0])throw n[0]}function d(t,e){const n=h(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function f(t,e){return!h(t,e)[0]}function h(t,e,n={}){const i=u(t,e,n),o=function(t){const{done:e,value:n}=t.next();return e?void 0:n}(i);if(o[0]){return[new r(o[0],(function*(){for(const t of i)t[0]&&(yield t[0])})),void 0]}return[void 0,o[1]]}function p(t,e){return new c({type:t,schema:null,validator:e})}function m(){return p("any",(()=>!0))}function y(t){return new c({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+o(t)})}function g(){return p("boolean",(t=>"boolean"===typeof t))}function v(t){return p("instance",(e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+o(e)))}function w(t){const e=o(t),n=typeof t;return new c({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?t:null,validator:n=>n===t||"Expected the literal `"+e+"`, but received: "+o(n)})}function b(){return p("never",(()=>!1))}function _(t){return new c({...t,validator:(e,n)=>null===e||t.validator(e,n),refiner:(e,n)=>null===e||t.refiner(e,n)})}function A(){return p("number",(t=>"number"===typeof t&&!isNaN(t)||"Expected a number, but received: "+o(t)))}function S(t){return new c({...t,validator:(e,n)=>void 0===e||t.validator(e,n),refiner:(e,n)=>void 0===e||t.refiner(e,n)})}function E(t,e){return new c({type:"record",schema:null,*entries(n){if(i(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator:t=>i(t)||"Expected an object, but received: "+o(t)})}function k(){return p("string",(t=>"string"===typeof t||"Expected a string, but received: "+o(t)))}function T(t){const e=b();return new c({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator:t=>Array.isArray(t)||"Expected an array, but received: "+o(t)})}function I(t){const e=Object.keys(t);return new c({type:"type",schema:t,*entries(n){if(i(n))for(const r of e)yield[r,n[r],t[r]]},validator:t=>i(t)||"Expected an object, but received: "+o(t)})}function x(t){const e=t.map((t=>t.type)).join(" | ");return new c({type:"union",schema:null,validator(n,r){const i=[];for(const e of t){const[...t]=u(n,e,r),[o]=t;if(!o[0])return[];for(const[e]of t)e&&i.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+o(n),...i]}})}function P(){return p("unknown",(()=>!0))}function M(t,e,n){return new c({...t,coercer:(r,i)=>f(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}},9791:function(t,e,n){"use strict";n.d(e,{m9:function(){return Xr},rz:function(){return Qr},AR:function(){return ti},pb:function(){return ir},fB:function(){return nr}});var r=n(3029),i=n(3776),o=n(4020),a=n(8764),s=n(3550),u=n.n(s),c=n(7191),l=n.n(c),d=n(9742),f=n(3204),h=n.n(f),p=n(2023),m=n(9593),y=n(9282),g=n.n(y),v=(n(7885),n(6729),n(8764).Buffer),w=Object.freeze({__proto__:null,encode:function(t){return t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),"0x")},decode:function(t){0===t.indexOf("0x")&&(t=t.substr(2)),t.length%2==1&&(t="0"+t);let e=t.match(/.{2}/g);return null===e?a.Buffer.from([]):a.Buffer.from(e.map((t=>parseInt(t,16))))}});function b(t){return new TextDecoder("utf-8").decode(t)}function _(t){return(new TextEncoder).encode(t)}var A=Object.freeze({__proto__:null,decode:b,encode:_});function S(t){return l().encode(t)}var E=Object.freeze({__proto__:null,encode:S,decode:function(t){return l().decode(t)}}),k=Object.freeze({__proto__:null,encode:function(t){return d.fromByteArray(t)},decode:function(t){return a.Buffer.from(d.toByteArray(t))}}),T=Object.freeze({__proto__:null,hex:w,utf8:A,bs58:E,base64:k});async function I(t,e,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},i=await t.sendRawTransaction(e,r),o=(await t.confirmTransaction(i,n&&n.commitment)).value;if(o.err)throw new x(`Raw transaction ${i} failed (${JSON.stringify(o)})`);return i}class x extends Error{constructor(t){super(t)}}function P(){return null===M?class{constructor(t,e,n){this.connection=t,this.wallet=e,this.opts=n}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async send(t,e,n){var r;void 0===e&&(e=[]),void 0===n&&(n=this.opts),t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,t=await this.wallet.signTransaction(t),e.filter((t=>void 0!==t)).forEach((e=>{t.partialSign(e)}));const i=t.serialize();try{return await I(this.connection,i,n)}catch(e){if(e instanceof x){const n=await this.connection.getTransaction(S(t.signature),{commitment:"confirmed"});if(n){const t=null===(r=n.meta)||void 0===r?void 0:r.logMessages;throw t?new o.SendTransactionError(e.message,t):e}throw e}throw e}}async sendAll(t,e){void 0===e&&(e=this.opts);const n=await this.connection.getRecentBlockhash(e.preflightCommitment);let r=t.map((t=>{let e=t.tx,r=t.signers;return void 0===r&&(r=[]),e.feePayer=this.wallet.publicKey,e.recentBlockhash=n.blockhash,r.filter((t=>void 0!==t)).forEach((t=>{e.partialSign(t)})),e}));const i=await this.wallet.signAllTransactions(r),o=[];for(let a=0;a<r.length;a+=1){const t=i[a].serialize();o.push(await I(this.connection,t,e))}return o}async simulate(t,e,n=this.opts){var r,i,o;return void 0===e&&(e=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(r=n.preflightCommitment)&&void 0!==r?r:this.opts.preflightCommitment)).blockhash,t=await this.wallet.signTransaction(t),e.filter((t=>void 0!==t)).forEach((e=>{t.partialSign(e)})),await async function(t,e,n){e.recentBlockhash=await t._recentBlockhash(t._disableBlockhashCaching);const r=e.serializeMessage(),i=[e._serialize(r).toString("base64"),{encoding:"base64",commitment:n}],o=await t._rpcRequest("simulateTransaction",i);if(o.error)throw new Error("failed to simulate transaction: "+o.error.message);return o.result}(this.connection,t,null!==(o=null!==(i=n.commitment)&&void 0!==i?i:this.opts.commitment)&&void 0!==o?o:"processed")}}.local():M}let M=null;const B=new Set(["anchor-deprecated-state","debug-logs"]),O=new Map;function L(t){return void 0!==O.get(t)}var D=Object.freeze({__proto__:null,set:function(t){if(!B.has(t))throw new Error("Invalid feature");O.set(t,!0)},isSet:L});class C extends Error{constructor(t){super(t),this.name="IdlError"}}Error;Error;new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has_one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exemption constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"A state constraint was violated"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[2500,"A require expression was violated"],[2501,"A require_eq expression was violated"],[2502,"A require_keys_eq expression was violated"],[2503,"A require_neq expression was violated"],[2504,"A require_keys_neq expression was violated"],[2505,"A require_gt expression was violated"],[2506,"A require_gte expression was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[3015,"The given public key does not match the required sysvar"],[4e3,"The given state account does not have the correct address"],[4100,"The declared program id does not match the actual program id"],[5e3,"The API being used is deprecated and should no longer be used"]]);function R(t,e){if("enum"===e.type.kind){let n=e.type.variants.map((e=>void 0===e.fields?0:e.fields.map((e=>{if("object"!=typeof e||!("name"in e))throw new Error("Tuple enum variants not yet implemented.");return U(t,e.type)})).reduce(((t,e)=>t+e))));return Math.max(...n)+1}return void 0===e.type.fields?0:e.type.fields.map((e=>U(t,e.type))).reduce(((t,e)=>t+e),0)}function U(t,e){var n,r;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+U(t,e.option);if("coption"in e)return 4+U(t,e.coption);if("defined"in e){const i=null!==(r=null===(n=t.types)||void 0===n?void 0:n.filter((t=>t.name===e.defined)))&&void 0!==r?r:[];if(1!==i.length)throw new C(`Type not found: ${JSON.stringify(e)}`);return R(t,i[0])}if("array"in e){let n=e.array[0],r=e.array[1];return U(t,n)*r}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}var N="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};class z{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var j=z;class F extends z{isCount(){throw new Error("ExternalLayout is abstract")}}class q extends F{constructor(t,e,n){if(!(t instanceof z))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof K||this.layout instanceof V}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return void 0===n&&(n=0),this.layout.encode(t,e,n+this.offset)}}class K extends z{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class V extends z{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}const $=Math.pow(2,32);class G extends z{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return function(t,e){return t*$+e}(t.readUInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=function(t){const e=Math.floor(t/$);return{hi32:e,lo32:t-e*$}}(t);return e.writeUInt32LE(r.lo32,n),e.writeUInt32LE(r.hi32,n+4),8}}class W extends z{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof z),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const i of t)if(0>i.span&&void 0===i.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(t){throw new RangeError("indeterminate span")}return n}decode(t,e){void 0===e&&(e=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const a of this.fields){let r=a.span;if(o=0<r?r:0,void 0!==a.property){const i=t[a.property];void 0!==i&&(o=a.encode(i,e,n),0>r&&(r=a.getSpan(e,n)))}i=n,n+=r}return i+o-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class H{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class X extends H{constructor(t,e){if(!(t instanceof F&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class Y extends z{constructor(t,e,n){const r=t instanceof K||t instanceof V;if(r)t=new X(new q(t));else if(t instanceof F&&t.isCount())t=new X(t);else if(!(t instanceof H))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof z))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&r&&(i+=t.layout.span)),super(i,n),this.discriminator=t,this.usesPrefixDiscriminator=r,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return o(t)},this.configGetSourceVariant=function(t){o=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){let n;void 0===e&&(e=0);const r=this.discriminator,i=r.decode(t,e);let o=this.registry[i];if(void 0===o){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(t,e+a)}else n=o.decode(t,e);return n}encode(t,e,n){void 0===n&&(n=0);const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(t[r.property],e,n),o+i.encode(t[i.property],e,n+o)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new J(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e){let n=t;return v.isBuffer(t)&&(void 0===e&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class J extends z{constructor(t,e,n,r){if(!(t instanceof Y))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof z))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),i+=this.layout.getSpan(e,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class Z extends z{constructor(t,e){if(!(t instanceof F&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof F||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){void 0===e&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let r=this.length;if(this.length instanceof F&&(r=t.length),!v.isBuffer(t)||r!==t.length)throw new TypeError((i="Blob.encode",(this.property?i+"["+this.property+"]":i)+" requires (length "+r+") Buffer as src"));var i;if(n+r>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,r,"hex"),this.length instanceof F&&this.length.encode(r,e,n),r}}var Q=t=>new K(1,t),tt=t=>new G(t),et=(t,e,n)=>new W(t,e,n),nt=(t,e)=>new Z(t,e);class rt{constructor(t){}encode(t,e){switch(h()(t)){case"initializeMint":return function({decimals:t,mintAuthority:e,freezeAuthority:n}){return st({initializeMint:{decimals:t,mintAuthority:e.toBuffer(),freezeAuthorityOption:!!n,freezeAuthority:(n||o.PublicKey.default).toBuffer()}})}(e);case"initializeAccount":return st({initializeAccount:{}});case"initializeMultisig":return function({m:t}){return st({initializeMultisig:{m:t}})}(e);case"transfer":return function({amount:t}){return st({transfer:{amount:t}})}(e);case"approve":return function({amount:t}){return st({approve:{amount:t}})}(e);case"revoke":return st({revoke:{}});case"setAuthority":return function({authorityType:t,newAuthority:e}){return st({setAuthority:{authorityType:t,newAuthority:e}})}(e);case"mintTo":return function({amount:t}){return st({mintTo:{amount:t}})}(e);case"burn":return function({amount:t}){return st({burn:{amount:t}})}(e);case"closeAccount":return st({closeAccount:{}});case"freezeAccount":return st({freezeAccount:{}});case"thawAccount":return st({thawAccount:{}});case"transferChecked":return function({amount:t,decimals:e}){return st({transferChecked:{amount:t,decimals:e}})}(e);case"approvedChecked":return function({amount:t,decimals:e}){return st({approveChecked:{amount:t,decimals:e}})}(e);case"mintToChecked":return function({amount:t,decimals:e}){return st({mintToChecked:{amount:t,decimals:e}})}(e);case"burnChecked":return function({amount:t,decimals:e}){return st({burnChecked:{amount:t,decimals:e}})}(e);case"intializeAccount2":return function({authority:t}){return st({initilaizeAccount2:{authority:t}})}(e);case"syncNative":return st({syncNative:{}});case"initializeAccount3":return function({authority:t}){return st({initializeAccount3:{authority:t}})}(e);case"initializeMultisig2":return function({m:t}){return st({initializeMultisig2:{m:t}})}(e);case"initializeMint2":return function({decimals:t,mintAuthority:e,freezeAuthority:n}){return st({encodeInitializeMint2:{decimals:t,mintAuthority:e,freezeAuthority:n}})}(e);default:throw new Error(`Invalid instruction: ${t}`)}}encodeState(t,e){throw new Error("SPL token does not have state")}}const it=(ot=Q("instruction"),new Y(ot,undefined,undefined));var ot;function at(t){return nt(32,t)}function st(t){let e=v.alloc(ut),n=it.encode(t,e);return e.slice(0,n)}it.addVariant(0,et([Q("decimals"),nt(32,"mintAuthority"),Q("freezeAuthorityOption"),at("freezeAuthority")]),"initializeMint"),it.addVariant(1,et([]),"initializeAccount"),it.addVariant(2,et([Q("m")]),"initializeMultisig"),it.addVariant(3,et([tt("amount")]),"transfer"),it.addVariant(4,et([tt("amount")]),"approve"),it.addVariant(5,et([]),"revoke"),it.addVariant(6,et([Q("authorityType"),Q("newAuthorityOption"),at("newAuthority")]),"setAuthority"),it.addVariant(7,et([tt("amount")]),"mintTo"),it.addVariant(8,et([tt("amount")]),"burn"),it.addVariant(9,et([]),"closeAccount"),it.addVariant(10,et([]),"freezeAccount"),it.addVariant(11,et([]),"thawAccount"),it.addVariant(12,et([tt("amount"),Q("decimals")]),"transferChecked"),it.addVariant(13,et([tt("amount"),Q("decimals")]),"approvedChecked"),it.addVariant(14,et([tt("amount"),Q("decimals")]),"mintToChecked"),it.addVariant(15,et([tt("amount"),Q("decimals")]),"burnedChecked"),it.addVariant(16,et([at("authority")]),"InitializeAccount2"),it.addVariant(17,et([]),"syncNative"),it.addVariant(18,et([at("authority")]),"initializeAccount3"),it.addVariant(19,et([Q("m")]),"initializeMultisig2"),it.addVariant(20,et([Q("decimals"),at("mintAuthority"),Q("freezeAuthorityOption"),at("freezeAuthority")]),"initializeMint2");const ut=Math.max(...Object.values(it.registry).map((t=>t.span)));class ct{constructor(t){}encode(t,e){throw new Error("SPL token does not have state")}decode(t){throw new Error("SPL token does not have state")}}function lt(t){return new ht(nt(8),(t=>gt.fromBuffer(t)),(t=>t.toBuffer()),t)}function dt(t){return new ht(nt(32),(t=>new o.PublicKey(t)),(t=>t.toBuffer()),t)}function ft(t,e){return new pt(t,e)}class ht extends j{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}class pt extends j{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=new K(4,void 0)}encode(t,e,n=0){return null==t?this.layout.span+this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+4)+4)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return null;if(1===n)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}function mt(t){if(0===t)return!1;if(1===t)return!0;throw new Error("Invalid bool: "+t)}function yt(t){return t?1:0}class gt extends(u()){toBuffer(){const t=super.toArray().reverse(),e=v.from(t);if(8===e.length)return e;if(e.length>=8)throw new Error("u64 too large");const n=v.alloc(8);return e.copy(n),n}static fromBuffer(t){if(8!==t.length)throw new Error(`Invalid buffer length: ${t.length}`);return new gt([...t].reverse().map((t=>`00${t.toString(16)}`.slice(-2))).join(""),16)}}class vt{constructor(t){this.idl=t}async encode(t,e){switch(t){case"token":{const t=v.alloc(165),n=bt.encode(e,t);return t.slice(0,n)}case"mint":{const t=v.alloc(82),n=wt.encode(e,t);return t.slice(0,n)}default:throw new Error(`Invalid account name: ${t}`)}}decode(t,e){return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){switch(t){case"token":return function(t){return bt.decode(t)}(e);case"mint":return function(t){return wt.decode(t)}(e);default:throw new Error(`Invalid account name: ${t}`)}}memcmp(t,e){switch(t){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${t}`)}}size(t){var e;return null!==(e=R(this.idl,t))&&void 0!==e?e:0}}const wt=et([ft(dt(),"mintAuthority"),lt("supply"),Q("decimals"),new ht(Q(),mt,yt,"isInitialized"),ft(dt(),"freezeAuthority")]),bt=et([dt("mint"),dt("authority"),lt("amount"),ft(dt(),"delegate"),Q("state"),ft(lt(),"isNative"),lt("delegatedAmount"),ft(dt(),"closeAuthority")]);class _t{constructor(t){}decode(t){throw new Error("SPL token program does not have events")}}class At{constructor(t){this.instruction=new rt(t),this.accounts=new vt(t),this.events=new _t(t),this.state=new ct(t)}}var St=Object.freeze({__proto__:null,hash:function(t){return(0,p.sha256)(t)}});function Et(t){return t instanceof o.PublicKey?t:new o.PublicKey(t)}async function kt(t,e,n){if(e.length<=99)return await Tt(t,e,n);{const i=(r=e,99,Array.apply(0,new Array(Math.ceil(r.length/99))).map(((t,e)=>r.slice(99*e,99*(e+1)))));return(await Promise.all(i.map((e=>Tt(t,e,n))))).flat()}var r}async function Tt(t,e,n){const r=null!=n?n:t.commitment,i=[e.map((t=>t.toBase58()))];r&&i.push({commitment:r});const s=await t._rpcRequest("getMultipleAccounts",i);if(s.error)throw new Error("failed to get info about accounts "+e.map((t=>t.toBase58())).join(", ")+": "+s.error.message);g()(void 0!==s.result);const u=[];for(const c of s.result.value){let t=null;if(null!==c){if(s.result.value){const{executable:e,owner:n,lamports:r,data:i}=c;g()("base64"===i[1]),t={executable:e,owner:new o.PublicKey(n),lamports:r,data:a.Buffer.from(i[0],"base64")}}if(null===t)throw new Error("Invalid response");u.push(t)}else u.push(null)}return u.map(((t,n)=>null===t?null:{publicKey:e[n],account:t}))}var It=Object.freeze({__proto__:null,invoke:async function(t,e,n,r){t=Et(t),r||(r=P());const i=new o.Transaction;return i.add(new o.TransactionInstruction({programId:t,keys:null!=e?e:[],data:n})),await r.send(i)},getMultipleAccounts:kt});function xt(t,e,n){const r=a.Buffer.concat([t.toBuffer(),a.Buffer.from(e),n.toBuffer()]),i=p.sha256.digest(r);return new o.PublicKey(a.Buffer.from(i))}function Pt(t,e){let n=a.Buffer.alloc(0);t.forEach((function(t){if(t.length>32)throw new TypeError("Max seed length exceeded");n=a.Buffer.concat([n,Bt(t)])})),n=a.Buffer.concat([n,e.toBuffer(),a.Buffer.from("ProgramDerivedAddress")]);let r=(0,p.sha256)(new Uint8Array(n)),i=new(u())(r,16).toArray(void 0,32);if(o.PublicKey.isOnCurve(new Uint8Array(i)))throw new Error("Invalid seeds, address must fall off the curve");return new o.PublicKey(i)}function Mt(t,e){let n,r=255;for(;0!=r;){try{n=Pt(t.concat(a.Buffer.from([r])),e)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}const Bt=t=>t instanceof a.Buffer?t:t instanceof Uint8Array?a.Buffer.from(t.buffer,t.byteOffset,t.byteLength):a.Buffer.from(t);async function Ot(t,...e){let n=[a.Buffer.from([97,110,99,104,111,114])];e.forEach((t=>{n.push(t instanceof a.Buffer?t:Et(t).toBuffer())}));const[r]=await o.PublicKey.findProgramAddress(n,Et(t));return r}var Lt=Object.freeze({__proto__:null,createWithSeedSync:xt,createProgramAddressSync:Pt,findProgramAddressSync:Mt,associated:Ot});const Dt=new o.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Ct=new o.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Rt=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:Dt,ASSOCIATED_PROGRAM_ID:Ct,associatedAddress:async function({mint:t,owner:e}){return(await o.PublicKey.findProgramAddress([e.toBuffer(),Dt.toBuffer(),t.toBuffer()],Ct))[0]}}),Ut={exports:{}};!function(t,e){var n="undefined"!=typeof self?self:N,r=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,a="ArrayBuffer"in t;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function m(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():a&&i&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=p(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=c(t),e=l(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},f.prototype.delete=function(t){delete this.map[c(t)]},f.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},f.prototype.set=function(t,e){this.map[c(t)]=l(e)},f.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},f.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),d(t)},f.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),d(t)},f.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),d(t)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var n,r,i=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),v.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},g.call(w.prototype),g.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var A=[301,302,303,307,308];_.redirect=function(t,e){if(-1===A.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function S(t,n){return new Promise((function(r,o){var a=new w(t,n);if(a.signal&&a.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var t,e,n={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new f,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new _(i,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}S.polyfill=!0,t.fetch||(t.fetch=S,t.Headers=f,t.Request=w,t.Response=_),e.Headers=f,e.Request=w,e.Response=_,e.fetch=S,Object.defineProperty(e,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(Ut,Ut.exports);var Nt=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(Ut.exports);async function zt(t,e){const n=await t.getAccountInfo(e);if(null===n)throw new Error("program account not found");const{program:r}=Ft(n.data),i=await t.getAccountInfo(r.programdataAddress);if(null===i)throw new Error("program data account not found");const{programData:o}=Ft(i.data);return o}const jt=m.rustEnum([m.struct([],"uninitialized"),m.struct([m.option(m.publicKey(),"authorityAddress")],"buffer"),m.struct([m.publicKey("programdataAddress")],"program"),m.struct([m.u64("slot"),m.option(m.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,m.u32());function Ft(t){return jt.decode(t)}var qt=Object.freeze({__proto__:null,verifiedBuild:async function(t,e,n=5){const r=`https://anchor.projectserum.com/api/v0/program/${e.toString()}/latest?limit=${n}`,[i,o]=await Promise.all([zt(t,e),Nt(r)]),a=(await o.json()).filter((t=>!t.aborted&&"Built"===t.state&&"Verified"===t.verified));if(0===a.length)return null;const s=a[0];return i.slot.toNumber()!==s.verified_slot?null:s},fetchData:zt,decodeUpgradeableLoaderState:Ft});Object.freeze({__proto__:null,sha256:St,rpc:It,publicKey:Lt,bytes:T,token:Rt,features:D,registry:qt});m.struct([m.publicKey("authority"),m.vecU8("data")]);new Map;new o.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function Kt(){return new At(Vt)}const Vt={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class $t{constructor(t,e,n,r,i,o){this._args=t,this._accounts=e,this._provider=n,this._programId=r,this._idlIx=i,this._accountStore=new Gt(n,o)}async resolve(){for(let t=0;t<this._idlIx.accounts.length;t+=1){const e=this._idlIx.accounts[t],n=h()(e.name);e.pda&&e.pda.seeds.length>0&&!this._accounts[n]?await this.autoPopulatePda(e):!e.isSigner||this._accounts[n]?Reflect.has($t.CONST_ACCOUNTS,n)&&!this._accounts[n]&&(this._accounts[n]=$t.CONST_ACCOUNTS[n]):this._accounts[n]=this._provider.wallet.publicKey}}async autoPopulatePda(t){if(!t.pda||!t.pda.seeds)throw new Error("Must have seeds");const e=await Promise.all(t.pda.seeds.map((t=>this.toBuffer(t)))),n=await this.parseProgramId(t),[r]=await o.PublicKey.findProgramAddress(e,n);this._accounts[h()(t.name)]=r}async parseProgramId(t){var e;if(!(null===(e=t.pda)||void 0===e?void 0:e.programId))return this._programId;switch(t.pda.programId.kind){case"const":return new o.PublicKey(this.toBufferConst(t.pda.programId.value));case"arg":return this.argValue(t.pda.programId);case"account":return await this.accountValue(t.pda.programId);default:throw new Error(`Unexpected program seed kind: ${t.pda.programId.kind}`)}}async toBuffer(t){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t);default:throw new Error(`Unexpected seed kind: ${t.kind}`)}}toBufferConst(t){return this.toBufferValue(t.type,t.value)}async toBufferArg(t){const e=this.argValue(t);return this.toBufferValue(t.type,e)}argValue(t){const e=h()(t.path.split(".")[0]),n=this._idlIx.args.findIndex((t=>t.name===e));if(-1===n)throw new Error(`Unable to find argument for seed: ${e}`);return this._args[n]}async toBufferAccount(t){const e=await this.accountValue(t);return this.toBufferValue(t.type,e)}async accountValue(t){const e=t.path.split("."),n=e[0],r=this._accounts[h()(n)];if(1===e.length)return r;const i=await this._accountStore.fetchAccount(t.account,r);return this.parseAccountValue(i,e.slice(1))}parseAccountValue(t,e){let n;for(;e.length>0;)n=t[h()(e[0])],e=e.slice(1);return n}toBufferValue(t,e){switch(t){case"u8":return v.from([e]);case"u16":let n=v.alloc(2);return n.writeUInt16LE(e),n;case"u32":let r=v.alloc(4);return r.writeUInt32LE(e),r;case"u64":let i=v.alloc(8);return i.writeBigUInt64LE(BigInt(e)),i;case"string":return v.from(_(e));case"publicKey":return e.toBuffer();default:if(t.array)return v.from(e);throw new Error(`Unexpected seed type: ${t}`)}}}$t.CONST_ACCOUNTS={systemProgram:o.SystemProgram.programId,tokenProgram:Dt,associatedTokenProgram:Ct,rent:o.SYSVAR_RENT_PUBKEY};class Gt{constructor(t,e){this._provider=t,this._accounts=e,this._cache=new Map}async fetchAccount(t,e){const n=e.toString();if(!this._cache.has(n))if("TokenAccount"===t){const t=await this._provider.connection.getAccountInfo(e);if(null===t)throw new Error(`invalid account info for ${n}`);const r=Kt().accounts.decode("token",t.data);this._cache.set(n,r)}else{const r=this._accounts[h()(t)].fetch(e);this._cache.set(n,r)}return this._cache.get(n)}}var Wt=n(8764).Buffer,Ht=Object.freeze({__proto__:null,encode:function(t){return t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),"0x")},decode:function(t){0===t.indexOf("0x")&&(t=t.substr(2)),t.length%2==1&&(t="0"+t);let e=t.match(/.{2}/g);return null===e?a.Buffer.from([]):a.Buffer.from(e.map((t=>parseInt(t,16))))}});function Xt(t){return new TextDecoder("utf-8").decode(t)}function Yt(t){return(new TextEncoder).encode(t)}var Jt=Object.freeze({__proto__:null,decode:Xt,encode:Yt});function Zt(t){return l().encode(t)}var Qt=Object.freeze({__proto__:null,encode:Zt,decode:function(t){return l().decode(t)}}),te=Object.freeze({__proto__:null,encode:function(t){return d.fromByteArray(t)},decode:function(t){return a.Buffer.from(d.toByteArray(t))}}),ee=Object.freeze({__proto__:null,hex:Ht,utf8:Jt,bs58:Qt,base64:te});async function ne(t,e,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},i=await t.sendRawTransaction(e,r),o=(await t.confirmTransaction(i,n&&n.commitment)).value;if(o.err)throw new re(`Raw transaction ${i} failed (${JSON.stringify(o)})`);return i}class re extends Error{constructor(t){super(t)}}function ie(){return null===oe?class{constructor(t,e,n){this.connection=t,this.wallet=e,this.opts=n}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async send(t,e,n){var r;void 0===e&&(e=[]),void 0===n&&(n=this.opts),t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,t=await this.wallet.signTransaction(t),e.filter((t=>void 0!==t)).forEach((e=>{t.partialSign(e)}));const i=t.serialize();try{return await ne(this.connection,i,n)}catch(e){if(e instanceof re){const n=await this.connection.getTransaction(Zt(t.signature),{commitment:"confirmed"});if(n){const t=null===(r=n.meta)||void 0===r?void 0:r.logMessages;throw t?new o.SendTransactionError(e.message,t):e}throw e}throw e}}async sendAll(t,e){void 0===e&&(e=this.opts);const n=await this.connection.getRecentBlockhash(e.preflightCommitment);let r=t.map((t=>{let e=t.tx,r=t.signers;return void 0===r&&(r=[]),e.feePayer=this.wallet.publicKey,e.recentBlockhash=n.blockhash,r.filter((t=>void 0!==t)).forEach((t=>{e.partialSign(t)})),e}));const i=await this.wallet.signAllTransactions(r),o=[];for(let a=0;a<r.length;a+=1){const t=i[a].serialize();o.push(await ne(this.connection,t,e))}return o}async simulate(t,e,n=this.opts){var r,i,o;return void 0===e&&(e=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(r=n.preflightCommitment)&&void 0!==r?r:this.opts.preflightCommitment)).blockhash,t=await this.wallet.signTransaction(t),e.filter((t=>void 0!==t)).forEach((e=>{t.partialSign(e)})),await async function(t,e,n){e.recentBlockhash=await t._recentBlockhash(t._disableBlockhashCaching);const r=e.serializeMessage(),i=[e._serialize(r).toString("base64"),{encoding:"base64",commitment:n}],o=await t._rpcRequest("simulateTransaction",i);if(o.error)throw new Error("failed to simulate transaction: "+o.error.message);return o.result}(this.connection,t,null!==(o=null!==(i=n.commitment)&&void 0!==i?i:this.opts.commitment)&&void 0!==o?o:"processed")}}.local():oe}let oe=null;const ae=new Set(["anchor-deprecated-state","debug-logs"]),se=new Map;function ue(t){return void 0!==se.get(t)}var ce=Object.freeze({__proto__:null,set:function(t){if(!ae.has(t))throw new Error("Invalid feature");se.set(t,!0)},isSet:ue});class le extends Error{constructor(t){super(t),this.name="IdlError"}}Error;Error;new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has_one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exemption constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"A state constraint was violated"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[2500,"A require expression was violated"],[2501,"A require_eq expression was violated"],[2502,"A require_keys_eq expression was violated"],[2503,"A require_neq expression was violated"],[2504,"A require_keys_neq expression was violated"],[2505,"A require_gt expression was violated"],[2506,"A require_gte expression was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[3015,"The given public key does not match the required sysvar"],[4e3,"The given state account does not have the correct address"],[4100,"The declared program id does not match the actual program id"],[5e3,"The API being used is deprecated and should no longer be used"]]);var de=function(){return(de=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},fe=function(){return(fe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function he(t){return t.toLowerCase()}var pe=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],me=/[^A-Z0-9]+/gi;function ye(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce((function(t,e){return t.replace(e,n)}),t)}class ge{static fieldLayout(t,e){const n=void 0!==t.name?h()(t.name):void 0;switch(t.type){case"bool":return m.bool(n);case"u8":return m.u8(n);case"i8":return m.i8(n);case"u16":return m.u16(n);case"i16":return m.i16(n);case"u32":return m.u32(n);case"i32":return m.i32(n);case"f32":return m.f32(n);case"u64":return m.u64(n);case"i64":return m.i64(n);case"f64":return m.f64(n);case"u128":return m.u128(n);case"i128":return m.i128(n);case"bytes":return m.vecU8(n);case"string":return m.str(n);case"publicKey":return m.publicKey(n);default:if("vec"in t.type)return m.vec(ge.fieldLayout({name:void 0,type:t.type.vec},e),n);if("option"in t.type)return m.option(ge.fieldLayout({name:void 0,type:t.type.option},e),n);if("defined"in t.type){const r=t.type.defined;if(void 0===e)throw new le("User defined types not provided");const i=e.filter((t=>t.name===r));if(1!==i.length)throw new le(`Type not found: ${JSON.stringify(t)}`);return ge.typeDefLayout(i[0],e,n)}if("array"in t.type){let r=t.type.array[0],i=t.type.array[1],o=ge.fieldLayout({name:void 0,type:r},e);return m.array(o,i,n)}throw new Error(`Not yet implemented: ${t}`)}}static typeDefLayout(t,e=[],n){if("struct"===t.type.kind){const r=t.type.fields.map((t=>ge.fieldLayout(t,e)));return m.struct(r,n)}if("enum"===t.type.kind){let r=t.type.variants.map((t=>{const n=h()(t.name);if(void 0===t.fields)return m.struct([],n);const r=t.fields.map((t=>{if(!t.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return ge.fieldLayout(t,e)}));return m.struct(r,n)}));return void 0!==n?m.rustEnum(r).replicate(n):m.rustEnum(r,n)}throw new Error(`Unknown type kint: ${t}`)}}class ve{constructor(t){this.idl=t,this.ixLayout=ve.parseIxLayout(t);const e=new Map;t.instructions.forEach((t=>{const n=be("global",t.name);e.set(l().encode(n),{layout:this.ixLayout.get(t.name),name:t.name})})),t.state&&t.state.methods.map((t=>{const n=be("state",t.name);e.set(l().encode(n),{layout:this.ixLayout.get(t.name),name:t.name})})),this.sighashLayouts=e}encode(t,e){return this._encode("global",t,e)}encodeState(t,e){return this._encode("state",t,e)}_encode(t,e,n){const r=a.Buffer.alloc(1e3),i=h()(e),o=this.ixLayout.get(i);if(!o)throw new Error(`Unknown method: ${i}`);const s=o.encode(n,r),u=r.slice(0,s);return a.Buffer.concat([be(t,e),u])}static parseIxLayout(t){const e=(t.state?t.state.methods:[]).map((e=>{let n=e.args.map((e=>{var n,r;return ge.fieldLayout(e,Array.from([...null!==(n=t.accounts)&&void 0!==n?n:[],...null!==(r=t.types)&&void 0!==r?r:[]]))}));const r=h()(e.name);return[r,m.struct(n,r)]})).concat(t.instructions.map((e=>{let n=e.args.map((e=>{var n,r;return ge.fieldLayout(e,Array.from([...null!==(n=t.accounts)&&void 0!==n?n:[],...null!==(r=t.types)&&void 0!==r?r:[]]))}));const r=h()(e.name);return[r,m.struct(n,r)]})));return new Map(e)}decode(t,e="hex"){"string"==typeof t&&(t="hex"===e?a.Buffer.from(t,"hex"):l().decode(t));let n=l().encode(t.slice(0,8)),r=t.slice(8);const i=this.sighashLayouts.get(n);return i?{data:i.layout.decode(r),name:i.name}:null}format(t,e){return we.format(t,e,this.idl)}}class we{static format(t,e,n){const r=n.instructions.filter((e=>t.name===e.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const i=r.args.map((e=>({name:e.name,type:we.formatIdlType(e.type),data:we.formatIdlData(e,t.data[e.name],n.types)}))),o=we.flattenIdlAccounts(r.accounts);return{args:i,accounts:e.map(((t,e)=>e<o.length?{name:o[e].name,...t}:{name:void 0,...t}))}}static formatIdlType(t){if("string"==typeof t)return t;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("defined"in t)return t.defined;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,n){if("string"==typeof t.type)return e.toString();if(t.type.hasOwnProperty("vec"))return"["+e.map((e=>this.formatIdlData({name:"",type:t.type.vec},e))).join(", ")+"]";if(t.type.hasOwnProperty("option"))return null===e?"null":this.formatIdlData({name:"",type:t.type.option},e,n);if(t.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((e=>e.name===t.type.defined));if(1!==r.length)throw new Error(`Type not found: ${t.type.defined}`);return we.formatIdlDataDefined(r[0],e,n)}return"unknown"}static formatIdlDataDefined(t,e,n){if("struct"===t.type.kind){const r=t.type;return"{ "+Object.keys(e).map((t=>{const i=r.fields.filter((e=>e.name===t))[0];if(void 0===i)throw new Error("Unable to find type");return t+": "+we.formatIdlData(i,e[t],n)})).join(", ")+" }"}if(0===t.type.variants.length)return"{}";if(t.type.variants[0].name){const r=t.type.variants,i=Object.keys(e)[0],o=e[i],a=Object.keys(o).map((t=>{var e;const a=o[t],s=null===(e=r[i])||void 0===e?void 0:e.filter((e=>e.name===t))[0];if(void 0===s)throw new Error("Unable to find variant");return t+": "+we.formatIdlData(s,a,n)})).join(", "),s=h()(i,{pascalCase:!0});return 0===a.length?s:`${s} { ${a} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(t,e){return t.map((t=>{const n=function(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}(t.name);if(t.hasOwnProperty("accounts")){const r=e?`${e} > ${n}`:n;return we.flattenIdlAccounts(t.accounts,r)}return{...t,name:e?`${e} > ${n}`:n}})).flat()}}function be(t,e){var n;let r=`${t}:${void 0===n&&(n={}),function(t,e){return void 0===e&&(e={}),function(t,e){void 0===e&&(e={});for(var n=e.splitRegexp,r=void 0===n?pe:n,i=e.stripRegexp,o=void 0===i?me:i,a=e.transform,s=void 0===a?he:a,u=e.delimiter,c=void 0===u?" ":u,l=ye(ye(t,r,"$1\0$2"),o,"\0"),d=0,f=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(f-1);)f--;return l.slice(d,f).split("\0").map(s).join(c)}(t,fe({delimiter:"."},e))}(e,de({delimiter:"_"},n))}`;return a.Buffer.from(p.sha256.digest(r)).slice(0,8)}function _e(t,e){if("enum"===e.type.kind){let n=e.type.variants.map((e=>void 0===e.fields?0:e.fields.map((e=>{if("object"!=typeof e||!("name"in e))throw new Error("Tuple enum variants not yet implemented.");return Ae(t,e.type)})).reduce(((t,e)=>t+e))));return Math.max(...n)+1}return void 0===e.type.fields?0:e.type.fields.map((e=>Ae(t,e.type))).reduce(((t,e)=>t+e),0)}function Ae(t,e){var n,r;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+Ae(t,e.option);if("coption"in e)return 4+Ae(t,e.coption);if("defined"in e){const i=null!==(r=null===(n=t.types)||void 0===n?void 0:n.filter((t=>t.name===e.defined)))&&void 0!==r?r:[];if(1!==i.length)throw new le(`Type not found: ${JSON.stringify(e)}`);return _e(t,i[0])}if("array"in e){let n=e.array[0],r=e.array[1];return Ae(t,n)*r}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}class Se{constructor(t){if(void 0===t.accounts)return void(this.accountLayouts=new Map);const e=t.accounts.map((e=>[e.name,ge.typeDefLayout(e,t.types)]));this.accountLayouts=new Map(e),this.idl=t}async encode(t,e){const n=a.Buffer.alloc(1e3),r=this.accountLayouts.get(t);if(!r)throw new Error(`Unknown account: ${t}`);const i=r.encode(e,n);let o=n.slice(0,i),s=Se.accountDiscriminator(t);return a.Buffer.concat([s,o])}decode(t,e){if(Se.accountDiscriminator(t).compare(e.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){const n=e.slice(8),r=this.accountLayouts.get(t);if(!r)throw new Error(`Unknown account: ${t}`);return r.decode(n)}memcmp(t,e){const n=Se.accountDiscriminator(t);return{offset:0,bytes:l().encode(e?a.Buffer.concat([n,e]):n)}}size(t){var e;return 8+(null!==(e=_e(this.idl,t))&&void 0!==e?e:0)}static accountDiscriminator(t){return a.Buffer.from(p.sha256.digest(`account:${h()(t,{pascalCase:!0})}`)).slice(0,8)}}class Ee{constructor(t){if(void 0===t.events)return void(this.layouts=new Map);const e=t.events.map((e=>{let n={name:e.name,type:{kind:"struct",fields:e.fields.map((t=>({name:t.name,type:t.type})))}};return[e.name,ge.typeDefLayout(n,t.types)]}));this.layouts=new Map(e),this.discriminators=new Map(void 0===t.events?[]:t.events.map((t=>[d.fromByteArray(ke(t.name)),t.name])))}decode(t){let e;try{e=a.Buffer.from(d.toByteArray(t))}catch(o){return null}const n=d.fromByteArray(e.slice(0,8)),r=this.discriminators.get(n);if(void 0===r)return null;const i=this.layouts.get(r);if(!i)throw new Error(`Unknown event: ${r}`);return{data:i.decode(e.slice(8)),name:r}}}function ke(t){return a.Buffer.from(p.sha256.digest(`event:${t}`)).slice(0,8)}class Te{constructor(t){if(void 0===t.state)throw new Error("Idl state not defined.");this.layout=ge.typeDefLayout(t.state.struct,t.types)}async encode(t,e){const n=a.Buffer.alloc(1e3),r=this.layout.encode(e,n),i=await Ie(t),o=n.slice(0,r);return a.Buffer.concat([i,o])}decode(t){const e=t.slice(8);return this.layout.decode(e)}}async function Ie(t){let e=ue("anchor-deprecated-state")?"account":"state";return a.Buffer.from(p.sha256.digest(`${e}:${t}`)).slice(0,8)}class xe{constructor(t){this.instruction=new ve(t),this.accounts=new Se(t),this.events=new Ee(t),t.state&&(this.state=new Te(t))}}var Pe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};class Me{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var Be=Me;class Oe extends Me{isCount(){throw new Error("ExternalLayout is abstract")}}class Le extends Oe{constructor(t,e,n){if(!(t instanceof Me))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof De||this.layout instanceof Ce}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return void 0===n&&(n=0),this.layout.encode(t,e,n+this.offset)}}class De extends Me{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class Ce extends Me{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}const Re=Math.pow(2,32);class Ue extends Me{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return function(t,e){return t*Re+e}(t.readUInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=function(t){const e=Math.floor(t/Re);return{hi32:e,lo32:t-e*Re}}(t);return e.writeUInt32LE(r.lo32,n),e.writeUInt32LE(r.hi32,n+4),8}}class Ne extends Me{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof Me),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const i of t)if(0>i.span&&void 0===i.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(t){throw new RangeError("indeterminate span")}return n}decode(t,e){void 0===e&&(e=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const a of this.fields){let r=a.span;if(o=0<r?r:0,void 0!==a.property){const i=t[a.property];void 0!==i&&(o=a.encode(i,e,n),0>r&&(r=a.getSpan(e,n)))}i=n,n+=r}return i+o-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class ze{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class je extends ze{constructor(t,e){if(!(t instanceof Oe&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class Fe extends Me{constructor(t,e,n){const r=t instanceof De||t instanceof Ce;if(r)t=new je(new Le(t));else if(t instanceof Oe&&t.isCount())t=new je(t);else if(!(t instanceof ze))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof Me))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&r&&(i+=t.layout.span)),super(i,n),this.discriminator=t,this.usesPrefixDiscriminator=r,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return o(t)},this.configGetSourceVariant=function(t){o=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){let n;void 0===e&&(e=0);const r=this.discriminator,i=r.decode(t,e);let o=this.registry[i];if(void 0===o){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(t,e+a)}else n=o.decode(t,e);return n}encode(t,e,n){void 0===n&&(n=0);const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(t[r.property],e,n),o+i.encode(t[i.property],e,n+o)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new qe(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e){let n=t;return Wt.isBuffer(t)&&(void 0===e&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class qe extends Me{constructor(t,e,n,r){if(!(t instanceof Fe))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof Me))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),i+=this.layout.getSpan(e,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class Ke extends Me{constructor(t,e){if(!(t instanceof Oe&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof Oe||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){void 0===e&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let r=this.length;if(this.length instanceof Oe&&(r=t.length),!Wt.isBuffer(t)||r!==t.length)throw new TypeError((i="Blob.encode",(this.property?i+"["+this.property+"]":i)+" requires (length "+r+") Buffer as src"));var i;if(n+r>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,r,"hex"),this.length instanceof Oe&&this.length.encode(r,e,n),r}}var Ve=t=>new De(1,t),$e=t=>new Ue(t),Ge=(t,e,n)=>new Ne(t,e,n),We=(t,e)=>new Ke(t,e);class He{constructor(t){}encode(t,e){switch(h()(t)){case"initializeMint":return function({decimals:t,mintAuthority:e,freezeAuthority:n}){return Ze({initializeMint:{decimals:t,mintAuthority:e.toBuffer(),freezeAuthorityOption:!!n,freezeAuthority:(n||o.PublicKey.default).toBuffer()}})}(e);case"initializeAccount":return Ze({initializeAccount:{}});case"initializeMultisig":return function({m:t}){return Ze({initializeMultisig:{m:t}})}(e);case"transfer":return function({amount:t}){return Ze({transfer:{amount:t}})}(e);case"approve":return function({amount:t}){return Ze({approve:{amount:t}})}(e);case"revoke":return Ze({revoke:{}});case"setAuthority":return function({authorityType:t,newAuthority:e}){return Ze({setAuthority:{authorityType:t,newAuthority:e}})}(e);case"mintTo":return function({amount:t}){return Ze({mintTo:{amount:t}})}(e);case"burn":return function({amount:t}){return Ze({burn:{amount:t}})}(e);case"closeAccount":return Ze({closeAccount:{}});case"freezeAccount":return Ze({freezeAccount:{}});case"thawAccount":return Ze({thawAccount:{}});case"transferChecked":return function({amount:t,decimals:e}){return Ze({transferChecked:{amount:t,decimals:e}})}(e);case"approvedChecked":return function({amount:t,decimals:e}){return Ze({approveChecked:{amount:t,decimals:e}})}(e);case"mintToChecked":return function({amount:t,decimals:e}){return Ze({mintToChecked:{amount:t,decimals:e}})}(e);case"burnChecked":return function({amount:t,decimals:e}){return Ze({burnChecked:{amount:t,decimals:e}})}(e);case"intializeAccount2":return function({authority:t}){return Ze({initilaizeAccount2:{authority:t}})}(e);case"syncNative":return Ze({syncNative:{}});case"initializeAccount3":return function({authority:t}){return Ze({initializeAccount3:{authority:t}})}(e);case"initializeMultisig2":return function({m:t}){return Ze({initializeMultisig2:{m:t}})}(e);case"initializeMint2":return function({decimals:t,mintAuthority:e,freezeAuthority:n}){return Ze({encodeInitializeMint2:{decimals:t,mintAuthority:e,freezeAuthority:n}})}(e);default:throw new Error(`Invalid instruction: ${t}`)}}encodeState(t,e){throw new Error("SPL token does not have state")}}const Xe=(Ye=Ve("instruction"),new Fe(Ye,undefined,undefined));var Ye;function Je(t){return We(32,t)}function Ze(t){let e=Wt.alloc(Qe),n=Xe.encode(t,e);return e.slice(0,n)}Xe.addVariant(0,Ge([Ve("decimals"),We(32,"mintAuthority"),Ve("freezeAuthorityOption"),Je("freezeAuthority")]),"initializeMint"),Xe.addVariant(1,Ge([]),"initializeAccount"),Xe.addVariant(2,Ge([Ve("m")]),"initializeMultisig"),Xe.addVariant(3,Ge([$e("amount")]),"transfer"),Xe.addVariant(4,Ge([$e("amount")]),"approve"),Xe.addVariant(5,Ge([]),"revoke"),Xe.addVariant(6,Ge([Ve("authorityType"),Ve("newAuthorityOption"),Je("newAuthority")]),"setAuthority"),Xe.addVariant(7,Ge([$e("amount")]),"mintTo"),Xe.addVariant(8,Ge([$e("amount")]),"burn"),Xe.addVariant(9,Ge([]),"closeAccount"),Xe.addVariant(10,Ge([]),"freezeAccount"),Xe.addVariant(11,Ge([]),"thawAccount"),Xe.addVariant(12,Ge([$e("amount"),Ve("decimals")]),"transferChecked"),Xe.addVariant(13,Ge([$e("amount"),Ve("decimals")]),"approvedChecked"),Xe.addVariant(14,Ge([$e("amount"),Ve("decimals")]),"mintToChecked"),Xe.addVariant(15,Ge([$e("amount"),Ve("decimals")]),"burnedChecked"),Xe.addVariant(16,Ge([Je("authority")]),"InitializeAccount2"),Xe.addVariant(17,Ge([]),"syncNative"),Xe.addVariant(18,Ge([Je("authority")]),"initializeAccount3"),Xe.addVariant(19,Ge([Ve("m")]),"initializeMultisig2"),Xe.addVariant(20,Ge([Ve("decimals"),Je("mintAuthority"),Ve("freezeAuthorityOption"),Je("freezeAuthority")]),"initializeMint2");const Qe=Math.max(...Object.values(Xe.registry).map((t=>t.span)));class tn{constructor(t){}encode(t,e){throw new Error("SPL token does not have state")}decode(t){throw new Error("SPL token does not have state")}}function en(t){return new on(We(8),(t=>cn.fromBuffer(t)),(t=>t.toBuffer()),t)}function nn(t){return new on(We(32),(t=>new o.PublicKey(t)),(t=>t.toBuffer()),t)}function rn(t,e){return new an(t,e)}class on extends Be{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}class an extends Be{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=new De(4,void 0)}encode(t,e,n=0){return null==t?this.layout.span+this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+4)+4)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return null;if(1===n)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}function sn(t){if(0===t)return!1;if(1===t)return!0;throw new Error("Invalid bool: "+t)}function un(t){return t?1:0}class cn extends(u()){toBuffer(){const t=super.toArray().reverse(),e=Wt.from(t);if(8===e.length)return e;if(e.length>=8)throw new Error("u64 too large");const n=Wt.alloc(8);return e.copy(n),n}static fromBuffer(t){if(8!==t.length)throw new Error(`Invalid buffer length: ${t.length}`);return new cn([...t].reverse().map((t=>`00${t.toString(16)}`.slice(-2))).join(""),16)}}class ln{constructor(t){this.idl=t}async encode(t,e){switch(t){case"token":{const t=Wt.alloc(165),n=fn.encode(e,t);return t.slice(0,n)}case"mint":{const t=Wt.alloc(82),n=dn.encode(e,t);return t.slice(0,n)}default:throw new Error(`Invalid account name: ${t}`)}}decode(t,e){return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){switch(t){case"token":return function(t){return fn.decode(t)}(e);case"mint":return function(t){return dn.decode(t)}(e);default:throw new Error(`Invalid account name: ${t}`)}}memcmp(t,e){switch(t){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${t}`)}}size(t){var e;return null!==(e=_e(this.idl,t))&&void 0!==e?e:0}}const dn=Ge([rn(nn(),"mintAuthority"),en("supply"),Ve("decimals"),new on(Ve(),sn,un,"isInitialized"),rn(nn(),"freezeAuthority")]),fn=Ge([nn("mint"),nn("authority"),en("amount"),rn(nn(),"delegate"),Ve("state"),rn(en(),"isNative"),en("delegatedAmount"),rn(nn(),"closeAuthority")]);class hn{constructor(t){}decode(t){throw new Error("SPL token program does not have events")}}class pn{constructor(t){this.instruction=new He(t),this.accounts=new ln(t),this.events=new hn(t),this.state=new tn(t)}}var mn=Object.freeze({__proto__:null,hash:function(t){return(0,p.sha256)(t)}});function yn(t){return t instanceof o.PublicKey?t:new o.PublicKey(t)}async function gn(t,e,n){if(e.length<=99)return await vn(t,e,n);{const i=(r=e,99,Array.apply(0,new Array(Math.ceil(r.length/99))).map(((t,e)=>r.slice(99*e,99*(e+1)))));return(await Promise.all(i.map((e=>vn(t,e,n))))).flat()}var r}async function vn(t,e,n){const r=null!=n?n:t.commitment,i=[e.map((t=>t.toBase58()))];r&&i.push({commitment:r});const s=await t._rpcRequest("getMultipleAccounts",i);if(s.error)throw new Error("failed to get info about accounts "+e.map((t=>t.toBase58())).join(", ")+": "+s.error.message);g()(void 0!==s.result);const u=[];for(const c of s.result.value){let t=null;if(null!==c){if(s.result.value){const{executable:e,owner:n,lamports:r,data:i}=c;g()("base64"===i[1]),t={executable:e,owner:new o.PublicKey(n),lamports:r,data:a.Buffer.from(i[0],"base64")}}if(null===t)throw new Error("Invalid response");u.push(t)}else u.push(null)}return u.map(((t,n)=>null===t?null:{publicKey:e[n],account:t}))}var wn=Object.freeze({__proto__:null,invoke:async function(t,e,n,r){t=yn(t),r||(r=ie());const i=new o.Transaction;return i.add(new o.TransactionInstruction({programId:t,keys:null!=e?e:[],data:n})),await r.send(i)},getMultipleAccounts:gn});function bn(t,e,n){const r=a.Buffer.concat([t.toBuffer(),a.Buffer.from(e),n.toBuffer()]),i=p.sha256.digest(r);return new o.PublicKey(a.Buffer.from(i))}function _n(t,e){let n=a.Buffer.alloc(0);t.forEach((function(t){if(t.length>32)throw new TypeError("Max seed length exceeded");n=a.Buffer.concat([n,Sn(t)])})),n=a.Buffer.concat([n,e.toBuffer(),a.Buffer.from("ProgramDerivedAddress")]);let r=(0,p.sha256)(new Uint8Array(n)),i=new(u())(r,16).toArray(void 0,32);if(o.PublicKey.isOnCurve(new Uint8Array(i)))throw new Error("Invalid seeds, address must fall off the curve");return new o.PublicKey(i)}function An(t,e){let n,r=255;for(;0!=r;){try{n=_n(t.concat(a.Buffer.from([r])),e)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}const Sn=t=>t instanceof a.Buffer?t:t instanceof Uint8Array?a.Buffer.from(t.buffer,t.byteOffset,t.byteLength):a.Buffer.from(t);async function En(t,...e){let n=[a.Buffer.from([97,110,99,104,111,114])];e.forEach((t=>{n.push(t instanceof a.Buffer?t:yn(t).toBuffer())}));const[r]=await o.PublicKey.findProgramAddress(n,yn(t));return r}var kn=Object.freeze({__proto__:null,createWithSeedSync:bn,createProgramAddressSync:_n,findProgramAddressSync:An,associated:En});const Tn=new o.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),In=new o.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var xn=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:Tn,ASSOCIATED_PROGRAM_ID:In,associatedAddress:async function({mint:t,owner:e}){return(await o.PublicKey.findProgramAddress([e.toBuffer(),Tn.toBuffer(),t.toBuffer()],In))[0]}}),Pn={exports:{}};!function(t,e){var n="undefined"!=typeof self?self:Pe,r=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,a="ArrayBuffer"in t;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function m(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():a&&i&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=p(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=c(t),e=l(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},f.prototype.delete=function(t){delete this.map[c(t)]},f.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},f.prototype.set=function(t,e){this.map[c(t)]=l(e)},f.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},f.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),d(t)},f.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),d(t)},f.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),d(t)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var n,r,i=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),v.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},g.call(w.prototype),g.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var A=[301,302,303,307,308];_.redirect=function(t,e){if(-1===A.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function S(t,n){return new Promise((function(r,o){var a=new w(t,n);if(a.signal&&a.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var t,e,n={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new f,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new _(i,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}S.polyfill=!0,t.fetch||(t.fetch=S,t.Headers=f,t.Request=w,t.Response=_),e.Headers=f,e.Request=w,e.Response=_,e.fetch=S,Object.defineProperty(e,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(Pn,Pn.exports);var Mn=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(Pn.exports);async function Bn(t,e){const n=await t.getAccountInfo(e);if(null===n)throw new Error("program account not found");const{program:r}=Ln(n.data),i=await t.getAccountInfo(r.programdataAddress);if(null===i)throw new Error("program data account not found");const{programData:o}=Ln(i.data);return o}const On=m.rustEnum([m.struct([],"uninitialized"),m.struct([m.option(m.publicKey(),"authorityAddress")],"buffer"),m.struct([m.publicKey("programdataAddress")],"program"),m.struct([m.u64("slot"),m.option(m.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,m.u32());function Ln(t){return On.decode(t)}var Dn=Object.freeze({__proto__:null,verifiedBuild:async function(t,e,n=5){const r=`https://anchor.projectserum.com/api/v0/program/${e.toString()}/latest?limit=${n}`,[i,o]=await Promise.all([Bn(t,e),Mn(r)]),a=(await o.json()).filter((t=>!t.aborted&&"Built"===t.state&&"Verified"===t.verified));if(0===a.length)return null;const s=a[0];return i.slot.toNumber()!==s.verified_slot?null:s},fetchData:Bn,decodeUpgradeableLoaderState:Ln}),Cn=Object.freeze({__proto__:null,sha256:mn,rpc:wn,publicKey:kn,bytes:ee,token:xn,features:ce,registry:Dn});m.struct([m.publicKey("authority"),m.vecU8("data")]);new Map;new o.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function Rn(){return new pn(Un)}const Un={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class Nn{constructor(t,e,n,r,i,o){this._args=t,this._accounts=e,this._provider=n,this._programId=r,this._idlIx=i,this._accountStore=new zn(n,o)}async resolve(){for(let t=0;t<this._idlIx.accounts.length;t+=1){const e=this._idlIx.accounts[t],n=h()(e.name);e.pda&&e.pda.seeds.length>0&&!this._accounts[n]?await this.autoPopulatePda(e):!e.isSigner||this._accounts[n]?Reflect.has(Nn.CONST_ACCOUNTS,n)&&!this._accounts[n]&&(this._accounts[n]=Nn.CONST_ACCOUNTS[n]):this._accounts[n]=this._provider.wallet.publicKey}}async autoPopulatePda(t){if(!t.pda||!t.pda.seeds)throw new Error("Must have seeds");const e=await Promise.all(t.pda.seeds.map((t=>this.toBuffer(t)))),n=await this.parseProgramId(t),[r]=await o.PublicKey.findProgramAddress(e,n);this._accounts[h()(t.name)]=r}async parseProgramId(t){var e;if(!(null===(e=t.pda)||void 0===e?void 0:e.programId))return this._programId;switch(t.pda.programId.kind){case"const":return new o.PublicKey(this.toBufferConst(t.pda.programId.value));case"arg":return this.argValue(t.pda.programId);case"account":return await this.accountValue(t.pda.programId);default:throw new Error(`Unexpected program seed kind: ${t.pda.programId.kind}`)}}async toBuffer(t){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t);default:throw new Error(`Unexpected seed kind: ${t.kind}`)}}toBufferConst(t){return this.toBufferValue(t.type,t.value)}async toBufferArg(t){const e=this.argValue(t);return this.toBufferValue(t.type,e)}argValue(t){const e=h()(t.path.split(".")[0]),n=this._idlIx.args.findIndex((t=>t.name===e));if(-1===n)throw new Error(`Unable to find argument for seed: ${e}`);return this._args[n]}async toBufferAccount(t){const e=await this.accountValue(t);return this.toBufferValue(t.type,e)}async accountValue(t){const e=t.path.split("."),n=e[0],r=this._accounts[h()(n)];if(1===e.length)return r;const i=await this._accountStore.fetchAccount(t.account,r);return this.parseAccountValue(i,e.slice(1))}parseAccountValue(t,e){let n;for(;e.length>0;)n=t[h()(e[0])],e=e.slice(1);return n}toBufferValue(t,e){switch(t){case"u8":return Wt.from([e]);case"u16":let n=Wt.alloc(2);return n.writeUInt16LE(e),n;case"u32":let r=Wt.alloc(4);return r.writeUInt32LE(e),r;case"u64":let i=Wt.alloc(8);return i.writeBigUInt64LE(BigInt(e)),i;case"string":return Wt.from(Yt(e));case"publicKey":return e.toBuffer();default:if(t.array)return Wt.from(e);throw new Error(`Unexpected seed type: ${t}`)}}}Nn.CONST_ACCOUNTS={systemProgram:o.SystemProgram.programId,tokenProgram:Tn,associatedTokenProgram:In,rent:o.SYSVAR_RENT_PUBKEY};class zn{constructor(t,e){this._provider=t,this._accounts=e,this._cache=new Map}async fetchAccount(t,e){const n=e.toString();if(!this._cache.has(n))if("TokenAccount"===t){const t=await this._provider.connection.getAccountInfo(e);if(null===t)throw new Error(`invalid account info for ${n}`);const r=Rn().accounts.decode("token",t.data);this._cache.set(n,r)}else{const r=this._accounts[h()(t)].fetch(e);this._cache.set(n,r)}return this._cache.get(n)}}var jn=n(9910),Fn=n(8764).Buffer,qn=Object.defineProperty;Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var Kn=new jn({max:1e3,maxSize:1e3,sizeCalculation:()=>1,ttl:18e5,updateAgeOnGet:!0});function Vn(t,e){const n=t.map((t=>t.toString("base64"))).join(""),r=Kn.get(n);if(r)return r;const[i,o]=Cn.publicKey.findProgramAddressSync(t,e),a={publicKey:i,bump:o};return Kn.set(n,a),{publicKey:i,bump:o}}new o.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");function $n(t,e,n){return Vn([Fn.from("tick_array"),e.toBuffer(),Fn.from(n.toString())],t)}var Gn={};((t,e)=>{for(var n in e)qn(t,n,{get:e[n],enumerable:!0})})(Gn,{accounts:()=>Yn,default:()=>Qn,errors:()=>Zn,instructions:()=>Xn,name:()=>Hn,types:()=>Jn,version:()=>Wn});var Wn="0.1.0",Hn="whirlpool",Xn=[{name:"initializeConfig",accounts:[{name:"config",isMut:!0,isSigner:!0},{name:"funder",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"feeAuthority",type:"publicKey"},{name:"collectProtocolFeesAuthority",type:"publicKey"},{name:"rewardEmissionsSuperAuthority",type:"publicKey"},{name:"defaultProtocolFeeRate",type:"u16"}]},{name:"initializePool",accounts:[{name:"whirlpoolsConfig",isMut:!1,isSigner:!1},{name:"tokenMintA",isMut:!1,isSigner:!1},{name:"tokenMintB",isMut:!1,isSigner:!1},{name:"funder",isMut:!0,isSigner:!0},{name:"whirlpool",isMut:!0,isSigner:!1},{name:"tokenVaultA",isMut:!0,isSigner:!0},{name:"tokenVaultB",isMut:!0,isSigner:!0},{name:"feeTier",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"bumps",type:{defined:"WhirlpoolBumps"}},{name:"tickSpacing",type:"u16"},{name:"initialSqrtPrice",type:"u128"}]},{name:"initializeTickArray",accounts:[{name:"whirlpool",isMut:!1,isSigner:!1},{name:"funder",isMut:!0,isSigner:!0},{name:"tickArray",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"startTickIndex",type:"i32"}]},{name:"initializeFeeTier",accounts:[{name:"config",isMut:!1,isSigner:!1},{name:"feeTier",isMut:!0,isSigner:!1},{name:"funder",isMut:!0,isSigner:!0},{name:"feeAuthority",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"tickSpacing",type:"u16"},{name:"defaultFeeRate",type:"u16"}]},{name:"initializeReward",accounts:[{name:"rewardAuthority",isMut:!1,isSigner:!0},{name:"funder",isMut:!0,isSigner:!0},{name:"whirlpool",isMut:!0,isSigner:!1},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"rewardVault",isMut:!0,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"rewardIndex",type:"u8"}]},{name:"setRewardEmissions",accounts:[{name:"whirlpool",isMut:!0,isSigner:!1},{name:"rewardAuthority",isMut:!1,isSigner:!0},{name:"rewardVault",isMut:!1,isSigner:!1}],args:[{name:"rewardIndex",type:"u8"},{name:"emissionsPerSecondX64",type:"u128"}]},{name:"openPosition",accounts:[{name:"funder",isMut:!0,isSigner:!0},{name:"owner",isMut:!1,isSigner:!1},{name:"position",isMut:!0,isSigner:!1},{name:"positionMint",isMut:!0,isSigner:!0},{name:"positionTokenAccount",isMut:!0,isSigner:!1},{name:"whirlpool",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"bumps",type:{defined:"OpenPositionBumps"}},{name:"tickLowerIndex",type:"i32"},{name:"tickUpperIndex",type:"i32"}]},{name:"openPositionWithMetadata",accounts:[{name:"funder",isMut:!0,isSigner:!0},{name:"owner",isMut:!1,isSigner:!1},{name:"position",isMut:!0,isSigner:!1},{name:"positionMint",isMut:!0,isSigner:!0},{name:"positionMetadataAccount",isMut:!0,isSigner:!1},{name:"positionTokenAccount",isMut:!0,isSigner:!1},{name:"whirlpool",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"metadataProgram",isMut:!1,isSigner:!1},{name:"metadataUpdateAuth",isMut:!1,isSigner:!1}],args:[{name:"bumps",type:{defined:"OpenPositionWithMetadataBumps"}},{name:"tickLowerIndex",type:"i32"},{name:"tickUpperIndex",type:"i32"}]},{name:"increaseLiquidity",accounts:[{name:"whirlpool",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"positionAuthority",isMut:!1,isSigner:!0},{name:"position",isMut:!0,isSigner:!1},{name:"positionTokenAccount",isMut:!1,isSigner:!1},{name:"tokenOwnerAccountA",isMut:!0,isSigner:!1},{name:"tokenOwnerAccountB",isMut:!0,isSigner:!1},{name:"tokenVaultA",isMut:!0,isSigner:!1},{name:"tokenVaultB",isMut:!0,isSigner:!1},{name:"tickArrayLower",isMut:!0,isSigner:!1},{name:"tickArrayUpper",isMut:!0,isSigner:!1}],args:[{name:"liquidityAmount",type:"u128"},{name:"tokenMaxA",type:"u64"},{name:"tokenMaxB",type:"u64"}]},{name:"decreaseLiquidity",accounts:[{name:"whirlpool",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"positionAuthority",isMut:!1,isSigner:!0},{name:"position",isMut:!0,isSigner:!1},{name:"positionTokenAccount",isMut:!1,isSigner:!1},{name:"tokenOwnerAccountA",isMut:!0,isSigner:!1},{name:"tokenOwnerAccountB",isMut:!0,isSigner:!1},{name:"tokenVaultA",isMut:!0,isSigner:!1},{name:"tokenVaultB",isMut:!0,isSigner:!1},{name:"tickArrayLower",isMut:!0,isSigner:!1},{name:"tickArrayUpper",isMut:!0,isSigner:!1}],args:[{name:"liquidityAmount",type:"u128"},{name:"tokenMinA",type:"u64"},{name:"tokenMinB",type:"u64"}]},{name:"updateFeesAndRewards",accounts:[{name:"whirlpool",isMut:!0,isSigner:!1},{name:"position",isMut:!0,isSigner:!1},{name:"tickArrayLower",isMut:!1,isSigner:!1},{name:"tickArrayUpper",isMut:!1,isSigner:!1}],args:[]},{name:"collectFees",accounts:[{name:"whirlpool",isMut:!1,isSigner:!1},{name:"positionAuthority",isMut:!1,isSigner:!0},{name:"position",isMut:!0,isSigner:!1},{name:"positionTokenAccount",isMut:!1,isSigner:!1},{name:"tokenOwnerAccountA",isMut:!0,isSigner:!1},{name:"tokenVaultA",isMut:!0,isSigner:!1},{name:"tokenOwnerAccountB",isMut:!0,isSigner:!1},{name:"tokenVaultB",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"collectReward",accounts:[{name:"whirlpool",isMut:!1,isSigner:!1},{name:"positionAuthority",isMut:!1,isSigner:!0},{name:"position",isMut:!0,isSigner:!1},{name:"positionTokenAccount",isMut:!1,isSigner:!1},{name:"rewardOwnerAccount",isMut:!0,isSigner:!1},{name:"rewardVault",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"rewardIndex",type:"u8"}]},{name:"collectProtocolFees",accounts:[{name:"whirlpoolsConfig",isMut:!1,isSigner:!1},{name:"whirlpool",isMut:!0,isSigner:!1},{name:"collectProtocolFeesAuthority",isMut:!1,isSigner:!0},{name:"tokenVaultA",isMut:!0,isSigner:!1},{name:"tokenVaultB",isMut:!0,isSigner:!1},{name:"tokenDestinationA",isMut:!0,isSigner:!1},{name:"tokenDestinationB",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"swap",accounts:[{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"tokenAuthority",isMut:!1,isSigner:!0},{name:"whirlpool",isMut:!0,isSigner:!1},{name:"tokenOwnerAccountA",isMut:!0,isSigner:!1},{name:"tokenVaultA",isMut:!0,isSigner:!1},{name:"tokenOwnerAccountB",isMut:!0,isSigner:!1},{name:"tokenVaultB",isMut:!0,isSigner:!1},{name:"tickArray0",isMut:!0,isSigner:!1},{name:"tickArray1",isMut:!0,isSigner:!1},{name:"tickArray2",isMut:!0,isSigner:!1},{name:"oracle",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"},{name:"otherAmountThreshold",type:"u64"},{name:"sqrtPriceLimit",type:"u128"},{name:"exactInput",type:"bool"},{name:"aToB",type:"bool"}]},{name:"closePosition",accounts:[{name:"positionAuthority",isMut:!1,isSigner:!0},{name:"receiver",isMut:!0,isSigner:!1},{name:"position",isMut:!0,isSigner:!1},{name:"positionMint",isMut:!0,isSigner:!1},{name:"positionTokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"setDefaultFeeRate",accounts:[{name:"whirlpoolsConfig",isMut:!1,isSigner:!1},{name:"feeTier",isMut:!0,isSigner:!1},{name:"feeAuthority",isMut:!1,isSigner:!0}],args:[{name:"defaultFeeRate",type:"u16"}]},{name:"setDefaultProtocolFeeRate",accounts:[{name:"whirlpoolsConfig",isMut:!0,isSigner:!1},{name:"feeAuthority",isMut:!1,isSigner:!0}],args:[{name:"defaultProtocolFeeRate",type:"u16"}]},{name:"setFeeRate",accounts:[{name:"whirlpoolsConfig",isMut:!1,isSigner:!1},{name:"whirlpool",isMut:!0,isSigner:!1},{name:"feeAuthority",isMut:!1,isSigner:!0}],args:[{name:"feeRate",type:"u16"}]},{name:"setProtocolFeeRate",accounts:[{name:"whirlpoolsConfig",isMut:!1,isSigner:!1},{name:"whirlpool",isMut:!0,isSigner:!1},{name:"feeAuthority",isMut:!1,isSigner:!0}],args:[{name:"protocolFeeRate",type:"u16"}]},{name:"setFeeAuthority",accounts:[{name:"whirlpoolsConfig",isMut:!0,isSigner:!1},{name:"feeAuthority",isMut:!1,isSigner:!0},{name:"newFeeAuthority",isMut:!1,isSigner:!1}],args:[]},{name:"setCollectProtocolFeesAuthority",accounts:[{name:"whirlpoolsConfig",isMut:!0,isSigner:!1},{name:"collectProtocolFeesAuthority",isMut:!1,isSigner:!0},{name:"newCollectProtocolFeesAuthority",isMut:!1,isSigner:!1}],args:[]},{name:"setRewardAuthority",accounts:[{name:"whirlpool",isMut:!0,isSigner:!1},{name:"rewardAuthority",isMut:!1,isSigner:!0},{name:"newRewardAuthority",isMut:!1,isSigner:!1}],args:[{name:"rewardIndex",type:"u8"}]},{name:"setRewardAuthorityBySuperAuthority",accounts:[{name:"whirlpoolsConfig",isMut:!1,isSigner:!1},{name:"whirlpool",isMut:!0,isSigner:!1},{name:"rewardEmissionsSuperAuthority",isMut:!1,isSigner:!0},{name:"newRewardAuthority",isMut:!1,isSigner:!1}],args:[{name:"rewardIndex",type:"u8"}]},{name:"setRewardEmissionsSuperAuthority",accounts:[{name:"whirlpoolsConfig",isMut:!0,isSigner:!1},{name:"rewardEmissionsSuperAuthority",isMut:!1,isSigner:!0},{name:"newRewardEmissionsSuperAuthority",isMut:!1,isSigner:!1}],args:[]}],Yn=[{name:"WhirlpoolsConfig",type:{kind:"struct",fields:[{name:"feeAuthority",type:"publicKey"},{name:"collectProtocolFeesAuthority",type:"publicKey"},{name:"rewardEmissionsSuperAuthority",type:"publicKey"},{name:"defaultProtocolFeeRate",type:"u16"}]}},{name:"FeeTier",type:{kind:"struct",fields:[{name:"whirlpoolsConfig",type:"publicKey"},{name:"tickSpacing",type:"u16"},{name:"defaultFeeRate",type:"u16"}]}},{name:"Position",type:{kind:"struct",fields:[{name:"whirlpool",type:"publicKey"},{name:"positionMint",type:"publicKey"},{name:"liquidity",type:"u128"},{name:"tickLowerIndex",type:"i32"},{name:"tickUpperIndex",type:"i32"},{name:"feeGrowthCheckpointA",type:"u128"},{name:"feeOwedA",type:"u64"},{name:"feeGrowthCheckpointB",type:"u128"},{name:"feeOwedB",type:"u64"},{name:"rewardInfos",type:{array:[{defined:"PositionRewardInfo"},3]}}]}},{name:"TickArray",type:{kind:"struct",fields:[{name:"startTickIndex",type:"i32"},{name:"ticks",type:{array:[{defined:"Tick"},88]}},{name:"whirlpool",type:"publicKey"}]}},{name:"Whirlpool",type:{kind:"struct",fields:[{name:"whirlpoolsConfig",type:"publicKey"},{name:"whirlpoolBump",type:{array:["u8",1]}},{name:"tickSpacing",type:"u16"},{name:"tickSpacingSeed",type:{array:["u8",2]}},{name:"feeRate",type:"u16"},{name:"protocolFeeRate",type:"u16"},{name:"liquidity",type:"u128"},{name:"sqrtPrice",type:"u128"},{name:"tickCurrentIndex",type:"i32"},{name:"protocolFeeOwedA",type:"u64"},{name:"protocolFeeOwedB",type:"u64"},{name:"tokenMintA",type:"publicKey"},{name:"tokenVaultA",type:"publicKey"},{name:"feeGrowthGlobalA",type:"u128"},{name:"tokenMintB",type:"publicKey"},{name:"tokenVaultB",type:"publicKey"},{name:"feeGrowthGlobalB",type:"u128"},{name:"rewardLastUpdatedTimestamp",type:"u64"},{name:"rewardInfos",type:{array:[{defined:"WhirlpoolRewardInfo"},3]}}]}}],Jn=[{name:"OpenPositionBumps",type:{kind:"struct",fields:[{name:"positionBump",type:"u8"}]}},{name:"OpenPositionWithMetadataBumps",type:{kind:"struct",fields:[{name:"positionBump",type:"u8"},{name:"metadataBump",type:"u8"}]}},{name:"PositionRewardInfo",type:{kind:"struct",fields:[{name:"growthInsideCheckpoint",type:"u128"},{name:"amountOwed",type:"u64"}]}},{name:"Tick",type:{kind:"struct",fields:[{name:"initialized",type:"bool"},{name:"liquidityNet",type:"i128"},{name:"liquidityGross",type:"u128"},{name:"feeGrowthOutsideA",type:"u128"},{name:"feeGrowthOutsideB",type:"u128"},{name:"rewardGrowthsOutside",type:{array:["u128",3]}}]}},{name:"WhirlpoolRewardInfo",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"vault",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"emissionsPerSecondX64",type:"u128"},{name:"growthGlobalX64",type:"u128"}]}},{name:"WhirlpoolBumps",type:{kind:"struct",fields:[{name:"whirlpoolBump",type:"u8"}]}},{name:"CurrIndex",type:{kind:"enum",variants:[{name:"Below"},{name:"Inside"},{name:"Above"}]}},{name:"TickLabel",type:{kind:"enum",variants:[{name:"Upper"},{name:"Lower"}]}},{name:"Direction",type:{kind:"enum",variants:[{name:"Left"},{name:"Right"}]}}],Zn=[{code:6e3,name:"InvalidEnum",msg:"Enum value could not be converted"},{code:6001,name:"InvalidStartTick",msg:"Invalid start tick index provided."},{code:6002,name:"TickArrayExistInPool",msg:"Tick-array already exists in this whirlpool"},{code:6003,name:"TickArrayIndexOutofBounds",msg:"Attempt to search for a tick-array failed"},{code:6004,name:"InvalidTickSpacing",msg:"Tick-spacing is not supported"},{code:6005,name:"ClosePositionNotEmpty",msg:"Position is not empty It cannot be closed"},{code:6006,name:"DivideByZero",msg:"Unable to divide by zero"},{code:6007,name:"NumberCastError",msg:"Unable to cast number into BigInt"},{code:6008,name:"NumberDownCastError",msg:"Unable to down cast number"},{code:6009,name:"TickNotFound",msg:"Tick not found within tick array"},{code:6010,name:"InvalidTickIndex",msg:"Provided tick index is either out of bounds or uninitializable"},{code:6011,name:"SqrtPriceOutOfBounds",msg:"Provided sqrt price out of bounds"},{code:6012,name:"LiquidityZero",msg:"Liquidity amount must be greater than zero"},{code:6013,name:"LiquidityTooHigh",msg:"Liquidity amount must be less than i64::MAX"},{code:6014,name:"LiquidityOverflow",msg:"Liquidity overflow"},{code:6015,name:"LiquidityUnderflow",msg:"Liquidity underflow"},{code:6016,name:"LiquidityNetError",msg:"Tick liquidity net underflowed or overflowed"},{code:6017,name:"TokenMaxExceeded",msg:"Exceeded token max"},{code:6018,name:"TokenMinSubceeded",msg:"Did not meet token min"},{code:6019,name:"MissingOrInvalidDelegate",msg:"Position token account has a missing or invalid delegate"},{code:6020,name:"InvalidPositionTokenAmount",msg:"Position token amount must be 1"},{code:6021,name:"InvalidTimestampConversion",msg:"Timestamp should be convertible from i64 to u64"},{code:6022,name:"InvalidTimestamp",msg:"Timestamp should be greater than the last updated timestamp"},{code:6023,name:"InvalidTickArraySequence",msg:"Invalid tick array sequence provided for instruction."},{code:6024,name:"InvalidTokenMintOrder",msg:"Token Mint in wrong order"},{code:6025,name:"RewardNotInitialized",msg:"Reward not initialized"},{code:6026,name:"InvalidRewardIndex",msg:"Invalid reward index"},{code:6027,name:"RewardVaultAmountInsufficient",msg:"Reward vault requires amount to support emissions for at least one day"},{code:6028,name:"FeeRateMaxExceeded",msg:"Exceeded max fee rate"},{code:6029,name:"ProtocolFeeRateMaxExceeded",msg:"Exceeded max protocol fee rate"},{code:6030,name:"MultiplicationShiftRightOverflow",msg:"Multiplication with shift right overflow"},{code:6031,name:"MulDivOverflow",msg:"Muldiv overflow"},{code:6032,name:"MulDivInvalidInput",msg:"Invalid div_u256 input"},{code:6033,name:"MultiplicationOverflow",msg:"Multiplication overflow"},{code:6034,name:"InvalidSqrtPriceLimitDirection",msg:"Provided SqrtPriceLimit not in the same direction as the swap."},{code:6035,name:"ZeroTradableAmount",msg:"There are no tradable amount to swap."},{code:6036,name:"AmountOutBelowMinimum",msg:"Amount out below minimum threshold"},{code:6037,name:"AmountInAboveMaximum",msg:"Amount in above maximum threshold"}],Qn={version:Wn,name:Hn,instructions:Xn,accounts:Yn,types:Jn,errors:Zn},tr=new xe(Gn);function er(t){return or("WhirlpoolsConfig",t)}function nr(t){return or("Whirlpool",t)}function rr(t){return or("Position",t)}function ir(t){return or("TickArray",t)}function or(t,e){if(Se.accountDiscriminator(t).compare(e.slice(0,8)))return console.error("incorrect account name during parsing"),null;try{return tr.accounts.decode(t,e)}catch(n){return console.error("unknown account name during parsing"),null}}var ar=443636,sr=-443636,ur=88,cr="79226673515401279992447579055",lr="4295048016";function dr(t){if(t>ar||t<sr)throw new Error("Provided tick index does not fit within supported tick index range.");return t>0?new(u())(function(t){let e;e=0!=(1&t)?new(u())("79232123823359799118286999567"):new(u())("79228162514264337593543950336");0!=(2&t)&&(e=hr(e.mul(new(u())("79236085330515764027303304731")),96,256));0!=(4&t)&&(e=hr(e.mul(new(u())("79244008939048815603706035061")),96,256));0!=(8&t)&&(e=hr(e.mul(new(u())("79259858533276714757314932305")),96,256));0!=(16&t)&&(e=hr(e.mul(new(u())("79291567232598584799939703904")),96,256));0!=(32&t)&&(e=hr(e.mul(new(u())("79355022692464371645785046466")),96,256));0!=(64&t)&&(e=hr(e.mul(new(u())("79482085999252804386437311141")),96,256));0!=(128&t)&&(e=hr(e.mul(new(u())("79736823300114093921829183326")),96,256));0!=(256&t)&&(e=hr(e.mul(new(u())("80248749790819932309965073892")),96,256));0!=(512&t)&&(e=hr(e.mul(new(u())("81282483887344747381513967011")),96,256));0!=(1024&t)&&(e=hr(e.mul(new(u())("83390072131320151908154831281")),96,256));0!=(2048&t)&&(e=hr(e.mul(new(u())("87770609709833776024991924138")),96,256));0!=(4096&t)&&(e=hr(e.mul(new(u())("97234110755111693312479820773")),96,256));0!=(8192&t)&&(e=hr(e.mul(new(u())("119332217159966728226237229890")),96,256));0!=(16384&t)&&(e=hr(e.mul(new(u())("179736315981702064433883588727")),96,256));0!=(32768&t)&&(e=hr(e.mul(new(u())("407748233172238350107850275304")),96,256));0!=(65536&t)&&(e=hr(e.mul(new(u())("2098478828474011932436660412517")),96,256));0!=(131072&t)&&(e=hr(e.mul(new(u())("55581415166113811149459800483533")),96,256));0!=(262144&t)&&(e=hr(e.mul(new(u())("38992368544603139932233054999993551")),96,256));return hr(e,32,256)}(t)):new(u())(function(t){let e,n=Math.abs(t);e=0!=(1&n)?new(u())("18445821805675392311"):new(u())("18446744073709551616");0!=(2&n)&&(e=hr(e.mul(new(u())("18444899583751176498")),64,256));0!=(4&n)&&(e=hr(e.mul(new(u())("18443055278223354162")),64,256));0!=(8&n)&&(e=hr(e.mul(new(u())("18439367220385604838")),64,256));0!=(16&n)&&(e=hr(e.mul(new(u())("18431993317065449817")),64,256));0!=(32&n)&&(e=hr(e.mul(new(u())("18417254355718160513")),64,256));0!=(64&n)&&(e=hr(e.mul(new(u())("18387811781193591352")),64,256));0!=(128&n)&&(e=hr(e.mul(new(u())("18329067761203520168")),64,256));0!=(256&n)&&(e=hr(e.mul(new(u())("18212142134806087854")),64,256));0!=(512&n)&&(e=hr(e.mul(new(u())("17980523815641551639")),64,256));0!=(1024&n)&&(e=hr(e.mul(new(u())("17526086738831147013")),64,256));0!=(2048&n)&&(e=hr(e.mul(new(u())("16651378430235024244")),64,256));0!=(4096&n)&&(e=hr(e.mul(new(u())("15030750278693429944")),64,256));0!=(8192&n)&&(e=hr(e.mul(new(u())("12247334978882834399")),64,256));0!=(16384&n)&&(e=hr(e.mul(new(u())("8131365268884726200")),64,256));0!=(32768&n)&&(e=hr(e.mul(new(u())("3584323654723342297")),64,256));0!=(65536&n)&&(e=hr(e.mul(new(u())("696457651847595233")),64,256));0!=(131072&n)&&(e=hr(e.mul(new(u())("26294789957452057")),64,256));0!=(262144&n)&&(e=hr(e.mul(new(u())("37481735321082")),64,256));return e}(t))}function fr(t){if(t.gt(new(u())(cr))||t.lt(new(u())(lr)))throw new Error("Provided sqrtPrice is not within the supported sqrtPrice range.");const e=t.bitLength()-1,n=function(t,e,n){let r=t.toTwos(n).shln(e);return r.imaskn(n+1),r.fromTwos(n)}(new(u())(e-64),32,128);let r=new(u())("8000000000000000","hex"),i=0,o=new(u())(0),a=e>=64?t.shrn(e-63):t.shln(63-e);for(;r.gt(new(u())(0))&&i<14;){a=a.mul(a);let t=a.shrn(127);a=a.shrn(63+t.toNumber()),o=o.add(r.mul(t)),r=r.shrn(1),i+=1}const s=o.shrn(32),c=n.add(s).mul(new(u())("59543866431248")),l=hr(c.sub(new(u())("184467440737095516")),64,128).toNumber(),d=hr(c.add(new(u())("15793534762490258745")),64,128).toNumber();if(l==d)return l;return dr(d).lte(t)?d:l}function hr(t,e,n){let r=t.toTwos(n).shrn(e);return r.imaskn(n-e+1),r.fromTwos(n-e)}i.Decimal.set({precision:40,toExpPos:40,toExpNeg:-20,rounding:1});var pr=n(2177),mr=(n(2303),n(8764).Buffer),yr=Object.defineProperty,gr=Object.getOwnPropertyDescriptor,vr=(Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,(t,e,n,r)=>{for(var i,o=r>1?void 0:r?gr(e,n):e,a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r?i(e,n,o):i(o))||o);return r&&o&&yr(e,n,o),o});function wr(t){return Et(t)}var br=t=>{if(!t)return null;const e=r.AccountLayout.decode(t);return e.mint=new o.PublicKey(e.mint),e.owner=new o.PublicKey(e.owner),e.amount=r.u64.fromBuffer(e.amount),0===e.delegateOption?(e.delegate=null,e.delegatedAmount=new r.u64(0)):(e.delegate=new o.PublicKey(e.delegate),e.delegatedAmount=r.u64.fromBuffer(e.delegatedAmount)),e.isInitialized=0!==e.state,e.isFrozen=2===e.state,1===e.isNativeOption?(e.rentExemptReserve=r.u64.fromBuffer(e.isNative),e.isNative=!0):(e.rentExemptReserve=null,e.isNative=!1),0===e.closeAuthorityOption?e.closeAuthority=null:e.closeAuthority=new o.PublicKey(e.closeAuthority),e};var _r=class{constructor(t,e){this.toString=()=>`${this.numerator.toString()}/${this.denominator.toString()}`,this.numerator=t,this.denominator=e}static fromDecimal(t){return _r.fromFraction(t.toDecimalPlaces(1).mul(10).toNumber(),1e3)}static fromFraction(t,e){const n="number"===typeof t?new r.u64(t.toString()):t,i="number"===typeof e?new r.u64(e.toString()):e;return new _r(n,i)}toDecimal(){return this.denominator.eq(new r.u64(0))?new i(0):new i(this.numerator.toString()).div(new i(this.denominator.toString()))}add(t){const e=this.denominator.gcd(t.denominator),n=this.denominator.div(e).mul(t.denominator),i=n.div(this.denominator),o=n.div(t.denominator),a=this.numerator.mul(i),s=t.numerator.mul(o),u=a.add(s);return new _r(new r.u64(u.toString()),new r.u64(n.toString()))}},Ar=_r.fromFraction(1,1e3);_r.fromFraction(0,1e3);var Sr=class{constructor(){}static parse(t){if(!t)return null;try{return er(t)}catch(e){return console.error(`error while parsing WhirlpoolsConfig: ${e}`),null}}};Sr=vr([t=>{}],Sr);var Er=class{constructor(){}static parse(t){if(!t)return null;try{return nr(t)}catch(e){return console.error(`error while parsing Whirlpool: ${e}`),null}}};Er=vr([t=>{}],Er);var kr=class{constructor(){}static parse(t){if(!t)return null;try{return rr(t)}catch(e){return console.error(`error while parsing Position: ${e}`),null}}};kr=vr([t=>{}],kr);var Tr=class{constructor(){}static parse(t){if(!t)return null;try{return ir(t)}catch(e){return console.error(`error while parsing TickArray: ${e}`),null}}};Tr=vr([t=>{}],Tr);var Ir=class{constructor(){}static parse(t){if(!t)return null;try{return br(t)}catch(e){return console.error(`error while parsing TokenAccount: ${e}`),null}}};Ir=vr([t=>{}],Ir);var xr=class{constructor(){}static parse(t){if(!t)return null;try{const e=r.MintLayout.decode(t);return{mintAuthority:0===e.mintAuthorityOption?null:new o.PublicKey(e.mintAuthority),supply:r.u64.fromBuffer(e.supply),decimals:e.decimals,isInitialized:0!==e.isInitialized,freezeAuthority:0===e.freezeAuthority?null:new o.PublicKey(e.freezeAuthority)}}catch(e){return console.error(`error while parsing MintInfo: ${e}`),null}}};xr=vr([t=>{}],xr);var Pr=new(u())(0),Mr=new(u())(1),Br=new(u())(2),Or=(Br.pow(new(u())(128)),Br.pow(new(u())(64)).sub(Mr));function Lr(t){let e=t.shrn(64);return t.mod(Or).gt(Pr)&&(e=e.add(Mr)),e}function Dr(t,e){return!t.mod(e).eq(Pr)?t.div(e).add(new(u())(1)):t.div(e)}var Cr=class{constructor(){}static isRewardInitialized(t){return!o.PublicKey.default.equals(t.mint)&&!o.PublicKey.default.equals(t.vault)}static getFeeRate(t){return _r.fromFraction(t,1e6)}static getProtocolFeeRate(t){return _r.fromFraction(t,1e4)}static orderMints(t,e){let n,r;return mr.compare(wr(t).toBuffer(),wr(e).toBuffer())<0?(n=t,r=e):(n=e,r=t),[n,r]}},Rr=class{constructor(){}static toValid(t,e){return t-t%e}static getTick(t,e,n){const r=Rr.tickIndexToTickArrayIndex(t,e,n),i=t.ticks[r];return(0,pr.default)(!!i,"tick realIndex out of range"),i}static getLowerAndUpperTickArrayAddresses(t,e,n,r,i){return[Rr.getPdaWithTickIndex(t,n,r,i).publicKey,Rr.getPdaWithTickIndex(e,n,r,i).publicKey]}static getPdaWithTickIndex(t,e,n,r,i=0){const o=Rr.getStartTickIndex(t,e,i);return $n(wr(r),wr(n),o)}static getPDAWithSqrtPrice(t,e,n,r,i=0){const o=fr(t);return Rr.getPdaWithTickIndex(o,e,n,r,i)}static getStartTickIndex(t,e,n=0){const r=(Math.floor(t/e/ur)+n)*e*ur,i=ur*e,o=sr-(sr%i+i);return(0,pr.default)(r>=o,"startTickIndex is too small"),(0,pr.default)(r<=ar,"startTickIndex is too large"),r}static getPrevInitializedTickIndex(t,e,n){return Rr.findInitializedTick(t,e,n,0)}static getNextInitializedTickIndex(t,e,n){return Rr.findInitializedTick(t,e,n,1)}static findInitializedTick(t,e,n,r){var i;const o=Rr.tickIndexToTickArrayIndex(t,e,n),a=1===r?1:-1;let s=1===r?o+a:o;for(;s>=0&&s<t.ticks.length;){if(null==(i=t.ticks[s])?void 0:i.initialized)return Rr.tickArrayIndexToTickIndex(t,s,n);s+=a}return null}static tickIndexToTickArrayIndex({startTickIndex:t},e,n){return Math.floor((e-t)/n)}static tickArrayIndexToTickIndex({startTickIndex:t},e,n){return t+e*n}static getNextInitializableTickIndex(t,e,n){return n?t:t+e}};function Ur(t,e){return t.mul(e.denominator.sub(e.numerator)).div(e.denominator)}function Nr(t,e){return Dr(t.mul(e.numerator),e.denominator.sub(e.numerator))}function zr(t,e,n){return"Swap A to B"==n&&(e=e.neg()),t.add(e)}function jr(t,e,n){return"Specified input amount"==n?[t,e]:[e,t]}function Fr(t,e,{numerator:n,denominator:r},i){return"Specified input amount"===i?e.mul(r).div(r.add(n)):t.mul(r.add(n)).div(r)}function qr(t,e){return t.lt(e)?[t,e]:[e,t]}function Kr(t,e,n,r){const[i,o]=qr(e,n),a=t.mul(o.sub(i)).shln(64),s=o.mul(i);return r?Dr(a,s):a.div(s)}function Vr(t,e,n,r){const[i,o]=qr(e,n),a=t.mul(o.sub(i));return r?Lr(a):a.shrn(64)}function $r(t,e,n,r,i){return"Specified input amount"==r==("Swap A to B"==i)?Kr(n,t,e,"Specified input amount"==r):Vr(n,t,e,"Specified input amount"==r)}function Gr(t,e,n,r,i){return"Specified input amount"==r==("Swap A to B"==i)?Vr(n,t,e,"Specified output amount"==r):Kr(n,t,e,"Specified output amount"==r)}function Wr(t,e,n,r,i){return"Specified input amount"===r&&"Swap A to B"===i?function(t,e,n){return Dr(e.mul(n).shln(64),e.shln(64).add(t.mul(n)))}(n,e,t):"Specified output amount"===r&&"Swap B to A"===i?function(t,e,n){return Dr(e.mul(n).shln(64),e.shln(64).sub(t.mul(n)))}(n,e,t):"Specified input amount"===r&&"Swap B to A"===i?function(t,e,n){return n.add(t.shln(64).div(e))}(n,e,t):function(t,e,n){return n.sub(Dr(t.shln(64),e))}(n,e,t)}i.set({precision:40,toExpPos:40,toExpNeg:-20,rounding:1});var Hr=new o.PublicKey("whirLbMiicVdio4qvUfM5KAg6Ct8VwpYzGff3uctyCc");function Xr(t){const{poolAddress:e,whirlpool:n,tickArrays:r,tokenMint:i,tokenAmount:o,isInput:a,slippageTolerance:u=Ar}=t,c=i.equals(n.tokenMintA)===a?"Swap A to B":"Swap B to A",l=a?"Specified input amount":"Specified output amount",{amountIn:d,amountOut:f,sqrtPriceLimitX64:h}=function(t,e){const{amountSpecified:n,swapDirection:r}=t;let{currentTickIndex:i,currentLiquidity:o,amount:a,currentSqrtPriceX64:u}=e;(0,pr.default)(!a.eq(Pr),"amount must be nonzero");let c,l=Pr,d=0;for(;a.gt(Pr);){if(d>2)throw Error("Crossed the maximum number of tick arrays");const e=Zr(t,{sqrtPriceX64:u,amountRemaining:a,tickIndex:i,liquidity:o,tickArraysCrossed:d}),{input:s,output:f,nextSqrtPriceX64:h,nextTickIndex:p,hasReachedNextTick:m}=e,[y,g]=jr(s,f,n);if(a=a.sub(y),l=l.add(g),m){o=zr(o,Yr(t,p).liquidityNet,r),i="Swap A to B"==r?p-1:p}u=h,d=e.tickArraysCrossed,d>2&&(c=dr(p))}const[f,h]=jr(e.amount.sub(a),l,n);c||(c=new s("Swap A to B"===r?lr:cr));return{amountIn:f,amountOut:h,sqrtPriceLimitX64:c}}({poolAddress:e,whirlpoolData:n,tickArrays:r,amountSpecified:l,swapDirection:c},{amount:o,currentSqrtPriceX64:n.sqrtPrice,currentTickIndex:n.tickCurrentIndex,currentLiquidity:n.liquidity});return{otherAmountThreshold:Fr(d,f,u,l),sqrtPriceLimitX64:h,amountIn:d,amountOut:f,aToB:"Swap A to B"===c,fixedInput:a}}function Yr(t,e){const n=Jr(t,e),{whirlpoolData:{tickSpacing:r}}=t;return Rr.getTick(n,e,r)}function Jr(t,e){const{poolAddress:n,whirlpoolData:{tickSpacing:r}}=t,i=Rr.getPdaWithTickIndex(e,r,n,Hr).publicKey,o=t.tickArrays.get(i.toBase58());return(0,pr.default)(!!o,"tickArray is null"),o}function Zr(t,e){const{whirlpoolData:n,amountSpecified:r,swapDirection:i}=t,{feeRate:o}=n,a=Cr.getFeeRate(o),{amountRemaining:s,liquidity:u,sqrtPriceX64:c,tickIndex:l,tickArraysCrossed:d}=e,{tickIndex:f,tickArraysCrossed:h}=function(t,e,n){const{whirlpoolData:{tickSpacing:r},swapDirection:i}=t;let o;for(;void 0===o;){const a=Jr(t,e);let s;s="Swap A to B"==i?Rr.getPrevInitializedTickIndex(a,e,r):Rr.getNextInitializedTickIndex(a,e,r),s?o=s:2===n?(o="Swap A to B"===i?a.startTickIndex:a.startTickIndex+ur*r,n++):(e="Swap A to B"===i?a.startTickIndex-1:a.startTickIndex+ur*r,n++)}return{tickIndex:o,tickArraysCrossed:n}}(t,l,d),p=dr(f);let m=$r(c,p,u,r,i),y=s;"Specified input amount"==r&&(y=Ur(s,a));const g=y.gte(m)?p:Wr(c,u,y,r,i),v=g.eq(p),w=Gr(c,g,u,r,i);v||(m=$r(c,g,u,r,i));let[b,_]=jr(m,w,r);return"Specified output amount"==r&&_.gt(s)&&(_=s),b="Specified input amount"!=r||v?b.add(Nr(b,a)):s,{nextTickIndex:f,nextSqrtPriceX64:g,input:b,output:_,tickArraysCrossed:h,hasReachedNextTick:v}}function Qr(t,e){const n=[];for(let r=-3;r<=2;r++){const i=Rr.getPdaWithTickIndex(e.tickCurrentIndex,e.tickSpacing,t,Hr,r).publicKey;n.push(i)}return n}function ti(t,e,n,r,i,a,s){const u=Rr.getNextInitializableTickIndex(t,n,s),c=fr(e);let l=Rr.getStartTickIndex(u,n);const d=Rr.getStartTickIndex(c,n),f=u<c?1:-1;let h=1;const p=[$n(a,r,l).publicKey,o.PublicKey.default,o.PublicKey.default];for(;l!=d&&h<3;){const t=Rr.getStartTickIndex(u,n,f*h),e=$n(a,r,t).publicKey;if(!i.get(e.toBase58()))break;p[h]=e,h++,l=t}for(;h<3;)p[h]=$n(a,r,l).publicKey,h++;return p}}}]);